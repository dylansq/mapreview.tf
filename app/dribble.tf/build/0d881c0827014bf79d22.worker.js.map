{"version":3,"sources":["../webpack/bootstrap","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass.js","../../../src/Data/Message.ts","../../../src/Data/Vector.ts","../../src/Math.ts","../../../src/Parser/readBitVar.ts","../../../src/Data/PacketEntity.ts","../../../src/Data/SendPropDefinition.ts","../node_modules/bit-buffer/bit-buffer.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/getPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray.js","../../../src/Data/SendProp.ts","../../../src/Data/Player.ts","../../../src/Data/Packet.ts","../../../src/Data/ParserState.ts","../../../src/Parser/SendPropParser.ts","../../../src/Data/Projectile.ts","../node_modules/buffer/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../../../src/Data/Match.ts","../../../src/PacketHandler/PacketEntities.ts","../../src/Parser.ts","../../../src/Parser/SendPropEncoder.ts","../../../src/Parser/StringTableParser.ts","../../../src/Parser/EntityDecoder.ts","../../../../src/Parser/Packet/ParserGenerator.ts","../../src/index.ts","../../src/Demo.ts","../node_modules/webpack/buildin/global.js","../node_modules/base64-js/index.js","../node_modules/ieee754/index.js","../node_modules/isarray/index.js","../../src/Analyser.ts","../node_modules/regenerator-runtime/runtime.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/events/events.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/nonIterableRest.js","../../../src/PacketHandler/GameEvent.ts","../../../src/PacketHandler/BaseEntityHandler.ts","../../../src/PacketHandler/HL2DMEntityHandler.ts","../../../src/PacketHandler/TFEntityHandler.ts","../../../src/PacketHandler/SayText2.ts","../../../src/PacketHandler/GameEventList.ts","../../../src/PacketHandler/StringTable.ts","../../../src/Parser/Header.ts","../../../../src/Parser/Message/ConsoleCmd.ts","../node_modules/text-encoding-shim/index.js","../../../../src/Parser/Message/Parser.ts","../../../../src/Parser/Message/DataTable.ts","../../../src/Data/SendTable.ts","../../../src/Data/ServerClass.ts","../../../../src/Parser/Message/Packet.ts","../../../../src/Parser/Packet/BSPDecal.ts","../../../../src/Parser/Packet/ClassInfo.ts","../../../../src/Parser/Packet/CreateStringTable.ts","../node_modules/snappyjs/index.js","../node_modules/process/browser.js","../node_modules/snappyjs/snappy_decompressor.js","../node_modules/snappyjs/snappy_compressor.js","../../../../src/Parser/Packet/GameEvent.ts","../../../src/Data/GameEvent.ts","../../../../src/Parser/Packet/GameEventList.ts","../../../../src/Parser/Packet/PacketEntities.ts","../../../../src/Parser/Packet/ParseSounds.ts","../../../../src/Parser/Packet/SetConVar.ts","../../../../src/Parser/Packet/TempEntities.ts","../../src/DynamicBitStream.ts","../../src/DynamicBitView.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/get.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/superPropBase.js","../../../../src/Parser/Packet/UpdateStringTable.ts","../../../../src/Parser/Packet/UserMessage.ts","../../../src/Data/UserMessage.ts","../../../../src/Parser/UserMessage/SayText2.ts","../../../../src/Parser/Packet/VoiceData.ts","../../../../src/Parser/Packet/VoiceInit.ts","../../../../src/Parser/Message/Stop.ts","../../../../src/Parser/Message/StringTable.ts","../../../../src/Parser/Message/SyncTick.ts","../../../../src/Parser/Message/UserCmd.ts","../../../src/Data/PlayerCondition.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","components/Analyse/MapBoundries.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js","components/Analyse/Data/DataCache.ts","components/Analyse/Data/PositionCache.ts","components/Analyse/Data/ViewAnglesCache.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/get.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/superPropBase.js","components/Analyse/Data/SparseDataCache.ts","components/Analyse/Data/Enums.ts","components/Analyse/Data/PlayerMetaCache.ts","components/Analyse/Data/HealthCache.ts","components/Analyse/Data/PlayerCache.ts","components/Analyse/Data/BuildingCache.ts","components/Analyse/Data/VectorCache.ts","components/Analyse/Data/ProjectileCache.ts","components/Analyse/Data/Parser.ts","components/Analyse/Data/ParseWorker.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","unsupportedIterableToArray","iterator","Array","isArray","F","length","done","e","_e","f","TypeError","it","err","normalCompletion","didErr","step","next","_e2","instance","Constructor","_defineProperties","target","props","descriptor","configurable","writable","protoProps","staticProps","this","root","BitView","source","byteOffset","byteLength","ArrayBuffer","Buffer","Error","_view","Uint8Array","buffer","bigEndian","_scratch","DataView","from","_setBit","offset","on","getBits","bits","signed","available","remaining","bitOffset","currentByte","read","Math","min","setBits","mask","writeBits","destMask","wrote","destShift","getBoolean","getInt8","getUint8","getInt16","getUint16","getInt32","getUint32","getFloat32","setUint32","getFloat64","setBoolean","setInt8","setUint8","setInt16","setUint16","setInt32","setFloat32","setFloat64","getArrayBuffer","reader","size","_index","_length","val","writer","readString","stream","bytes","utf8","chars","append","fixedLength","floor","readUint8","push","string","String","fromCharCode","apply","decodeURIComponent","escape","BitStream","isBuffer","_startIndex","set","ceil","readBits","readBoolean","readInt8","readInt16","readUint16","readInt32","readUint32","readFloat32","readFloat64","writeBoolean","writeInt8","writeUint8","writeInt16","writeUint16","writeInt32","writeUint32","writeFloat32","writeFloat64","readASCIIString","readUTF8String","writeASCIIString","charCodeAt","writeUTF8String","byteArray","str","unicode","b","stringToByteArray","readBitStream","bitLength","slice","writeBitStream","bitsToWrite","bitsLeft","readArrayBuffer","writeArrayBuffer","define","setPrototypeOf","subClass","superClass","constructor","getPrototypeOf","isNativeReflectConstruct","possibleConstructorReturn","Derived","result","Super","NewTarget","Reflect","construct","arguments","_getPrototypeOf","__proto__","arrayWithHoles","iterableToArrayLimit","nonIterableRest","arr","base64","require","ieee754","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","arg","encodingOrOffset","allocUnsafe","array","undefined","fromArrayLike","fromArrayBuffer","encoding","isEncoding","actual","write","fromString","obj","len","checked","copy","type","data","fromObject","assertSize","toString","isView","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","start","end","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","isNaN","arrayIndexOf","indexOf","lastIndexOf","indexSize","arrLength","valLength","buf","readUInt16BE","foundIndex","found","j","hexWrite","Number","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","fromByteArray","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","global","foo","subarray","typedArraySupport","poolSize","_augment","species","fill","allocUnsafeSlow","_isBuffer","compare","a","x","y","concat","list","pos","swap16","swap32","swap64","equals","inspect","max","match","join","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","ret","out","toHex","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","code","INVALID_BASE64_RE","Infinity","leadSurrogate","toByteArray","trim","replace","stringtrim","base64clean","src","dst","arrayLikeToArray","minLen","test","state","SendPropEncoder","prop","g","Function","window","b64","lens","getLens","validLen","placeHoldersLen","tmp","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","parts","len2","encodeChunk","lookup","num","output","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","abs","log","LN2","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","method","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","makeInvokeMethod","fn","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","resolve","reject","invoke","__await","then","unwrapped","error","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","async","Promise","iter","keys","reverse","pop","skipTempReset","prev","charAt","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","arr2","_setPrototypeOf","sham","Proxy","Date","_typeof","assertThisInitialized","ReferenceError","ReflectOwnKeys","R","ReflectApply","receiver","args","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","NumberIsNaN","EventEmitter","init","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","_getMaxListeners","_addListener","prepend","events","existing","warning","newListener","emit","unshift","warned","w","emitter","count","console","warn","onceWrapper","fired","removeListener","wrapFn","_onceWrap","wrapped","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","setMaxListeners","getMaxListeners","doError","er","message","handler","listeners","addListener","prependListener","once","prependOnceListener","position","originalListener","shift","index","spliceOne","off","removeAllListeners","rawListeners","eventNames","_n","_d","_s","_i","handleStringTableUpdate","GLOBAL","TextEncoder","TextDecoder","utf8Encodings","encode","binstr","unescape","encodeURIComponent","split","char","options","ignoreBOM","fatal","decode","view","charArr","charcode","isNode","process","versions","node","isUint8Array","isArrayBuffer","SnappyDecompressor","SnappyCompressor","TYPE_ERROR_MSG","uncompress","compressed","uint8Mode","arrayBufferMode","uncompressed","uncompressedView","decompressor","readUncompressedLength","uncompressToBuffer","compress","compressedView","compressor","maxLength","maxCompressedLength","compressToBuffer","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","noop","nextTick","title","browser","env","argv","version","binding","cwd","chdir","umask","WORD_MASK","copyBytes","fromArray","fromPos","toArray","toPos","selfCopyBytes","outBuffer","smallLen","arrayLength","outPos","globalHashTables","MAX_HASH_TABLE_BITS","hashFunc","hashFuncShift","load32","equals32","pos1","pos2","emitLiteral","input","ip","op","emitCopyLessThan64","emitCopy","compressFragment","inputSize","hashTableBits","Uint16Array","hashTable","ipLimit","hash","nextHash","nextIp","candidate","skip","bytesBetweenHashLookups","base","matched","curHash","ipEnd","baseIp","nextEmit","flag","sourceLen","fragmentSize","putVarint","entity","entityStream","superPropBase","_get","desc","getOwnPropertyDescriptor","stringPos","_arrayLikeToArray","_unsupportedIterableToArray","_slicedToArray","_createForOfIteratorHelper","_classCallCheck","_createClass","overWriteMapBoundaries","pl_badwater_pro_v9","boundaryMin","boundaryMax","cp_gullywash_final1","cp_process_final","cp_badlands","pl_upward","koth_product_rc8","cp_snakewater_final1","ultiduo_baloo_v2","cp_sunshine","cp_metalworks_rc7","cp_metalworks_f5","cp_steel","koth_lakeside_final","cp_granary_pro_b10","koth_ashville_rc1","cp_reckoner_b3a","pl_borneo","pl_swiftwater_final1","ultiduo_grove_b2","pl_vigil_b2","koth_bagel_rc4","ctf_ballin_sky","koth_ultiduo_r_b7","koth_warmtic_rc4","cp_alloy_rc2a","pl_millstone_ugc_7","cp_vanguard","koth_cascade_b6","koth_coalplant_b8","koth_ramjam_rc1","dm_airfusion_final","dm_biohazard_cal","dm_caverns_r1","dm_ethic","dm_killbox_kbh_2p","dm_lockdown_r6","dm_lostarena","dm_lostvillage_v3","dm_tigcrik_r2","cp_kalinka","cp_cardinal","koth_airfield","mapAliases","Map","findMapAlias","map","baseName","trimMapName","trimmed","existingMap","getMapBasename","alias","_inherits","_isNativeReflectConstruct","_possibleConstructorReturn","_createSuper","DataCache","tickCount","valuesPerPlayer","bitWidth","Uint32Array","playerId","make","makeArray","tick","getPlayerData","getOffset","PositionCache","z","ViewAnglesCache","angles","LifeState","SparseDataCache","sparse","PlayerMetaCache","classId","teamId","meta","HealthCache","PlayerCache","positionOffset","positionCache","healthCache","metaCache","viewAnglesCache","uberCache","healTargetCache","connectedCache","player","playerResource","setPosition","setAngles","viewAngles","lifeState","ALIVE","health","setMeta","team","connected","chargeLevel","healTarget","weapons","find","className","user","getMeta","getPosition","getAngles","getOrNull","rehydrate","BuildingCache","levelCache","engineers","playerIndexMap","angleCache","building","isEntrance","getBuildingIndex","level","yawToExit","angle","levelData","buildings","getBuilding","VectorCache","vector","ProjectileCache","rotationCache","teamNumberCache","typeCache","projectileCount","projectileEntityMap","projectile","entityId","setVector","rotation","teamNumber","ProjectileTypeMap","getVector","projectiles","entries","getProjectile","Parser","demo","header","playerCache","entityPlayerReverseMap","nextMappedPlayer","entityPlayerMap","ticks","startTick","deaths","rounds","buildingCache","projectileCache","Demo","matchTick","players","playerResources","steamId","getPlayerId","setPlayer","setBuilding","builder","setProjectile","progressCallback","parser","getParser","analyser","getAnalyser","packets","getPackets","getHeader","world","boundaryOverWrite","mapAlias","getMapBoundaries","playerEntityMap","lastTick","lastProgress","progress","round","setTick","endTick","scaleTick","death","deathTick","killer","getPlayerByUserId","victim","assister","killerId","assisterId","victimId","weapon","victimTeam","assisterTeam","killerTeam","has","getPlayer","getBuildings","onmessage","event","cacheData","postMessage","cachedDemo","intervalPerTick","now","performance","transfers","cache"],"mappings":"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","file":"0d881c0827014bf79d22.worker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./demo/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 92);\n","var unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nfunction _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nmodule.exports = _createForOfIteratorHelper;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar MessageType;\r\n(function (MessageType) {\r\n    MessageType[MessageType[\"Sigon\"] = 1] = \"Sigon\";\r\n    MessageType[MessageType[\"Packet\"] = 2] = \"Packet\";\r\n    MessageType[MessageType[\"SyncTick\"] = 3] = \"SyncTick\";\r\n    MessageType[MessageType[\"ConsoleCmd\"] = 4] = \"ConsoleCmd\";\r\n    MessageType[MessageType[\"UserCmd\"] = 5] = \"UserCmd\";\r\n    MessageType[MessageType[\"DataTables\"] = 6] = \"DataTables\";\r\n    MessageType[MessageType[\"Stop\"] = 7] = \"Stop\";\r\n    MessageType[MessageType[\"StringTables\"] = 8] = \"StringTables\";\r\n})(MessageType = exports.MessageType || (exports.MessageType = {}));\r\n//# sourceMappingURL=Message.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass Vector {\r\n    static areEqual(a, b) {\r\n        return a.x === b.x && a.y === b.y && a.z === b.z;\r\n    }\r\n    constructor(x, y, z) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n    }\r\n}\r\nexports.Vector = Vector;\r\n//# sourceMappingURL=Vector.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction logBase2(num) {\r\n    let result = 0;\r\n    num >>= 1;\r\n    while (num !== 0 && result < 32) {\r\n        result++;\r\n        num >>= 1;\r\n    }\r\n    return result;\r\n}\r\nexports.logBase2 = logBase2;\r\n//# sourceMappingURL=Math.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Math_1 = require(\"../Math\");\r\nfunction makeUnsigned(value, signed) {\r\n    if (signed) {\r\n        const signBit = value < 0 ? 1 : 0;\r\n        return ((value ^ -signBit) << 1) + signBit;\r\n    }\r\n    else {\r\n        return value;\r\n    }\r\n}\r\nexports.makeUnsigned = makeUnsigned;\r\nfunction readBitVar(stream, signed) {\r\n    const type = stream.readBits(2);\r\n    switch (type) {\r\n        case 0:\r\n            return stream.readBits(4, signed);\r\n        case 1:\r\n            return stream.readBits(8, signed);\r\n        case 2:\r\n            return stream.readBits(12, signed);\r\n        case 3:\r\n            return stream.readBits(32, signed);\r\n    }\r\n    throw new Error('Invalid var bit');\r\n}\r\nexports.readBitVar = readBitVar;\r\nfunction writeBitVar(value, stream, signed) {\r\n    const bitsNeeded = (signed) ? Math_1.logBase2(Math.abs(value)) + 2 : Math_1.logBase2(value) + 1;\r\n    if (signed) {\r\n        const signBit = value < 0 ? 1 : 0;\r\n        value = value ^ (-signBit << (bitsNeeded - 1)) + (signBit << (bitsNeeded - 1));\r\n    }\r\n    if (bitsNeeded > 12) {\r\n        stream.writeBits(3, 2);\r\n        stream.writeBits(value, 32);\r\n    }\r\n    else if (bitsNeeded > 8) {\r\n        stream.writeBits(2, 2);\r\n        stream.writeBits(value, 12);\r\n    }\r\n    else if (bitsNeeded > 4) {\r\n        stream.writeBits(1, 2);\r\n        stream.writeBits(value, 8);\r\n    }\r\n    else {\r\n        stream.writeBits(0, 2);\r\n        stream.writeBits(value, 4);\r\n    }\r\n}\r\nexports.writeBitVar = writeBitVar;\r\nexports.readUBitVar = readBitVar;\r\nfunction readVarInt(stream, signed = false) {\r\n    let result = 0;\r\n    for (let i = 0; i < 35; i += 7) {\r\n        const byte = stream.readUint8();\r\n        result |= ((byte & 0x7F) << i);\r\n        if ((byte >> 7) === 0) {\r\n            break;\r\n        }\r\n    }\r\n    if (signed) {\r\n        return ((result >> 1) ^ -(result & 1));\r\n    }\r\n    else {\r\n        return result;\r\n    }\r\n}\r\nexports.readVarInt = readVarInt;\r\nfunction writeVarInt(value, stream, signed = false) {\r\n    value = makeUnsigned(value, signed);\r\n    do {\r\n        const byte = value & 0x7F;\r\n        const resumeBit = (value >= 128) ? 0x80 : 0;\r\n        stream.writeUint8(byte | resumeBit);\r\n        value = value >> 7;\r\n    } while (value > 0);\r\n}\r\nexports.writeVarInt = writeVarInt;\r\n//# sourceMappingURL=readBitVar.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst SendProp_1 = require(\"./SendProp\");\r\nvar PVS;\r\n(function (PVS) {\r\n    PVS[PVS[\"PRESERVE\"] = 0] = \"PRESERVE\";\r\n    PVS[PVS[\"ENTER\"] = 1] = \"ENTER\";\r\n    PVS[PVS[\"LEAVE\"] = 2] = \"LEAVE\";\r\n    PVS[PVS[\"DELETE\"] = 4] = \"DELETE\";\r\n})(PVS = exports.PVS || (exports.PVS = {}));\r\nclass PacketEntity {\r\n    static getPropByFullName(props, fullName) {\r\n        for (const prop of props) {\r\n            if (prop.definition.fullName === fullName) {\r\n                return prop;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    constructor(serverClass, entityIndex, pvs) {\r\n        this.serverClass = serverClass;\r\n        this.entityIndex = entityIndex;\r\n        this.props = [];\r\n        this.inPVS = false;\r\n        this.pvs = pvs;\r\n    }\r\n    getPropByDefinition(definition) {\r\n        return PacketEntity.getPropByFullName(this.props, definition.fullName);\r\n    }\r\n    getProperty(originTable, name) {\r\n        const prop = PacketEntity.getPropByFullName(this.props, `${originTable}.${name}`);\r\n        if (prop) {\r\n            return prop;\r\n        }\r\n        throw new Error(`Property not found in entity (${originTable}.${name})`);\r\n    }\r\n    hasProperty(originTable, name) {\r\n        return PacketEntity.getPropByFullName(this.props, `${originTable}.${name}`) !== null;\r\n    }\r\n    clone() {\r\n        const result = new PacketEntity(this.serverClass, this.entityIndex, this.pvs);\r\n        for (const prop of this.props) {\r\n            result.props.push(prop.clone());\r\n        }\r\n        if (this.serialNumber) {\r\n            result.serialNumber = this.serialNumber;\r\n        }\r\n        if (typeof this.delay !== 'undefined') {\r\n            result.delay = this.delay;\r\n        }\r\n        result.inPVS = this.inPVS;\r\n        return result;\r\n    }\r\n    applyPropUpdate(props) {\r\n        for (const prop of props) {\r\n            const existingProp = this.getPropByDefinition(prop.definition);\r\n            if (existingProp) {\r\n                existingProp.value = prop.value;\r\n            }\r\n            else {\r\n                this.props.push(prop.clone());\r\n            }\r\n        }\r\n    }\r\n    diffFromBaseLine(baselineProps) {\r\n        return this.props.filter((prop) => {\r\n            const baseProp = PacketEntity.getPropByFullName(baselineProps, prop.definition.fullName);\r\n            return (!baseProp || !SendProp_1.SendProp.areEqual(prop, baseProp));\r\n        });\r\n    }\r\n    getPropValue(fullName) {\r\n        const prop = PacketEntity.getPropByFullName(this.props, fullName);\r\n        return prop ? prop.value : null;\r\n    }\r\n}\r\nexports.PacketEntity = PacketEntity;\r\n//# sourceMappingURL=PacketEntity.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass SendPropDefinition {\r\n    constructor(type, name, flags, ownerTableName) {\r\n        this.originalBitCount = null;\r\n        this.type = type;\r\n        this.name = name;\r\n        this.flags = flags;\r\n        this.excludeDTName = null;\r\n        this.lowValue = 0;\r\n        this.highValue = 0;\r\n        this.bitCount = 0;\r\n        this.table = null;\r\n        this.numElements = 0;\r\n        this.arrayProperty = null;\r\n        this.ownerTableName = ownerTableName;\r\n    }\r\n    static formatFlags(flags) {\r\n        const names = [];\r\n        for (const name in SendPropFlag) {\r\n            if (SendPropFlag.hasOwnProperty(name)) {\r\n                const flagValue = SendPropFlag[name];\r\n                if (typeof flagValue === 'number') {\r\n                    if (flags & flagValue) {\r\n                        names.push(name);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return names;\r\n    }\r\n    hasFlag(flag) {\r\n        return (this.flags & flag) !== 0;\r\n    }\r\n    isExcludeProp() {\r\n        return this.hasFlag(SendPropFlag.SPROP_EXCLUDE);\r\n    }\r\n    inspect() {\r\n        const data = {\r\n            ownerTableName: this.ownerTableName,\r\n            name: this.name,\r\n            type: SendPropType[this.type],\r\n            flags: this.flags,\r\n            bitCount: this.bitCount\r\n        };\r\n        if (this.type === SendPropType.DPT_Float) {\r\n            data.lowValue = this.lowValue;\r\n            data.highValue = this.highValue;\r\n        }\r\n        if (this.type === SendPropType.DPT_DataTable && this.table) {\r\n            data.excludeDTName = this.table.name;\r\n        }\r\n        return data;\r\n    }\r\n    get fullName() {\r\n        return `${this.ownerTableName}.${this.name}`;\r\n    }\r\n    get allFlags() {\r\n        return SendPropDefinition.formatFlags(this.flags);\r\n    }\r\n}\r\nexports.SendPropDefinition = SendPropDefinition;\r\nvar SendPropType;\r\n(function (SendPropType) {\r\n    SendPropType[SendPropType[\"DPT_Int\"] = 0] = \"DPT_Int\";\r\n    SendPropType[SendPropType[\"DPT_Float\"] = 1] = \"DPT_Float\";\r\n    SendPropType[SendPropType[\"DPT_Vector\"] = 2] = \"DPT_Vector\";\r\n    SendPropType[SendPropType[\"DPT_VectorXY\"] = 3] = \"DPT_VectorXY\";\r\n    SendPropType[SendPropType[\"DPT_String\"] = 4] = \"DPT_String\";\r\n    SendPropType[SendPropType[\"DPT_Array\"] = 5] = \"DPT_Array\";\r\n    SendPropType[SendPropType[\"DPT_DataTable\"] = 6] = \"DPT_DataTable\";\r\n    SendPropType[SendPropType[\"DPT_NUMSendPropTypes\"] = 7] = \"DPT_NUMSendPropTypes\";\r\n})(SendPropType = exports.SendPropType || (exports.SendPropType = {}));\r\nvar SendPropFlag;\r\n(function (SendPropFlag) {\r\n    SendPropFlag[SendPropFlag[\"SPROP_UNSIGNED\"] = 1] = \"SPROP_UNSIGNED\";\r\n    SendPropFlag[SendPropFlag[\"SPROP_COORD\"] = 2] = \"SPROP_COORD\";\r\n    // Note that the bit count is ignored in this case.\r\n    SendPropFlag[SendPropFlag[\"SPROP_NOSCALE\"] = 4] = \"SPROP_NOSCALE\";\r\n    SendPropFlag[SendPropFlag[\"SPROP_ROUNDDOWN\"] = 8] = \"SPROP_ROUNDDOWN\";\r\n    SendPropFlag[SendPropFlag[\"SPROP_ROUNDUP\"] = 16] = \"SPROP_ROUNDUP\";\r\n    SendPropFlag[SendPropFlag[\"SPROP_NORMAL\"] = 32] = \"SPROP_NORMAL\";\r\n    SendPropFlag[SendPropFlag[\"SPROP_EXCLUDE\"] = 64] = \"SPROP_EXCLUDE\";\r\n    SendPropFlag[SendPropFlag[\"SPROP_XYZE\"] = 128] = \"SPROP_XYZE\";\r\n    SendPropFlag[SendPropFlag[\"SPROP_INSIDEARRAY\"] = 256] = \"SPROP_INSIDEARRAY\";\r\n    // flattened property list. Its array will point at it when it needs to.\r\n    SendPropFlag[SendPropFlag[\"SPROP_PROXY_ALWAYS_YES\"] = 512] = \"SPROP_PROXY_ALWAYS_YES\";\r\n    // SendProxy_DataTableToDataTable that always send the data to all clients.\r\n    SendPropFlag[SendPropFlag[\"SPROP_CHANGES_OFTEN\"] = 1024] = \"SPROP_CHANGES_OFTEN\";\r\n    SendPropFlag[SendPropFlag[\"SPROP_IS_A_VECTOR_ELEM\"] = 2048] = \"SPROP_IS_A_VECTOR_ELEM\";\r\n    SendPropFlag[SendPropFlag[\"SPROP_COLLAPSIBLE\"] = 4096] = \"SPROP_COLLAPSIBLE\";\r\n    // (ie: for all automatically-chained base classes).\r\n    // In this case, it can get rid of this SendPropDataTable altogether and spare the\r\n    // trouble of walking the hierarchy more than necessary.\r\n    SendPropFlag[SendPropFlag[\"SPROP_COORD_MP\"] = 8192] = \"SPROP_COORD_MP\";\r\n    SendPropFlag[SendPropFlag[\"SPROP_COORD_MP_LOWPRECISION\"] = 16384] = \"SPROP_COORD_MP_LOWPRECISION\";\r\n    // where the fractional component only gets a 3 bits instead of 5\r\n    SendPropFlag[SendPropFlag[\"SPROP_COORD_MP_INTEGRAL\"] = 32768] = \"SPROP_COORD_MP_INTEGRAL\";\r\n    SendPropFlag[SendPropFlag[\"SPROP_VARINT\"] = 32] = \"SPROP_VARINT\";\r\n})(SendPropFlag = exports.SendPropFlag || (exports.SendPropFlag = {}));\r\n//# sourceMappingURL=SendPropDefinition.js.map","(function (root) {\n\n/**********************************************************\n *\n * BitView\n *\n * BitView provides a similar interface to the standard\n * DataView, but with support for bit-level reads / writes.\n *\n **********************************************************/\nvar BitView = function (source, byteOffset, byteLength) {\n\tvar isBuffer = source instanceof ArrayBuffer ||\n\t\t(typeof Buffer !== 'undefined' && source instanceof Buffer);\n\n\tif (!isBuffer) {\n\t\tthrow new Error('Must specify a valid ArrayBuffer or Buffer.');\n\t}\n\n\tbyteOffset = byteOffset || 0;\n\tbyteLength = byteLength || source.byteLength /* ArrayBuffer */ || source.length /* Buffer */;\n\n\tthis._view = new Uint8Array(source.buffer || source, byteOffset, byteLength);\n\n\tthis.bigEndian = false;\n};\n\n// Used to massage fp values so we can operate on them\n// at the bit level.\nBitView._scratch = new DataView(new ArrayBuffer(8));\n\nObject.defineProperty(BitView.prototype, 'buffer', {\n\tget: function () { return typeof Buffer !== 'undefined' ?  Buffer.from(this._view.buffer) : this._view.buffer; },\n\tenumerable: true,\n\tconfigurable: false\n});\n\nObject.defineProperty(BitView.prototype, 'byteLength', {\n\tget: function () { return this._view.length; },\n\tenumerable: true,\n\tconfigurable: false\n});\n\nBitView.prototype._setBit = function (offset, on) {\n\tif (on) {\n\t\tthis._view[offset >> 3] |= 1 << (offset & 7);\n\t} else {\n\t\tthis._view[offset >> 3] &= ~(1 << (offset & 7));\n\t}\n};\n\nBitView.prototype.getBits = function (offset, bits, signed) {\n\tvar available = (this._view.length * 8 - offset);\n\n\tif (bits > available) {\n\t\tthrow new Error('Cannot get ' + bits + ' bit(s) from offset ' + offset + ', ' + available + ' available');\n\t}\n\n\tvar value = 0;\n\tfor (var i = 0; i < bits;) {\n\t\tvar remaining = bits - i;\n\t\tvar bitOffset = offset & 7;\n\t\tvar currentByte = this._view[offset >> 3];\n\n\t\t// the max number of bits we can read from the current byte\n\t\tvar read = Math.min(remaining, 8 - bitOffset);\n\n\t\tvar mask, readBits;\n\t\tif (this.bigEndian) {\n\t\t\t// create a mask with the correct bit width\n\t\t\tmask = ~(0xFF << read);\n\t\t\t// shift the bits we want to the start of the byte and mask of the rest\n\t\t\treadBits = (currentByte >> (8 - read - bitOffset)) & mask;\n\n\t\t\tvalue <<= read;\n\t\t\tvalue |= readBits;\n\t\t} else {\n\t\t\t// create a mask with the correct bit width\n\t\t\tmask = ~(0xFF << read);\n\t\t\t// shift the bits we want to the start of the byte and mask off the rest\n\t\t\treadBits = (currentByte >> bitOffset) & mask;\n\n\t\t\tvalue |= readBits << i;\n\t\t}\n\n\t\toffset += read;\n\t\ti += read;\n\t}\n\n\tif (signed) {\n\t\t// If we're not working with a full 32 bits, check the\n\t\t// imaginary MSB for this bit count and convert to a\n\t\t// valid 32-bit signed value if set.\n\t\tif (bits !== 32 && value & (1 << (bits - 1))) {\n\t\t\tvalue |= -1 ^ ((1 << bits) - 1);\n\t\t}\n\n\t\treturn value;\n\t}\n\n\treturn value >>> 0;\n};\n\nBitView.prototype.setBits = function (offset, value, bits) {\n\tvar available = (this._view.length * 8 - offset);\n\n\tif (bits > available) {\n\t\tthrow new Error('Cannot set ' + bits + ' bit(s) from offset ' + offset + ', ' + available + ' available');\n\t}\n\n\tfor (var i = 0; i < bits;) {\n\t\tvar remaining = bits - i;\n\t\tvar bitOffset = offset & 7;\n\t\tvar byteOffset = offset >> 3;\n\t\tvar wrote = Math.min(remaining, 8 - bitOffset);\n\n\t\tvar mask, writeBits, destMask;\n\t\tif (this.bigEndian) {\n\t\t\t// create a mask with the correct bit width\n\t\t\tmask = ~(~0 << wrote);\n\t\t\t// shift the bits we want to the start of the byte and mask of the rest\n\t\t\twriteBits = (value >> (bits - i - wrote)) & mask;\n\n\t\t\tvar destShift = 8 - bitOffset - wrote;\n\t\t\t// destination mask to zero all the bits we're changing first\n\t\t\tdestMask = ~(mask << destShift);\n\n\t\t\tthis._view[byteOffset] =\n\t\t\t\t(this._view[byteOffset] & destMask)\n\t\t\t\t| (writeBits << destShift);\n\n\t\t} else {\n\t\t\t// create a mask with the correct bit width\n\t\t\tmask = ~(0xFF << wrote);\n\t\t\t// shift the bits we want to the start of the byte and mask of the rest\n\t\t\twriteBits = value & mask;\n\t\t\tvalue >>= wrote;\n\n\t\t\t// destination mask to zero all the bits we're changing first\n\t\t\tdestMask = ~(mask << bitOffset);\n\n\t\t\tthis._view[byteOffset] =\n\t\t\t\t(this._view[byteOffset] & destMask)\n\t\t\t\t| (writeBits << bitOffset);\n\t\t}\n\n\t\toffset += wrote;\n\t\ti += wrote;\n\t}\n};\n\nBitView.prototype.getBoolean = function (offset) {\n\treturn this.getBits(offset, 1, false) !== 0;\n};\nBitView.prototype.getInt8 = function (offset) {\n\treturn this.getBits(offset, 8, true);\n};\nBitView.prototype.getUint8 = function (offset) {\n\treturn this.getBits(offset, 8, false);\n};\nBitView.prototype.getInt16 = function (offset) {\n\treturn this.getBits(offset, 16, true);\n};\nBitView.prototype.getUint16 = function (offset) {\n\treturn this.getBits(offset, 16, false);\n};\nBitView.prototype.getInt32 = function (offset) {\n\treturn this.getBits(offset, 32, true);\n};\nBitView.prototype.getUint32 = function (offset) {\n\treturn this.getBits(offset, 32, false);\n};\nBitView.prototype.getFloat32 = function (offset) {\n\tBitView._scratch.setUint32(0, this.getUint32(offset));\n\treturn BitView._scratch.getFloat32(0);\n};\nBitView.prototype.getFloat64 = function (offset) {\n\tBitView._scratch.setUint32(0, this.getUint32(offset));\n\t// DataView offset is in bytes.\n\tBitView._scratch.setUint32(4, this.getUint32(offset+32));\n\treturn BitView._scratch.getFloat64(0);\n};\n\nBitView.prototype.setBoolean = function (offset, value) {\n\tthis.setBits(offset, value ? 1 : 0, 1);\n};\nBitView.prototype.setInt8  =\nBitView.prototype.setUint8 = function (offset, value) {\n\tthis.setBits(offset, value, 8);\n};\nBitView.prototype.setInt16  =\nBitView.prototype.setUint16 = function (offset, value) {\n\tthis.setBits(offset, value, 16);\n};\nBitView.prototype.setInt32  =\nBitView.prototype.setUint32 = function (offset, value) {\n\tthis.setBits(offset, value, 32);\n};\nBitView.prototype.setFloat32 = function (offset, value) {\n\tBitView._scratch.setFloat32(0, value);\n\tthis.setBits(offset, BitView._scratch.getUint32(0), 32);\n};\nBitView.prototype.setFloat64 = function (offset, value) {\n\tBitView._scratch.setFloat64(0, value);\n\tthis.setBits(offset, BitView._scratch.getUint32(0), 32);\n\tthis.setBits(offset+32, BitView._scratch.getUint32(4), 32);\n};\nBitView.prototype.getArrayBuffer = function (offset, byteLength) {\n\tvar buffer = new Uint8Array(byteLength);\n\tfor (var i = 0; i < byteLength; i++) {\n\t\tbuffer[i] = this.getUint8(offset + (i * 8));\n\t}\n\treturn buffer;\n};\n\n/**********************************************************\n *\n * BitStream\n *\n * Small wrapper for a BitView to maintain your position,\n * as well as to handle reading / writing of string data\n * to the underlying buffer.\n *\n **********************************************************/\nvar reader = function (name, size) {\n\treturn function () {\n\t\tif (this._index + size > this._length) {\n\t\t\tthrow new Error('Trying to read past the end of the stream');\n\t\t}\n\t\tvar val = this._view[name](this._index);\n\t\tthis._index += size;\n\t\treturn val;\n\t};\n};\n\nvar writer = function (name, size) {\n\treturn function (value) {\n\t\tthis._view[name](this._index, value);\n\t\tthis._index += size;\n\t};\n};\n\nfunction readASCIIString(stream, bytes) {\n\treturn readString(stream, bytes, false);\n}\n\nfunction readUTF8String(stream, bytes) {\n\treturn readString(stream, bytes, true);\n}\n\nfunction readString(stream, bytes, utf8) {\n\tif (bytes === 0) {\n\t\treturn '';\n\t}\n\tvar i = 0;\n\tvar chars = [];\n\tvar append = true;\n\tvar fixedLength = !!bytes;\n\tif (!bytes) {\n\t\tbytes = Math.floor((stream._length - stream._index) / 8);\n\t}\n\n\t// Read while we still have space available, or until we've\n\t// hit the fixed byte length passed in.\n\twhile (i < bytes) {\n\t\tvar c = stream.readUint8();\n\n\t\t// Stop appending chars once we hit 0x00\n\t\tif (c === 0x00) {\n\t\t\tappend = false;\n\n\t\t\t// If we don't have a fixed length to read, break out now.\n\t\t\tif (!fixedLength) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (append) {\n\t\t\tchars.push(c);\n\t\t}\n\n\t\ti++;\n\t}\n\n\tvar string = String.fromCharCode.apply(null, chars);\n\tif (utf8) {\n\t\ttry {\n\t\t\treturn decodeURIComponent(escape(string)); // https://stackoverflow.com/a/17192845\n\t\t} catch (e) {\n\t\t\treturn string;\n\t\t}\n\t} else {\n\t\treturn string;\n\t}\n}\n\nfunction writeASCIIString(stream, string, bytes) {\n\tvar length = bytes || string.length + 1;  // + 1 for NULL\n\n\tfor (var i = 0; i < length; i++) {\n\t\tstream.writeUint8(i < string.length ? string.charCodeAt(i) : 0x00);\n\t}\n}\n\nfunction writeUTF8String(stream, string, bytes) {\n\tvar byteArray = stringToByteArray(string);\n\n\tvar length = bytes || byteArray.length + 1;  // + 1 for NULL\n\tfor (var i = 0; i < length; i++) {\n\t\tstream.writeUint8(i < byteArray.length ? byteArray[i] : 0x00);\n\t}\n}\n\nfunction stringToByteArray(str) { // https://gist.github.com/volodymyr-mykhailyk/2923227\n\tvar b = [], i, unicode;\n\tfor (i = 0; i < str.length; i++) {\n\t\tunicode = str.charCodeAt(i);\n\t\t// 0x00000000 - 0x0000007f -> 0xxxxxxx\n\t\tif (unicode <= 0x7f) {\n\t\t\tb.push(unicode);\n\t\t\t// 0x00000080 - 0x000007ff -> 110xxxxx 10xxxxxx\n\t\t} else if (unicode <= 0x7ff) {\n\t\t\tb.push((unicode >> 6) | 0xc0);\n\t\t\tb.push((unicode & 0x3F) | 0x80);\n\t\t\t// 0x00000800 - 0x0000ffff -> 1110xxxx 10xxxxxx 10xxxxxx\n\t\t} else if (unicode <= 0xffff) {\n\t\t\tb.push((unicode >> 12) | 0xe0);\n\t\t\tb.push(((unicode >> 6) & 0x3f) | 0x80);\n\t\t\tb.push((unicode & 0x3f) | 0x80);\n\t\t\t// 0x00010000 - 0x001fffff -> 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\n\t\t} else {\n\t\t\tb.push((unicode >> 18) | 0xf0);\n\t\t\tb.push(((unicode >> 12) & 0x3f) | 0x80);\n\t\t\tb.push(((unicode >> 6) & 0x3f) | 0x80);\n\t\t\tb.push((unicode & 0x3f) | 0x80);\n\t\t}\n\t}\n\n\treturn b;\n}\n\nvar BitStream = function (source, byteOffset, byteLength) {\n\tvar isBuffer = source instanceof ArrayBuffer ||\n\t\t(typeof Buffer !== 'undefined' && source instanceof Buffer);\n\n\tif (!(source instanceof BitView) && !isBuffer) {\n\t\tthrow new Error('Must specify a valid BitView, ArrayBuffer or Buffer');\n\t}\n\n\tif (isBuffer) {\n\t\tthis._view = new BitView(source, byteOffset, byteLength);\n\t} else {\n\t\tthis._view = source;\n\t}\n\n\tthis._index = 0;\n\tthis._startIndex = 0;\n\tthis._length = this._view.byteLength * 8;\n};\n\nObject.defineProperty(BitStream.prototype, 'index', {\n\tget: function () { return this._index - this._startIndex; },\n\tset: function (val) { this._index = val + this._startIndex; },\n\tenumerable: true,\n\tconfigurable: true\n});\n\nObject.defineProperty(BitStream.prototype, 'length', {\n\tget: function () { return this._length - this._startIndex; },\n\tset: function (val) { this._length = val + this._startIndex; },\n\tenumerable  : true,\n\tconfigurable: true\n});\n\nObject.defineProperty(BitStream.prototype, 'bitsLeft', {\n\tget: function () { return this._length - this._index; },\n\tenumerable  : true,\n\tconfigurable: true\n});\n\nObject.defineProperty(BitStream.prototype, 'byteIndex', {\n\t// Ceil the returned value, over compensating for the amount of\n\t// bits written to the stream.\n\tget: function () { return Math.ceil(this._index / 8); },\n\tset: function (val) { this._index = val * 8; },\n\tenumerable: true,\n\tconfigurable: true\n});\n\nObject.defineProperty(BitStream.prototype, 'buffer', {\n\tget: function () { return this._view.buffer; },\n\tenumerable: true,\n\tconfigurable: false\n});\n\nObject.defineProperty(BitStream.prototype, 'view', {\n\tget: function () { return this._view; },\n\tenumerable: true,\n\tconfigurable: false\n});\n\nObject.defineProperty(BitStream.prototype, 'bigEndian', {\n\tget: function () { return this._view.bigEndian; },\n\tset: function (val) { this._view.bigEndian = val; },\n\tenumerable: true,\n\tconfigurable: false\n});\n\nBitStream.prototype.readBits = function (bits, signed) {\n\tvar val = this._view.getBits(this._index, bits, signed);\n\tthis._index += bits;\n\treturn val;\n};\n\nBitStream.prototype.writeBits = function (value, bits) {\n\tthis._view.setBits(this._index, value, bits);\n\tthis._index += bits;\n};\n\nBitStream.prototype.readBoolean = reader('getBoolean', 1);\nBitStream.prototype.readInt8 = reader('getInt8', 8);\nBitStream.prototype.readUint8 = reader('getUint8', 8);\nBitStream.prototype.readInt16 = reader('getInt16', 16);\nBitStream.prototype.readUint16 = reader('getUint16', 16);\nBitStream.prototype.readInt32 = reader('getInt32', 32);\nBitStream.prototype.readUint32 = reader('getUint32', 32);\nBitStream.prototype.readFloat32 = reader('getFloat32', 32);\nBitStream.prototype.readFloat64 = reader('getFloat64', 64);\n\nBitStream.prototype.writeBoolean = writer('setBoolean', 1);\nBitStream.prototype.writeInt8 = writer('setInt8', 8);\nBitStream.prototype.writeUint8 = writer('setUint8', 8);\nBitStream.prototype.writeInt16 = writer('setInt16', 16);\nBitStream.prototype.writeUint16 = writer('setUint16', 16);\nBitStream.prototype.writeInt32 = writer('setInt32', 32);\nBitStream.prototype.writeUint32 = writer('setUint32', 32);\nBitStream.prototype.writeFloat32 = writer('setFloat32', 32);\nBitStream.prototype.writeFloat64 = writer('setFloat64', 64);\n\nBitStream.prototype.readASCIIString = function (bytes) {\n\treturn readASCIIString(this, bytes);\n};\n\nBitStream.prototype.readUTF8String = function (bytes) {\n\treturn readUTF8String(this, bytes);\n};\n\nBitStream.prototype.writeASCIIString = function (string, bytes) {\n\twriteASCIIString(this, string, bytes);\n};\n\nBitStream.prototype.writeUTF8String = function (string, bytes) {\n\twriteUTF8String(this, string, bytes);\n};\nBitStream.prototype.readBitStream = function(bitLength) {\n\tvar slice = new BitStream(this._view);\n\tslice._startIndex = this._index;\n\tslice._index = this._index;\n\tslice.length = bitLength;\n\tthis._index += bitLength;\n\treturn slice;\n};\n\nBitStream.prototype.writeBitStream = function(stream, length) {\n\tif (!length) {\n\t\tlength = stream.bitsLeft;\n\t}\n\n\tvar bitsToWrite;\n\twhile (length > 0) {\n\t\tbitsToWrite = Math.min(length, 32);\n\t\tthis.writeBits(stream.readBits(bitsToWrite), bitsToWrite);\n\t\tlength -= bitsToWrite;\n\t}\n};\n\nBitStream.prototype.readArrayBuffer = function(byteLength) {\n\tvar buffer = this._view.getArrayBuffer(this._index, byteLength);\n\tthis._index += (byteLength * 8);\n\treturn buffer;\n};\n\nBitStream.prototype.writeArrayBuffer = function(buffer, byteLength) {\n\tthis.writeBitStream(new BitStream(buffer), byteLength * 8);\n};\n\n// AMD / RequireJS\nif (typeof define !== 'undefined' && define.amd) {\n\tdefine(function () {\n\t\treturn {\n\t\t\tBitView: BitView,\n\t\t\tBitStream: BitStream\n\t\t};\n\t});\n}\n// Node.js\nelse if (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = {\n\t\tBitView: BitView,\n\t\tBitStream: BitStream\n\t};\n}\n\n}(this));\n","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nvar possibleConstructorReturn = require(\"./possibleConstructorReturn\");\n\nfunction _createSuper(Derived) {\n  return function () {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (isNativeReflectConstruct()) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}\n\nmodule.exports = _createSuper;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Vector_1 = require(\"./Vector\");\r\nclass SendProp {\r\n    static areEqual(a, b) {\r\n        return a.definition.fullName !== b.definition.fullName ? false : SendProp.valuesAreEqual(a.value, b.value);\r\n    }\r\n    static valuesAreEqual(a, b) {\r\n        if (Array.isArray(a) && Array.isArray(b)) {\r\n            if (a.length !== b.length) {\r\n                return false;\r\n            }\r\n            for (let i = 0; i < a.length; i++) {\r\n                if (!SendProp.valuesAreEqual(a[i], b[i])) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        else if (a instanceof Vector_1.Vector && b instanceof Vector_1.Vector) {\r\n            return Vector_1.Vector.areEqual(a, b);\r\n        }\r\n        else {\r\n            return a === b;\r\n        }\r\n    }\r\n    constructor(definition) {\r\n        this.definition = definition;\r\n        this.value = null;\r\n    }\r\n    clone() {\r\n        const prop = new SendProp(this.definition);\r\n        prop.value = this.value;\r\n        return prop;\r\n    }\r\n}\r\nexports.SendProp = SendProp;\r\n//# sourceMappingURL=SendProp.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Vector_1 = require(\"./Vector\");\r\nvar LifeState;\r\n(function (LifeState) {\r\n    LifeState[LifeState[\"ALIVE\"] = 0] = \"ALIVE\";\r\n    LifeState[LifeState[\"DYING\"] = 1] = \"DYING\";\r\n    LifeState[LifeState[\"DEATH\"] = 2] = \"DEATH\";\r\n    LifeState[LifeState[\"RESPAWNABLE\"] = 3] = \"RESPAWNABLE\";\r\n})(LifeState = exports.LifeState || (exports.LifeState = {}));\r\nclass Player {\r\n    constructor(match, userInfo) {\r\n        this.position = new Vector_1.Vector(0, 0, 0);\r\n        this.viewAngles = new Vector_1.Vector(0, 0, 0);\r\n        this.health = 0;\r\n        this.maxHealth = 0;\r\n        this.classId = 0;\r\n        this.team = 0;\r\n        this.viewAngle = 0;\r\n        this.weaponIds = [];\r\n        this.ammo = [];\r\n        this.lifeState = LifeState.DEATH;\r\n        this.activeWeapon = 0;\r\n        this.match = match;\r\n        this.user = userInfo;\r\n    }\r\n    get weapons() {\r\n        return this.weaponIds\r\n            .map((id) => this.match.outerMap.get(id))\r\n            .filter((entityId) => entityId > 0)\r\n            .map((entityId) => this.match.weaponMap.get(entityId));\r\n    }\r\n}\r\nexports.Player = Player;\r\n//# sourceMappingURL=Player.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar PacketTypeId;\r\n(function (PacketTypeId) {\r\n    PacketTypeId[PacketTypeId[\"file\"] = 2] = \"file\";\r\n    PacketTypeId[PacketTypeId[\"netTick\"] = 3] = \"netTick\";\r\n    PacketTypeId[PacketTypeId[\"stringCmd\"] = 4] = \"stringCmd\";\r\n    PacketTypeId[PacketTypeId[\"setConVar\"] = 5] = \"setConVar\";\r\n    PacketTypeId[PacketTypeId[\"sigOnState\"] = 6] = \"sigOnState\";\r\n    PacketTypeId[PacketTypeId[\"print\"] = 7] = \"print\";\r\n    PacketTypeId[PacketTypeId[\"serverInfo\"] = 8] = \"serverInfo\";\r\n    PacketTypeId[PacketTypeId[\"classInfo\"] = 10] = \"classInfo\";\r\n    PacketTypeId[PacketTypeId[\"setPause\"] = 11] = \"setPause\";\r\n    PacketTypeId[PacketTypeId[\"createStringTable\"] = 12] = \"createStringTable\";\r\n    PacketTypeId[PacketTypeId[\"updateStringTable\"] = 13] = \"updateStringTable\";\r\n    PacketTypeId[PacketTypeId[\"voiceInit\"] = 14] = \"voiceInit\";\r\n    PacketTypeId[PacketTypeId[\"voiceData\"] = 15] = \"voiceData\";\r\n    PacketTypeId[PacketTypeId[\"parseSounds\"] = 17] = \"parseSounds\";\r\n    PacketTypeId[PacketTypeId[\"setView\"] = 18] = \"setView\";\r\n    PacketTypeId[PacketTypeId[\"fixAngle\"] = 19] = \"fixAngle\";\r\n    PacketTypeId[PacketTypeId[\"bspDecal\"] = 21] = \"bspDecal\";\r\n    PacketTypeId[PacketTypeId[\"userMessage\"] = 23] = \"userMessage\";\r\n    PacketTypeId[PacketTypeId[\"entityMessage\"] = 24] = \"entityMessage\";\r\n    PacketTypeId[PacketTypeId[\"gameEvent\"] = 25] = \"gameEvent\";\r\n    PacketTypeId[PacketTypeId[\"packetEntities\"] = 26] = \"packetEntities\";\r\n    PacketTypeId[PacketTypeId[\"tempEntities\"] = 27] = \"tempEntities\";\r\n    PacketTypeId[PacketTypeId[\"preFetch\"] = 28] = \"preFetch\";\r\n    PacketTypeId[PacketTypeId[\"menu\"] = 29] = \"menu\";\r\n    PacketTypeId[PacketTypeId[\"gameEventList\"] = 30] = \"gameEventList\";\r\n    PacketTypeId[PacketTypeId[\"getCvarValue\"] = 31] = \"getCvarValue\";\r\n    PacketTypeId[PacketTypeId[\"cmdKeyValues\"] = 32] = \"cmdKeyValues\";\r\n})(PacketTypeId = exports.PacketTypeId || (exports.PacketTypeId = {}));\r\n//# sourceMappingURL=Packet.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst GameEventList_1 = require(\"../PacketHandler/GameEventList\");\r\nconst PacketEntities_1 = require(\"../PacketHandler/PacketEntities\");\r\nconst StringTable_1 = require(\"../PacketHandler/StringTable\");\r\nconst Message_1 = require(\"./Message\");\r\nclass ParserState {\r\n    constructor() {\r\n        this.version = 0;\r\n        this.staticBaseLines = new Map();\r\n        this.staticBaselineCache = new Map();\r\n        this.eventDefinitions = new Map();\r\n        this.eventDefinitionTypes = new Map();\r\n        this.entityClasses = new Map();\r\n        this.sendTables = new Map();\r\n        this.stringTables = [];\r\n        this.serverClasses = [];\r\n        this.instanceBaselines = [new Map(), new Map()];\r\n        this.skippedPackets = [];\r\n        this.userInfo = new Map();\r\n        this.tick = 0;\r\n    }\r\n    handlePacket(packet) {\r\n        switch (packet.packetType) {\r\n            case 'netTick':\r\n                this.tick = packet.tick;\r\n                break;\r\n            case 'serverInfo':\r\n                this.version = packet.version;\r\n                this.game = packet.game;\r\n                break;\r\n            case 'stringTable':\r\n                StringTable_1.handleStringTables(packet, this);\r\n                break;\r\n            case 'createStringTable':\r\n                StringTable_1.handleStringTable(packet, this);\r\n                break;\r\n            case 'updateStringTable':\r\n                StringTable_1.handleStringTableUpdate(packet, this);\r\n                break;\r\n            case 'gameEventList':\r\n                GameEventList_1.handleGameEventList(packet, this);\r\n                break;\r\n            case 'packetEntities':\r\n                PacketEntities_1.handlePacketEntitiesForState(packet, this);\r\n                break;\r\n        }\r\n    }\r\n    handleMessage(message) {\r\n        switch (message.type) {\r\n            case Message_1.MessageType.DataTables:\r\n                this.handleDataTableMessage(message);\r\n                break;\r\n            case Message_1.MessageType.StringTables:\r\n                this.handleStringTableMessage(message);\r\n                break;\r\n        }\r\n    }\r\n    getStringTable(name) {\r\n        const table = this.stringTables.find((stringTable) => stringTable.name === name);\r\n        if (!table) {\r\n            return null;\r\n        }\r\n        return table;\r\n    }\r\n    getUserEntityInfo(userId) {\r\n        const info = this.userInfo.get(JSON.parse(JSON.stringify(userId)));\r\n        if (info) {\r\n            return info;\r\n        }\r\n        return {\r\n            name: '',\r\n            userId,\r\n            steamId: '',\r\n            entityId: 0\r\n        };\r\n    }\r\n    handleDataTableMessage(message) {\r\n        for (const table of message.tables) {\r\n            this.sendTables.set(table.name, table);\r\n        }\r\n        this.serverClasses = message.serverClasses;\r\n    }\r\n    handleStringTableMessage(message) {\r\n        for (const table of message.tables) {\r\n            StringTable_1.handleTable(table, this);\r\n        }\r\n    }\r\n}\r\nexports.ParserState = ParserState;\r\nfunction getClassBits(state) {\r\n    return Math.ceil(Math.log(state.serverClasses.length) * Math.LOG2E);\r\n}\r\nexports.getClassBits = getClassBits;\r\nfunction getSendTable(state, dataTable) {\r\n    const sendTable = state.sendTables.get(dataTable);\r\n    if (!sendTable) {\r\n        throw new Error(`Unknown sendTable ${dataTable}`);\r\n    }\r\n    return sendTable;\r\n}\r\nexports.getSendTable = getSendTable;\r\nfunction createParserState() {\r\n    return new ParserState();\r\n}\r\nexports.createParserState = createParserState;\r\n//# sourceMappingURL=ParserState.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst SendPropDefinition_1 = require(\"../Data/SendPropDefinition\");\r\nconst Vector_1 = require(\"../Data/Vector\");\r\nconst Math_1 = require(\"../Math\");\r\nconst readBitVar_1 = require(\"./readBitVar\");\r\nexports.bitNormalFactor = (1 / ((1 << 11) - 1));\r\nclass SendPropParser {\r\n    static decode(propDefinition, stream) {\r\n        switch (propDefinition.type) {\r\n            case SendPropDefinition_1.SendPropType.DPT_Int:\r\n                return SendPropParser.readInt(propDefinition, stream);\r\n            case SendPropDefinition_1.SendPropType.DPT_Vector:\r\n                return SendPropParser.readVector(propDefinition, stream);\r\n            case SendPropDefinition_1.SendPropType.DPT_VectorXY:\r\n                return SendPropParser.readVectorXY(propDefinition, stream);\r\n            case SendPropDefinition_1.SendPropType.DPT_Float:\r\n                return SendPropParser.readFloat(propDefinition, stream);\r\n            case SendPropDefinition_1.SendPropType.DPT_String:\r\n                return SendPropParser.readString(stream);\r\n            case SendPropDefinition_1.SendPropType.DPT_Array:\r\n                return SendPropParser.readArray(propDefinition, stream);\r\n        }\r\n        throw new Error(`Unknown property type ${propDefinition.type}`);\r\n    }\r\n    static readInt(propDefinition, stream) {\r\n        if (propDefinition.hasFlag(SendPropDefinition_1.SendPropFlag.SPROP_VARINT)) {\r\n            return readBitVar_1.readVarInt(stream, !propDefinition.hasFlag(SendPropDefinition_1.SendPropFlag.SPROP_UNSIGNED));\r\n        }\r\n        else {\r\n            return stream.readBits(propDefinition.bitCount, !propDefinition.hasFlag(SendPropDefinition_1.SendPropFlag.SPROP_UNSIGNED));\r\n        }\r\n    }\r\n    static readArray(propDefinition, stream) {\r\n        const numBits = Math_1.logBase2(propDefinition.numElements) + 1;\r\n        const count = stream.readBits(numBits);\r\n        const values = [];\r\n        if (!propDefinition.arrayProperty) {\r\n            throw new Error('Array of undefined type');\r\n        }\r\n        for (let i = 0; i < count; i++) {\r\n            const value = SendPropParser.decode(propDefinition.arrayProperty, stream);\r\n            if (value instanceof Array) {\r\n                throw new Error('Nested arrays not supported');\r\n            }\r\n            values.push(value);\r\n        }\r\n        return values;\r\n    }\r\n    static readString(stream) {\r\n        const length = stream.readBits(9);\r\n        return stream.readASCIIString(length);\r\n    }\r\n    static readVector(propDefinition, stream) {\r\n        const x = SendPropParser.readFloat(propDefinition, stream);\r\n        const y = SendPropParser.readFloat(propDefinition, stream);\r\n        const z = SendPropParser.readFloat(propDefinition, stream);\r\n        return new Vector_1.Vector(x, y, z);\r\n    }\r\n    static readVectorXY(propDefinition, stream) {\r\n        const x = SendPropParser.readFloat(propDefinition, stream);\r\n        const y = SendPropParser.readFloat(propDefinition, stream);\r\n        return new Vector_1.Vector(x, y, 0);\r\n    }\r\n    static readFloat(propDefinition, stream) {\r\n        if (propDefinition.hasFlag(SendPropDefinition_1.SendPropFlag.SPROP_COORD)) {\r\n            return SendPropParser.readBitCoord(stream);\r\n        }\r\n        else if (propDefinition.hasFlag(SendPropDefinition_1.SendPropFlag.SPROP_COORD_MP)) {\r\n            return SendPropParser.readBitCoordMP(stream, false, false);\r\n        }\r\n        else if (propDefinition.hasFlag(SendPropDefinition_1.SendPropFlag.SPROP_COORD_MP_LOWPRECISION)) {\r\n            return SendPropParser.readBitCoordMP(stream, false, true);\r\n        }\r\n        else if (propDefinition.hasFlag(SendPropDefinition_1.SendPropFlag.SPROP_COORD_MP_INTEGRAL)) {\r\n            return SendPropParser.readBitCoordMP(stream, true, false);\r\n        }\r\n        else if (propDefinition.hasFlag(SendPropDefinition_1.SendPropFlag.SPROP_NOSCALE)) {\r\n            return stream.readFloat32();\r\n        }\r\n        else if (propDefinition.hasFlag(SendPropDefinition_1.SendPropFlag.SPROP_NORMAL)) {\r\n            return SendPropParser.readBitNormal(stream);\r\n        }\r\n        else {\r\n            const raw = stream.readBits(propDefinition.bitCount);\r\n            const percentage = raw / ((1 << propDefinition.bitCount) - 1);\r\n            return propDefinition.lowValue + (propDefinition.highValue - propDefinition.lowValue) * percentage;\r\n        }\r\n    }\r\n    static readBitNormal(stream) {\r\n        const isNegative = stream.readBoolean();\r\n        const fractVal = stream.readBits(11);\r\n        const value = fractVal * exports.bitNormalFactor;\r\n        return (isNegative) ? -value : value;\r\n    }\r\n    static readBitCoord(stream) {\r\n        const hasIntVal = stream.readBoolean();\r\n        const hasFractVal = stream.readBoolean();\r\n        if (hasIntVal || hasFractVal) {\r\n            const isNegative = stream.readBoolean();\r\n            const intVal = (hasIntVal) ? stream.readBits(14) + 1 : 0;\r\n            const fractVal = (hasFractVal) ? stream.readBits(5) : 0;\r\n            const value = intVal + fractVal * (1 / 32);\r\n            return (isNegative) ? -value : value;\r\n        }\r\n        return 0;\r\n    }\r\n    static readBitCoordMP(stream, isIntegral, isLowPrecision) {\r\n        let value = 0;\r\n        let isNegative = false;\r\n        const inBounds = stream.readBoolean();\r\n        const hasIntVal = stream.readBoolean();\r\n        if (isIntegral) {\r\n            if (hasIntVal) {\r\n                isNegative = stream.readBoolean();\r\n                if (inBounds) {\r\n                    value = stream.readBits(11) + 1;\r\n                }\r\n                else {\r\n                    value = stream.readBits(14) + 1;\r\n                    if (value < (1 << 11)) {\r\n                        throw new Error('Something\\'s fishy...');\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            isNegative = stream.readBoolean();\r\n            if (hasIntVal) {\r\n                if (inBounds) {\r\n                    value = stream.readBits(11) + 1;\r\n                }\r\n                else {\r\n                    value = stream.readBits(14) + 1;\r\n                    if (value < (1 << 11)) {\r\n                        // console.log(propDefinition, value);\r\n                        // throw new Error(\"Something's fishy...\");\r\n                    }\r\n                }\r\n            }\r\n            const fractalVal = stream.readBits(isLowPrecision ? 3 : 5);\r\n            value += fractalVal * (1 / (1 << (isLowPrecision ? 3 : 5)));\r\n        }\r\n        if (isNegative) {\r\n            value = -value;\r\n        }\r\n        return value;\r\n    }\r\n}\r\nexports.SendPropParser = SendPropParser;\r\n//# sourceMappingURL=SendPropParser.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ProjectileServerClassMap = {\r\n    CTFProjectile_Rocket: 1,\r\n    CTFGrenadePipebombProjectile: 2,\r\n    CTFProjectile_HealingBolt: 4,\r\n};\r\nexports.ProjectileTypeMap = {\r\n    1: \"rocket\",\r\n    2: \"pipebomb\",\r\n    3: \"stickybomb\",\r\n    4: \"healingBolt\",\r\n};\r\n//# sourceMappingURL=Projectile.js.map","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","module.exports = require(\"regenerator-runtime\");\n","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst GameEvent_1 = require(\"../PacketHandler/GameEvent\");\r\nconst PacketEntities_1 = require(\"../PacketHandler/PacketEntities\");\r\nconst SayText2_1 = require(\"../PacketHandler/SayText2\");\r\nclass Match {\r\n    constructor(parserState) {\r\n        this.tick = 0;\r\n        this.chat = [];\r\n        this.users = new Map();\r\n        this.deaths = [];\r\n        this.rounds = [];\r\n        this.startTick = 0;\r\n        this.intervalPerTick = 0;\r\n        this.world = {\r\n            boundaryMin: { x: 0, y: 0, z: 0 },\r\n            boundaryMax: { x: 0, y: 0, z: 0 },\r\n        };\r\n        this.playerEntityMap = new Map();\r\n        this.weaponMap = new Map();\r\n        this.outerMap = new Map();\r\n        this.teams = new Map();\r\n        this.teamEntityMap = new Map();\r\n        this.projectileEntityMap = new Map();\r\n        this.buildings = new Map();\r\n        this.playerResources = [];\r\n        this.parserState = parserState;\r\n    }\r\n    getState() {\r\n        const users = {};\r\n        for (const userEntity of this.parserState.userInfo.values()) {\r\n            this.getUserInfo(userEntity.userId);\r\n        }\r\n        for (const [key, user] of this.users.entries()) {\r\n            users[key] = {\r\n                classes: user.classes,\r\n                name: user.name,\r\n                steamId: user.steamId,\r\n                userId: user.userId,\r\n            };\r\n            if (user.team) {\r\n                users[key].team = user.team;\r\n            }\r\n        }\r\n        return {\r\n            chat: this.chat,\r\n            users,\r\n            deaths: this.deaths,\r\n            rounds: this.rounds,\r\n            startTick: this.startTick,\r\n            intervalPerTick: this.intervalPerTick,\r\n        };\r\n    }\r\n    handlePacket(packet, message) {\r\n        switch (packet.packetType) {\r\n            case \"packetEntities\":\r\n                PacketEntities_1.handlePacketEntities(packet, this, message);\r\n                break;\r\n            case \"netTick\":\r\n                if (this.startTick === 0) {\r\n                    this.startTick = packet.tick;\r\n                }\r\n                this.tick = packet.tick;\r\n                break;\r\n            case \"serverInfo\":\r\n                this.intervalPerTick = packet.intervalPerTick;\r\n                break;\r\n            case \"userMessage\":\r\n                switch (packet.userMessageType) {\r\n                    case \"sayText2\":\r\n                        SayText2_1.handleSayText2(packet, this);\r\n                        break;\r\n                }\r\n                break;\r\n            case \"gameEvent\":\r\n                GameEvent_1.handleGameEvent(packet, this);\r\n                break;\r\n        }\r\n    }\r\n    getUserInfo(userId) {\r\n        // no clue why it does this\r\n        // only seems to be the case with per user ready\r\n        while (userId > 256) {\r\n            userId -= 256;\r\n        }\r\n        const user = this.users.get(userId);\r\n        if (user && user.userId !== userId) {\r\n            throw new Error(`Invalid user info id`);\r\n        }\r\n        if (!user) {\r\n            const entityInfo = this.parserState.getUserEntityInfo(userId);\r\n            const newUser = Object.assign({ classes: {}, team: \"\" }, entityInfo);\r\n            this.users.set(userId, newUser);\r\n            return newUser;\r\n        }\r\n        else if (!user.steamId) {\r\n            const entityInfo = this.parserState.getUserEntityInfo(userId);\r\n            if (entityInfo.steamId) {\r\n                user.steamId = entityInfo.steamId;\r\n                user.entityId = entityInfo.entityId;\r\n                user.name = entityInfo.name;\r\n            }\r\n        }\r\n        return user;\r\n    }\r\n    getUserInfoForEntity(entity) {\r\n        for (const userEntity of this.parserState.userInfo.values()) {\r\n            if (userEntity && userEntity.entityId === entity.entityIndex) {\r\n                return this.getUserInfo(userEntity.userId);\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    getPlayerByUserId(userId) {\r\n        const user = this.getUserInfo(userId);\r\n        const player = this.playerEntityMap.get(user.entityId);\r\n        return player || null;\r\n    }\r\n}\r\nexports.Match = Match;\r\n//# sourceMappingURL=Match.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst PacketEntity_1 = require(\"../Data/PacketEntity\");\r\nconst BaseEntityHandler_1 = require(\"./BaseEntityHandler\");\r\nconst HL2DMEntityHandler_1 = require(\"./HL2DMEntityHandler\");\r\nconst TFEntityHandler_1 = require(\"./TFEntityHandler\");\r\nfunction handlePacketEntities(packet, match, message) {\r\n    for (const entity of packet.entities) {\r\n        BaseEntityHandler_1.handleBaseEntity(entity, match, message);\r\n        switch (match.parserState.game) {\r\n            case 'tf':\r\n                TFEntityHandler_1.handleTFEntity(entity, match, message);\r\n                break;\r\n            case 'hl2mp':\r\n                HL2DMEntityHandler_1.handleHL2DMEntity(entity, match, message);\r\n                break;\r\n        }\r\n    }\r\n}\r\nexports.handlePacketEntities = handlePacketEntities;\r\nfunction handlePacketEntitiesForState(packet, state) {\r\n    for (const removedEntityId of packet.removedEntities) {\r\n        state.entityClasses.delete(removedEntityId);\r\n    }\r\n    for (const entity of packet.entities) {\r\n        saveEntity(entity, state);\r\n    }\r\n}\r\nexports.handlePacketEntitiesForState = handlePacketEntitiesForState;\r\nfunction saveEntity(packetEntity, state) {\r\n    if (packetEntity.pvs === PacketEntity_1.PVS.DELETE) {\r\n        state.entityClasses.delete(packetEntity.entityIndex);\r\n    }\r\n    state.entityClasses.set(packetEntity.entityIndex, packetEntity.serverClass);\r\n}\r\n//# sourceMappingURL=PacketEntities.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Message_1 = require(\"./Data/Message\");\r\nconst Packet_1 = require(\"./Data/Packet\");\r\nconst ParserState_1 = require(\"./Data/ParserState\");\r\nconst Header_1 = require(\"./Parser/Header\");\r\nconst ConsoleCmd_1 = require(\"./Parser/Message/ConsoleCmd\");\r\nconst DataTable_1 = require(\"./Parser/Message/DataTable\");\r\nconst Packet_2 = require(\"./Parser/Message/Packet\");\r\nconst Stop_1 = require(\"./Parser/Message/Stop\");\r\nconst StringTable_1 = require(\"./Parser/Message/StringTable\");\r\nconst SyncTick_1 = require(\"./Parser/Message/SyncTick\");\r\nconst UserCmd_1 = require(\"./Parser/Message/UserCmd\");\r\nexports.messageHandlers = new Map([\r\n    [Message_1.MessageType.Sigon, Packet_2.PacketMessageHandler],\r\n    [Message_1.MessageType.Packet, Packet_2.PacketMessageHandler],\r\n    [Message_1.MessageType.ConsoleCmd, ConsoleCmd_1.ConsoleCmdHandler],\r\n    [Message_1.MessageType.UserCmd, UserCmd_1.UserCmdHandler],\r\n    [Message_1.MessageType.DataTables, DataTable_1.DataTableHandler],\r\n    [Message_1.MessageType.StringTables, StringTable_1.StringTableHandler],\r\n    [Message_1.MessageType.SyncTick, SyncTick_1.SyncTickHandler],\r\n    [Message_1.MessageType.Stop, Stop_1.StopHandler]\r\n]);\r\nclass Parser {\r\n    constructor(stream, skipPackets = []) {\r\n        this.header = null;\r\n        this.lastMessage = -1;\r\n        this.stream = stream;\r\n        this.parserState = new ParserState_1.ParserState();\r\n        if (this.getHeader().game === 'hl2mp') {\r\n            // for hl2dm we always need packet entities for team info and never tempEntities since it crashes the parser\r\n            this.parserState.skippedPackets = [Packet_1.PacketTypeId.tempEntities];\r\n        }\r\n        else {\r\n            this.parserState.skippedPackets = skipPackets;\r\n        }\r\n    }\r\n    getHeader() {\r\n        if (!this.header) {\r\n            this.header = Header_1.parseHeader(this.stream);\r\n        }\r\n        return this.header;\r\n    }\r\n    *getPackets() {\r\n        // ensure that we are past the header\r\n        this.getHeader();\r\n        for (const message of this.iterateMessages()) {\r\n            yield* this.handleMessage(message);\r\n        }\r\n    }\r\n    *getMessages() {\r\n        // ensure that we are past the header\r\n        this.getHeader();\r\n        for (const message of this.iterateMessages()) {\r\n            for (const _ of this.handleMessage(message)) {\r\n                // noop, loop needed to \"drain\" iterator\r\n            }\r\n            yield message;\r\n        }\r\n    }\r\n    *iterateMessages() {\r\n        while (true) {\r\n            const message = this.readMessage(this.stream, this.parserState);\r\n            yield message;\r\n            if (message.type === Message_1.MessageType.Stop) {\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    *handleMessage(message) {\r\n        this.parserState.handleMessage(message);\r\n        if (message.type === Message_1.MessageType.Packet) {\r\n            for (const packet of message.packets) {\r\n                this.parserState.handlePacket(packet);\r\n                yield packet;\r\n            }\r\n        }\r\n    }\r\n    readMessage(stream, state) {\r\n        if (stream.bitsLeft < 8) {\r\n            throw new Error('Stream ended without stop packet');\r\n        }\r\n        const type = stream.readUint8();\r\n        if (type === 0) {\r\n            return {\r\n                type: Message_1.MessageType.Stop,\r\n                rawData: stream.readBitStream(0)\r\n            };\r\n        }\r\n        const handler = exports.messageHandlers.get(type);\r\n        if (!handler) {\r\n            throw new Error(`No handler for message of type ${Message_1.MessageType[type]}(${type}),\r\n\t\t\tlast message: ${Message_1.MessageType[this.lastMessage]}(${this.lastMessage})`);\r\n        }\r\n        this.lastMessage = type;\r\n        return handler.parseMessage(this.stream, state);\r\n    }\r\n}\r\nexports.Parser = Parser;\r\n//# sourceMappingURL=Parser.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst SendPropDefinition_1 = require(\"../Data/SendPropDefinition\");\r\nconst Vector_1 = require(\"../Data/Vector\");\r\nconst Math_1 = require(\"../Math\");\r\nconst readBitVar_1 = require(\"./readBitVar\");\r\nconst SendPropParser_1 = require(\"./SendPropParser\");\r\nclass SendPropEncoder {\r\n    static encode(value, propDefinition, stream) {\r\n        switch (propDefinition.type) {\r\n            case SendPropDefinition_1.SendPropType.DPT_Int:\r\n                if (typeof value !== 'number') {\r\n                    throw new Error(`Invalid value for DPT_Int ${JSON.stringify(value)}`);\r\n                }\r\n                return SendPropEncoder.writeInt(value, propDefinition, stream);\r\n            case SendPropDefinition_1.SendPropType.DPT_Vector:\r\n                if (!(value instanceof Vector_1.Vector)) {\r\n                    throw new Error(`Invalid value for DPT_Vector ${JSON.stringify(value)}`);\r\n                }\r\n                return SendPropEncoder.writeVector(value, propDefinition, stream);\r\n            case SendPropDefinition_1.SendPropType.DPT_VectorXY:\r\n                if (!(value instanceof Vector_1.Vector)) {\r\n                    throw new Error(`Invalid value for DPT_VectorXY ${JSON.stringify(value)}`);\r\n                }\r\n                return SendPropEncoder.writeVectorXY(value, propDefinition, stream);\r\n            case SendPropDefinition_1.SendPropType.DPT_Float:\r\n                if (typeof value !== 'number') {\r\n                    throw new Error(`Invalid value for DPT_Float ${JSON.stringify(value)}`);\r\n                }\r\n                return SendPropEncoder.writeFloat(value, propDefinition, stream);\r\n            case SendPropDefinition_1.SendPropType.DPT_String:\r\n                if (typeof value !== 'string') {\r\n                    throw new Error(`Invalid value for DPT_String ${JSON.stringify(value)}`);\r\n                }\r\n                return SendPropEncoder.writeString(value, stream);\r\n            case SendPropDefinition_1.SendPropType.DPT_Array:\r\n                if (!Array.isArray(value)) {\r\n                    throw new Error(`Invalid value for DPT_Array ${JSON.stringify(value)}`);\r\n                }\r\n                return SendPropEncoder.writeArray(value, propDefinition, stream);\r\n        }\r\n        throw new Error('Unknown property type');\r\n    }\r\n    static writeInt(value, propDefinition, stream) {\r\n        if (propDefinition.hasFlag(SendPropDefinition_1.SendPropFlag.SPROP_VARINT)) {\r\n            return readBitVar_1.writeVarInt(value, stream, !propDefinition.hasFlag(SendPropDefinition_1.SendPropFlag.SPROP_UNSIGNED));\r\n        }\r\n        else {\r\n            if (propDefinition.hasFlag(SendPropDefinition_1.SendPropFlag.SPROP_UNSIGNED)) {\r\n                return stream.writeBits(value, propDefinition.bitCount);\r\n            }\r\n            else {\r\n                return stream.writeBits(readBitVar_1.makeUnsigned(value), propDefinition.bitCount);\r\n            }\r\n        }\r\n    }\r\n    static writeArray(value, propDefinition, stream) {\r\n        const numBits = Math_1.logBase2(propDefinition.numElements) + 1;\r\n        stream.writeBits(value.length, numBits);\r\n        if (!propDefinition.arrayProperty) {\r\n            throw new Error('Array of undefined type');\r\n        }\r\n        for (const arrayValue of value) {\r\n            SendPropEncoder.encode(arrayValue, propDefinition.arrayProperty, stream);\r\n        }\r\n    }\r\n    static writeString(value, stream) {\r\n        stream.writeBits(value.length, 9);\r\n        if (value) {\r\n            // specify the length to exclude the null terminator\r\n            stream.writeASCIIString(value, value.length);\r\n        }\r\n    }\r\n    static writeVector(value, propDefinition, stream) {\r\n        SendPropEncoder.writeFloat(value.x, propDefinition, stream);\r\n        SendPropEncoder.writeFloat(value.y, propDefinition, stream);\r\n        SendPropEncoder.writeFloat(value.z, propDefinition, stream);\r\n    }\r\n    static writeVectorXY(value, propDefinition, stream) {\r\n        SendPropEncoder.writeFloat(value.x, propDefinition, stream);\r\n        SendPropEncoder.writeFloat(value.y, propDefinition, stream);\r\n    }\r\n    static writeFloat(value, propDefinition, stream) {\r\n        if (propDefinition.hasFlag(SendPropDefinition_1.SendPropFlag.SPROP_COORD)) {\r\n            return SendPropEncoder.writeBitCoord(value, stream);\r\n        }\r\n        else if (propDefinition.hasFlag(SendPropDefinition_1.SendPropFlag.SPROP_COORD_MP)) {\r\n            return SendPropEncoder.writeBitCoordMP(value, stream, false, false);\r\n        }\r\n        else if (propDefinition.hasFlag(SendPropDefinition_1.SendPropFlag.SPROP_COORD_MP_LOWPRECISION)) {\r\n            return SendPropEncoder.writeBitCoordMP(value, stream, false, true);\r\n        }\r\n        else if (propDefinition.hasFlag(SendPropDefinition_1.SendPropFlag.SPROP_COORD_MP_INTEGRAL)) {\r\n            return SendPropEncoder.writeBitCoordMP(value, stream, true, false);\r\n        }\r\n        else if (propDefinition.hasFlag(SendPropDefinition_1.SendPropFlag.SPROP_NOSCALE)) {\r\n            return stream.writeFloat32(value);\r\n        }\r\n        else if (propDefinition.hasFlag(SendPropDefinition_1.SendPropFlag.SPROP_NORMAL)) {\r\n            return SendPropEncoder.writeBitNormal(value, stream);\r\n        }\r\n        else {\r\n            const percentage = (value - propDefinition.lowValue) / (propDefinition.highValue - propDefinition.lowValue);\r\n            const raw = Math.round(percentage * ((1 << propDefinition.bitCount) - 1));\r\n            stream.writeBits(raw, propDefinition.bitCount);\r\n        }\r\n    }\r\n    static writeBitNormal(value, stream) {\r\n        stream.writeBoolean(value < 0);\r\n        const abs = Math.abs(value);\r\n        const fractPart = abs % 1;\r\n        const fractVal = Math.round(fractPart / SendPropParser_1.bitNormalFactor);\r\n        stream.writeBits(fractVal, 11);\r\n    }\r\n    static writeBitCoord(value, stream) {\r\n        const abs = Math.abs(value);\r\n        const intPart = Math.floor(abs);\r\n        const fractPart = abs % 1;\r\n        stream.writeBoolean(intPart !== 0);\r\n        stream.writeBoolean(fractPart !== 0);\r\n        if (intPart || fractPart) {\r\n            stream.writeBoolean(value < 0);\r\n            if (intPart) {\r\n                stream.writeBits(intPart - 1, 14);\r\n            }\r\n            if (fractPart) {\r\n                stream.writeBits(fractPart * 32, 5);\r\n            }\r\n        }\r\n    }\r\n    static writeBitCoordMP(value, stream, isIntegral, isLowPrecision) {\r\n        const abs = Math.abs(value);\r\n        const intPart = Math.floor(abs);\r\n        const fractPart = abs % 1;\r\n        const inBounds = intPart < Math.pow(2, 11);\r\n        stream.writeBoolean(inBounds);\r\n        stream.writeBoolean(intPart > 0);\r\n        if (isIntegral) {\r\n            if (intPart) {\r\n                stream.writeBoolean(value < 0);\r\n                if (inBounds) {\r\n                    stream.writeBits(intPart - 1, 11);\r\n                }\r\n                else {\r\n                    stream.writeBits(intPart - 1, 14);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            stream.writeBoolean(value < 0);\r\n            if (intPart) {\r\n                if (inBounds) {\r\n                    stream.writeBits(intPart - 1, 11);\r\n                }\r\n                else {\r\n                    stream.writeBits(intPart - 1, 14);\r\n                }\r\n            }\r\n            const fractVal = Math.round(fractPart / (1 / (1 << (isLowPrecision ? 3 : 5))));\r\n            stream.writeBits(fractVal, isLowPrecision ? 3 : 5);\r\n        }\r\n    }\r\n}\r\nexports.SendPropEncoder = SendPropEncoder;\r\n//# sourceMappingURL=SendPropEncoder.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Math_1 = require(\"../Math\");\r\nfunction parseStringTableEntries(stream, table, entryCount, existingEntries = []) {\r\n    const entryBits = Math_1.logBase2(table.maxEntries);\r\n    const entries = [];\r\n    let lastEntry = -1;\r\n    const history = [];\r\n    for (let i = 0; i < entryCount; i++) {\r\n        const entryIndex = !stream.readBoolean() ? stream.readBits(entryBits) : lastEntry + 1;\r\n        lastEntry = entryIndex;\r\n        if (entryIndex < 0 || entryIndex > table.maxEntries) {\r\n            throw new Error('Invalid string index for string table');\r\n        }\r\n        let value;\r\n        if (stream.readBoolean()) {\r\n            const subStringCheck = stream.readBoolean();\r\n            if (subStringCheck) {\r\n                const index = stream.readBits(5);\r\n                const bytesToCopy = stream.readBits(5);\r\n                const restOfString = stream.readASCIIString();\r\n                if (!history[index].text) {\r\n                    value = restOfString; // best guess, happens in some pov demos but only for unimportant tables it seems\r\n                }\r\n                else {\r\n                    value = history[index].text.substr(0, bytesToCopy) + restOfString;\r\n                }\r\n            }\r\n            else {\r\n                value = stream.readASCIIString();\r\n            }\r\n        }\r\n        let userData;\r\n        if (stream.readBoolean()) {\r\n            if (table.fixedUserDataSize && table.fixedUserDataSizeBits) {\r\n                userData = stream.readBitStream(table.fixedUserDataSizeBits);\r\n            }\r\n            else {\r\n                const userDataBytes = stream.readBits(14);\r\n                userData = stream.readBitStream(userDataBytes * 8);\r\n            }\r\n        }\r\n        if (existingEntries[entryIndex]) {\r\n            const existingEntry = Object.assign({}, existingEntries[entryIndex]);\r\n            if (userData) {\r\n                existingEntry.extraData = userData;\r\n            }\r\n            if (typeof value !== 'undefined') {\r\n                existingEntry.text = value;\r\n            }\r\n            entries[entryIndex] = existingEntry;\r\n            history.push(existingEntry);\r\n        }\r\n        else {\r\n            entries[entryIndex] = {\r\n                text: value,\r\n                extraData: userData\r\n            };\r\n            history.push(entries[entryIndex]);\r\n        }\r\n        if (history.length > 32) {\r\n            history.shift();\r\n        }\r\n    }\r\n    return entries;\r\n}\r\nexports.parseStringTableEntries = parseStringTableEntries;\r\nfunction guessStringTableEntryLength(table, entries) {\r\n    // a rough guess of how many bytes are needed to encode the table entries\r\n    const entryBits = Math.ceil(Math_1.logBase2(table.maxEntries) / 8);\r\n    return entries.reduce((length, entry) => {\r\n        return length +\r\n            entryBits +\r\n            1 + // new index bit\r\n            1 + // misc boolean\r\n            1 + // substring bit\r\n            (entry.text ? entry.text.length + 1 : 1) + // +1 for null termination\r\n            (entry.extraData ? Math.ceil(entry.extraData.length / 8) : 0);\r\n    }, 1);\r\n}\r\nexports.guessStringTableEntryLength = guessStringTableEntryLength;\r\nfunction encodeStringTableEntries(stream, table, entries, oldEntries = []) {\r\n    const entryBits = Math_1.logBase2(table.maxEntries);\r\n    let lastIndex = -1;\r\n    const history = [];\r\n    for (let i = 0; i < entries.length; i++) {\r\n        if (entries[i]) {\r\n            const entry = entries[i];\r\n            if (i !== (lastIndex + 1)) {\r\n                stream.writeBoolean(false);\r\n                stream.writeBits(i, entryBits);\r\n            }\r\n            else {\r\n                stream.writeBoolean(true);\r\n            }\r\n            lastIndex = i;\r\n            if (typeof entry.text !== 'undefined' && !(oldEntries[i] && entry.text === oldEntries[i].text)) {\r\n                stream.writeBoolean(true);\r\n                const { index, count } = getBestPreviousString(history, entry.text);\r\n                if (index !== -1) {\r\n                    stream.writeBoolean(true);\r\n                    stream.writeBits(index, 5);\r\n                    stream.writeBits(count, 5);\r\n                    stream.writeASCIIString(entry.text.substr(count));\r\n                }\r\n                else {\r\n                    stream.writeBoolean(false);\r\n                    stream.writeASCIIString(entry.text);\r\n                }\r\n            }\r\n            else {\r\n                stream.writeBoolean(false);\r\n            }\r\n            if (entry.extraData) {\r\n                stream.writeBoolean(true);\r\n                entry.extraData.index = 0;\r\n                if (table.fixedUserDataSize && table.fixedUserDataSizeBits) {\r\n                    stream.writeBitStream(entry.extraData, table.fixedUserDataSizeBits);\r\n                }\r\n                else {\r\n                    const byteLength = Math.ceil(entry.extraData.length / 8);\r\n                    stream.writeBits(byteLength, 14);\r\n                    stream.writeBitStream(entry.extraData, byteLength * 8);\r\n                }\r\n                entry.extraData.index = 0;\r\n            }\r\n            else {\r\n                stream.writeBoolean(false);\r\n            }\r\n            history.push(entry);\r\n            if (history.length > 32) {\r\n                history.shift();\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.encodeStringTableEntries = encodeStringTableEntries;\r\nfunction getBestPreviousString(history, newString) {\r\n    let bestIndex = -1;\r\n    let bestCount = 0;\r\n    for (let i = 0; i < history.length; i++) {\r\n        const prev = history[i].text;\r\n        const similar = countSimilarCharacters(prev, newString);\r\n        if (similar >= 3 && similar > bestCount) {\r\n            bestCount = similar;\r\n            bestIndex = i;\r\n        }\r\n    }\r\n    return {\r\n        index: bestIndex,\r\n        count: bestCount\r\n    };\r\n}\r\nconst maxSimLength = 1 << 5;\r\nfunction countSimilarCharacters(a, b) {\r\n    const length = Math.min(a.length, b.length, maxSimLength);\r\n    for (let i = 0; i < length; i++) {\r\n        if (a[i] !== b[i]) {\r\n            return i;\r\n        }\r\n    }\r\n    return Math.min(length, maxSimLength - 1);\r\n}\r\n//# sourceMappingURL=StringTableParser.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst SendProp_1 = require(\"../Data/SendProp\");\r\nconst readBitVar_1 = require(\"./readBitVar\");\r\nconst SendPropEncoder_1 = require(\"./SendPropEncoder\");\r\nconst SendPropParser_1 = require(\"./SendPropParser\");\r\nfunction getEntityUpdate(sendTable, stream) {\r\n    let index = -1;\r\n    const allProps = sendTable.flattenedProps;\r\n    const props = new Map();\r\n    let lastIndex = -1;\r\n    while (stream.readBoolean()) {\r\n        lastIndex = index;\r\n        index = readFieldIndex(stream, index);\r\n        if (index >= 4096 || index > allProps.length) {\r\n            throw new Error(`prop index out of bounds while applying update for ${sendTable.name}\r\n\t\t\tgot ${index} property only has ${allProps.length} properties (lastProp: ${lastIndex})`);\r\n        }\r\n        const propDefinition = allProps[index];\r\n        const prop = new SendProp_1.SendProp(propDefinition);\r\n        prop.value = SendPropParser_1.SendPropParser.decode(propDefinition, stream);\r\n        props.set(propDefinition.fullName, prop);\r\n    }\r\n    return Array.from(props.values());\r\n}\r\nexports.getEntityUpdate = getEntityUpdate;\r\nfunction encodeEntityUpdate(props, sendTable, stream) {\r\n    const allProps = sendTable.flattenedProps;\r\n    props.sort((propA, propB) => {\r\n        const indexA = allProps.findIndex((propDef) => propDef.fullName === propA.definition.fullName);\r\n        const indexB = allProps.findIndex((propDef) => propDef.fullName === propB.definition.fullName);\r\n        return indexA - indexB;\r\n    });\r\n    let lastIndex = -1;\r\n    for (const prop of props) {\r\n        stream.writeBoolean(true);\r\n        const index = allProps.findIndex((propDef) => propDef.fullName === prop.definition.fullName);\r\n        if (index === -1) {\r\n            throw new Error(`Unknown definition for property ${prop.definition.fullName} in ${sendTable.name}`);\r\n        }\r\n        if (index < lastIndex) {\r\n            throw new Error(`Property index not incremental while encoding ` +\r\n                `${prop.definition.fullName} after ${allProps[lastIndex].fullName} ` +\r\n                `in ${sendTable.name} (current: ${index}, last: ${lastIndex})`);\r\n        }\r\n        writeFieldIndex(index, stream, lastIndex);\r\n        lastIndex = index;\r\n        if (prop.value !== null) {\r\n            SendPropEncoder_1.SendPropEncoder.encode(prop.value, prop.definition, stream);\r\n        }\r\n    }\r\n    stream.writeBoolean(false);\r\n}\r\nexports.encodeEntityUpdate = encodeEntityUpdate;\r\nfunction readFieldIndex(stream, lastIndex) {\r\n    const diff = readBitVar_1.readBitVar(stream);\r\n    return lastIndex + diff + 1;\r\n}\r\nfunction writeFieldIndex(index, stream, lastIndex) {\r\n    const diff = index - lastIndex - 1;\r\n    readBitVar_1.writeBitVar(diff, stream);\r\n}\r\n//# sourceMappingURL=EntityDecoder.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction make(name, definition, nameKey = 'packetType', extraData = {}) {\r\n    const parts = definition.split('}');\r\n    const items = parts.map((part) => {\r\n        return part.split('{');\r\n    }).filter((part) => part[0]);\r\n    const parser = (stream) => {\r\n        const result = Object.assign({}, extraData);\r\n        result[nameKey] = name;\r\n        try {\r\n            for (const group of items) {\r\n                const value = readItem(stream, group[1], result);\r\n                if (group[0] !== '_') {\r\n                    result[group[0]] = value;\r\n                }\r\n            }\r\n        }\r\n        catch (e) {\r\n            throw new Error('Failed reading pattern ' + definition + '. ' + e);\r\n        }\r\n        return result;\r\n    };\r\n    const encoder = (packet, stream) => {\r\n        for (const group of items) {\r\n            writeItem(stream, group[1], packet, packet[group[0]]);\r\n        }\r\n    };\r\n    return { parser, encoder, name };\r\n}\r\nexports.make = make;\r\nfunction readItem(stream, description, data) {\r\n    if (description[0] === 'b') {\r\n        return stream.readBoolean();\r\n    }\r\n    else if (description[0] === 's') {\r\n        if (description.length === 1) {\r\n            return stream.readUTF8String();\r\n        }\r\n        else {\r\n            const length = parseInt(description.substr(1), 10);\r\n            return stream.readASCIIString(length);\r\n        }\r\n    }\r\n    else if (description === 'f32') {\r\n        return stream.readFloat32();\r\n    }\r\n    else if (description[0] === 'u') {\r\n        const length = parseInt(description.substr(1), 10);\r\n        return stream.readBits(length);\r\n    }\r\n    else if (description[0] === '$' && description.substr(description.length - 2) === '*8') {\r\n        const variable = description.substr(1, description.length - 3);\r\n        return stream.readBitStream(data[variable] * 8);\r\n    }\r\n    else if (description[0] === '$') {\r\n        const variable = description.substr(1);\r\n        return stream.readBitStream(data[variable]);\r\n    }\r\n    else {\r\n        return stream.readBits(parseInt(description, 10), true);\r\n    }\r\n}\r\nfunction writeItem(stream, description, data, value) {\r\n    if (description[0] === 'b') {\r\n        return stream.writeBoolean(value);\r\n    }\r\n    else if (description[0] === 's') {\r\n        if (description.length === 1) {\r\n            return stream.writeUTF8String(value);\r\n        }\r\n        else {\r\n            const length = parseInt(description.substr(1), 10);\r\n            return stream.writeUTF8String(value, length);\r\n        }\r\n    }\r\n    else if (description === 'f32') {\r\n        return stream.writeFloat32(value);\r\n    }\r\n    else if (description[0] === 'u') {\r\n        const length = parseInt(description.substr(1), 10);\r\n        return stream.writeBits(value, length);\r\n    }\r\n    else if (description[0] === '$' && description.substr(description.length - 2) === '*8') {\r\n        const variable = description.substr(1, description.length - 3);\r\n        return stream.writeBitStream(value, data[variable] * 8);\r\n    }\r\n    else if (description[0] === '$') {\r\n        const variable = description.substr(1);\r\n        return stream.writeBitStream(value, data[variable]);\r\n    }\r\n    else {\r\n        return stream.writeBits(value, parseInt(description, 10));\r\n    }\r\n}\r\n//# sourceMappingURL=ParserGenerator.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Demo_1 = require(\"./Demo\");\r\nexports.Demo = Demo_1.Demo;\r\nvar Parser_1 = require(\"./Parser\");\r\nexports.Parser = Parser_1.Parser;\r\nvar Match_1 = require(\"./Data/Match\");\r\nexports.Match = Match_1.Match;\r\nvar Player_1 = require(\"./Data/Player\");\r\nexports.Player = Player_1.Player;\r\nvar PlayerCondition_1 = require(\"./Data/PlayerCondition\");\r\nexports.PlayerCondition = PlayerCondition_1.PlayerCondition;\r\nvar PacketEntity_1 = require(\"./Data/PacketEntity\");\r\nexports.PacketEntity = PacketEntity_1.PacketEntity;\r\nvar SendPropDefinition_1 = require(\"./Data/SendPropDefinition\");\r\nexports.SendPropDefinition = SendPropDefinition_1.SendPropDefinition;\r\nexports.SendPropFlag = SendPropDefinition_1.SendPropFlag;\r\nexports.SendPropType = SendPropDefinition_1.SendPropType;\r\nvar SendProp_1 = require(\"./Data/SendProp\");\r\nexports.SendProp = SendProp_1.SendProp;\r\nvar Vector_1 = require(\"./Data/Vector\");\r\nexports.Vector = Vector_1.Vector;\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst bit_buffer_1 = require(\"bit-buffer\");\r\nconst Analyser_1 = require(\"./Analyser\");\r\nconst Packet_1 = require(\"./Data/Packet\");\r\nconst Parser_1 = require(\"./Parser\");\r\nvar ParseMode;\r\n(function (ParseMode) {\r\n    ParseMode[ParseMode[\"MINIMAL\"] = 0] = \"MINIMAL\";\r\n    ParseMode[ParseMode[\"ENTITIES\"] = 1] = \"ENTITIES\";\r\n    ParseMode[ParseMode[\"COMPLETE\"] = 2] = \"COMPLETE\";\r\n})(ParseMode = exports.ParseMode || (exports.ParseMode = {}));\r\nclass Demo {\r\n    static fromNodeBuffer(nodeBuffer) {\r\n        return new Demo(nodeBuffer.buffer);\r\n    }\r\n    constructor(arrayBuffer) {\r\n        this.stream = new bit_buffer_1.BitStream(arrayBuffer);\r\n    }\r\n    getParser(mode = ParseMode.ENTITIES) {\r\n        if (!this.parser) {\r\n            this.parser = new Parser_1.Parser(this.stream, this.getSkippedPackets(mode));\r\n        }\r\n        return this.parser;\r\n    }\r\n    getAnalyser(mode = ParseMode.ENTITIES) {\r\n        return new Analyser_1.Analyser(this.getParser(mode));\r\n    }\r\n    getSkippedPackets(mode) {\r\n        switch (mode) {\r\n            case ParseMode.MINIMAL:\r\n                return [\r\n                    Packet_1.PacketTypeId.packetEntities,\r\n                    Packet_1.PacketTypeId.tempEntities,\r\n                    Packet_1.PacketTypeId.entityMessage\r\n                ];\r\n            case ParseMode.ENTITIES:\r\n                return [\r\n                    Packet_1.PacketTypeId.tempEntities\r\n                ];\r\n            case ParseMode.COMPLETE:\r\n                return [];\r\n        }\r\n    }\r\n}\r\nexports.Demo = Demo;\r\n//# sourceMappingURL=Demo.js.map","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst events_1 = require(\"events\");\r\nconst Match_1 = require(\"./Data/Match\");\r\nconst Message_1 = require(\"./Data/Message\");\r\nclass Analyser extends events_1.EventEmitter {\r\n    constructor(parser) {\r\n        super();\r\n        this.analysed = false;\r\n        this.parser = parser;\r\n        this.match = new Match_1.Match(this.parser.parserState);\r\n    }\r\n    getHeader() {\r\n        return this.parser.getHeader();\r\n    }\r\n    getBody() {\r\n        if (!this.analysed) {\r\n            for (const packet of this.getPackets()) {\r\n                this.emit('packet', packet);\r\n            }\r\n            this.emit('done');\r\n        }\r\n        this.analysed = true;\r\n        return this.match;\r\n    }\r\n    *getPackets() {\r\n        for (const message of this.parser.getMessages()) {\r\n            if (message.type === Message_1.MessageType.Packet) {\r\n                for (const packet of message.packets) {\r\n                    this.match.handlePacket(packet, message);\r\n                    yield packet;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    *getMessages() {\r\n        for (const message of this.parser.getMessages()) {\r\n            if (message.type === Message_1.MessageType.Packet) {\r\n                for (const packet of message.packets) {\r\n                    this.match.handlePacket(packet, message);\r\n                }\r\n            }\r\n            yield message;\r\n        }\r\n    }\r\n}\r\nexports.Analyser = Analyser;\r\n//# sourceMappingURL=Analyser.js.map","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction handleGameEvent(packet, match) {\r\n    switch (packet.event.name) {\r\n        case 'player_death':\r\n            handlePlayerDeath(packet.event, match);\r\n            break;\r\n        case 'teamplay_round_win':\r\n            handleRoundWin(packet.event, match);\r\n            break;\r\n        case 'player_spawn':\r\n            handlePlayerSpawn(packet.event, match);\r\n            break;\r\n        case 'object_destroyed':\r\n            handleObjectDestroyed(packet.event, match);\r\n            break;\r\n        case 'teamplay_round_start':\r\n            handleRoundStart(packet.event, match);\r\n            break;\r\n    }\r\n}\r\nexports.handleGameEvent = handleGameEvent;\r\nfunction handlePlayerDeath(event, match) {\r\n    const values = event.values;\r\n    while (values.assister > 256 && values.assister < (1024 * 16)) {\r\n        values.assister -= 256;\r\n    }\r\n    const assister = values.assister < 256 ? values.assister : null;\r\n    // todo get player names, not same id as the name string table (entity id?)\r\n    while (values.attacker > 256) {\r\n        values.attacker -= 256;\r\n    }\r\n    while (values.userid > 256) {\r\n        values.userid -= 256;\r\n    }\r\n    match.deaths.push({\r\n        killer: values.attacker,\r\n        assister,\r\n        victim: values.userid,\r\n        weapon: values.weapon,\r\n        tick: match.tick\r\n    });\r\n}\r\nfunction handleRoundWin(event, match) {\r\n    const values = event.values;\r\n    if (values.winreason !== 6) { // 6 = timelimit\r\n        match.rounds.push({\r\n            winner: values.team === 2 ? 'red' : 'blue',\r\n            length: values.round_time,\r\n            endTick: match.tick\r\n        });\r\n    }\r\n}\r\nfunction handlePlayerSpawn(event, match) {\r\n    const values = event.values;\r\n    const userId = values.userid;\r\n    const userState = match.getUserInfo(userId);\r\n    const player = match.playerEntityMap.get(userState.entityId);\r\n    userState.team = values.team === 2 ? 'red' : 'blue';\r\n    const classId = values.class;\r\n    if (player) {\r\n        player.classId = classId;\r\n        player.team = values.team;\r\n    }\r\n    if (!userState.classes[classId]) {\r\n        userState.classes[classId] = 0;\r\n    }\r\n    userState.classes[classId]++;\r\n}\r\nfunction handleObjectDestroyed(event, match) {\r\n    const values = event.values;\r\n    match.buildings.delete(values.index);\r\n}\r\nfunction handleRoundStart(event, match) {\r\n    match.buildings.clear();\r\n}\r\n//# sourceMappingURL=GameEvent.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction handleBaseEntity(entity, match, message) {\r\n    for (const prop of entity.props) {\r\n        if (prop.definition.ownerTableName === 'DT_AttributeContainer' && prop.definition.name === 'm_hOuter') {\r\n            if (!match.outerMap.has(prop.value)) {\r\n                match.outerMap.set(prop.value, entity.entityIndex);\r\n            }\r\n        }\r\n        if (prop.definition.ownerTableName === 'DT_AttributeManager' && prop.definition.name === 'm_hOuter') {\r\n            if (!match.outerMap.has(prop.value)) {\r\n                match.outerMap.set(prop.value, entity.entityIndex);\r\n            }\r\n        }\r\n        if (prop.definition.ownerTableName === 'DT_BaseCombatWeapon' && prop.definition.name === 'm_hOwner') {\r\n            if (!match.weaponMap.has(entity.entityIndex)) {\r\n                match.weaponMap.set(entity.entityIndex, {\r\n                    className: entity.serverClass.name,\r\n                    owner: prop.value\r\n                });\r\n            }\r\n        }\r\n    }\r\n    switch (entity.serverClass.name) {\r\n        case 'CWorld':\r\n            match.world.boundaryMin = entity.getProperty('DT_WORLD', 'm_WorldMins').value;\r\n            match.world.boundaryMax = entity.getProperty('DT_WORLD', 'm_WorldMaxs').value;\r\n            break;\r\n    }\r\n}\r\nexports.handleBaseEntity = handleBaseEntity;\r\n//# sourceMappingURL=BaseEntityHandler.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Player_1 = require(\"../Data/Player\");\r\nfunction handleHL2DMEntity(entity, match, message) {\r\n    switch (entity.serverClass.name) {\r\n        case 'CHL2MP_Player':\r\n            const userInfo = match.getUserInfoForEntity(entity);\r\n            if (!userInfo) {\r\n                throw new Error(`No user info for entity ${entity.entityIndex}`);\r\n            }\r\n            if (userInfo.entityId !== entity.entityIndex) {\r\n                throw new Error(`Invalid user info for entity ${entity.entityIndex} vs ${userInfo.entityId}`);\r\n            }\r\n            const player = (match.playerEntityMap.has(entity.entityIndex)) ?\r\n                match.playerEntityMap.get(entity.entityIndex) :\r\n                new Player_1.Player(match, userInfo);\r\n            if (!match.playerEntityMap.has(entity.entityIndex)) {\r\n                match.playerEntityMap.set(entity.entityIndex, player);\r\n            }\r\n            for (const prop of entity.props) {\r\n                if (prop.definition.ownerTableName === 'm_hMyWeapons') {\r\n                    if (prop.value !== 2097151) {\r\n                        player.weaponIds[parseInt(prop.definition.name, 10)] = prop.value;\r\n                    }\r\n                }\r\n                if (prop.definition.ownerTableName === 'm_iAmmo') {\r\n                    if (prop.value !== null && prop.value > 0) {\r\n                        player.ammo[parseInt(prop.definition.name, 10)] = prop.value;\r\n                    }\r\n                }\r\n                const propName = prop.definition.ownerTableName + '.' + prop.definition.name;\r\n                switch (propName) {\r\n                    case 'DT_BaseEntity.m_iTeamNum':\r\n                        if (!player.user.team && (prop.value === 2 || prop.value === 3)) {\r\n                            player.user.team = prop.value === 2 ? 'red' : 'blue';\r\n                        }\r\n                        player.team = prop.value;\r\n                        break;\r\n                    case 'DT_BasePlayer.m_iHealth':\r\n                        player.health = prop.value;\r\n                        break;\r\n                    case 'DT_BasePlayer.m_iMaxHealth':\r\n                        player.maxHealth = prop.value;\r\n                        break;\r\n                    case 'DT_BaseEntity.m_vecOrigin':\r\n                        player.position.x = prop.value.x;\r\n                        player.position.y = prop.value.y;\r\n                        player.position.z = prop.value.z;\r\n                        break;\r\n                    case 'DT_HL2MP_Player.m_angEyeAngles[0]':\r\n                        player.viewAngle = prop.value;\r\n                        break;\r\n                    case 'DT_HL2MP_Player.m_angEyeAngles[1]':\r\n                        player.viewAngle = prop.value;\r\n                        break;\r\n                    case 'DT_BasePlayer.m_lifeState':\r\n                        player.lifeState = prop.value;\r\n                        break;\r\n                    case 'DT_BaseCombatCharacter.m_hActiveWeapon':\r\n                        for (let i = 0; i < player.weapons.length; i++) {\r\n                            if (player.weaponIds[i] === prop.value) {\r\n                                player.activeWeapon = i;\r\n                            }\r\n                        }\r\n                }\r\n            }\r\n            break;\r\n        case 'CTeam':\r\n            if (entity.hasProperty('DT_Team', 'm_iTeamNum')) {\r\n                const teamId = entity.getProperty('DT_Team', 'm_iTeamNum').value;\r\n                if (!match.teams.has(teamId)) {\r\n                    const team = {\r\n                        name: entity.getProperty('DT_Team', 'm_szTeamname').value,\r\n                        score: entity.getProperty('DT_Team', 'm_iScore').value,\r\n                        roundsWon: entity.getProperty('DT_Team', 'm_iRoundsWon').value,\r\n                        players: entity.getProperty('DT_Team', '\"player_array\"').value,\r\n                        teamNumber: teamId\r\n                    };\r\n                    match.teams.set(teamId, team);\r\n                    match.teamEntityMap.set(entity.entityIndex, team);\r\n                }\r\n            }\r\n            else {\r\n                const team = match.teamEntityMap.get(entity.entityIndex);\r\n                if (!team) {\r\n                    throw new Error(`No team with entity id: ${entity.entityIndex}`);\r\n                }\r\n                for (const prop of entity.props) {\r\n                    const propName = prop.definition.ownerTableName + '.' + prop.definition.name;\r\n                    switch (propName) {\r\n                        case 'DT_Team.m_iScore':\r\n                            team.score = prop.value;\r\n                            break;\r\n                        case 'DT_Team.m_szTeamname':\r\n                            team.name = prop.value;\r\n                            break;\r\n                        case 'DT_Team.m_iRoundsWon':\r\n                            team.roundsWon = prop.value;\r\n                            break;\r\n                        case 'DT_Team.\"player_array\"':\r\n                            team.players = prop.value;\r\n                            break;\r\n                    }\r\n                }\r\n            }\r\n            break;\r\n        case 'CPlayerResource':\r\n            for (const prop of entity.props) {\r\n                const playerId = parseInt(prop.definition.name, 10);\r\n                const value = prop.value;\r\n                if (!match.playerResources[playerId]) {\r\n                    match.playerResources[playerId] = {\r\n                        alive: false,\r\n                        arenaSpectator: false,\r\n                        bonusPoints: 0,\r\n                        chargeLevel: 0,\r\n                        connected: false,\r\n                        damageAssists: 0,\r\n                        damageBlocked: 0,\r\n                        deaths: 0,\r\n                        dominations: 0,\r\n                        healing: 0,\r\n                        healingAssist: 0,\r\n                        health: 0,\r\n                        killStreak: 0,\r\n                        maxBuffedHealth: 0,\r\n                        maxHealth: 0,\r\n                        nextRespawn: 0,\r\n                        ping: 0,\r\n                        playerClass: 0,\r\n                        playerLevel: 0,\r\n                        score: 0,\r\n                        team: 0,\r\n                        totalScore: 0,\r\n                        damage: 0\r\n                    };\r\n                }\r\n                const playerResource = match.playerResources[playerId];\r\n                switch (prop.definition.ownerTableName) {\r\n                    case 'm_iPing':\r\n                        playerResource.ping = value;\r\n                        break;\r\n                    case 'm_iScore':\r\n                        playerResource.score = value;\r\n                        break;\r\n                    case 'm_iDeaths':\r\n                        playerResource.deaths = value;\r\n                        break;\r\n                    case 'm_bConnected':\r\n                        playerResource.connected = value > 0;\r\n                        break;\r\n                    case 'm_iTeam':\r\n                        playerResource.team = value;\r\n                        break;\r\n                    case 'm_bAlive':\r\n                        playerResource.alive = value > 0;\r\n                        break;\r\n                    case 'm_iHealth':\r\n                        playerResource.health = value;\r\n                        break;\r\n                    case 'm_iTotalScore':\r\n                        playerResource.totalScore = value;\r\n                        break;\r\n                    case 'm_iMaxHealth':\r\n                        playerResource.maxHealth = value;\r\n                        break;\r\n                    case 'm_iMaxBuffedHealth':\r\n                        playerResource.maxBuffedHealth = value;\r\n                        break;\r\n                    case 'm_iPlayerClass':\r\n                        playerResource.playerClass = value;\r\n                        break;\r\n                    case 'm_bArenaSpectator':\r\n                        playerResource.arenaSpectator = value > 0;\r\n                        break;\r\n                    case 'm_iActiveDominations':\r\n                        playerResource.dominations = value;\r\n                        break;\r\n                    case 'm_flNextRespawnTime':\r\n                        playerResource.nextRespawn = value;\r\n                        break;\r\n                    case 'm_iChargeLevel':\r\n                        playerResource.chargeLevel = value;\r\n                        break;\r\n                    case 'm_iDamage':\r\n                        playerResource.damage = value;\r\n                        break;\r\n                    case 'm_iDamageAssist':\r\n                        playerResource.damageAssists = value;\r\n                        break;\r\n                    case 'm_iHealing':\r\n                        playerResource.healing = value;\r\n                        break;\r\n                    case 'm_iHealingAssist':\r\n                        playerResource.healingAssist = value;\r\n                        break;\r\n                    case 'm_iDamageBlocked':\r\n                        playerResource.damageBlocked = value;\r\n                        break;\r\n                    case 'm_iBonusPoints':\r\n                        playerResource.bonusPoints = value;\r\n                        break;\r\n                    case 'm_iPlayerLevel':\r\n                        playerResource.playerLevel = value;\r\n                        break;\r\n                    case 'm_iKillstreak':\r\n                        playerResource.killStreak = value;\r\n                        break;\r\n                }\r\n            }\r\n            break;\r\n    }\r\n}\r\nexports.handleHL2DMEntity = handleHL2DMEntity;\r\n//# sourceMappingURL=HL2DMEntityHandler.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst PacketEntity_1 = require(\"../Data/PacketEntity\");\r\nconst Player_1 = require(\"../Data/Player\");\r\nconst Projectile_1 = require(\"../Data/Projectile\");\r\nconst Vector_1 = require(\"../Data/Vector\");\r\nfunction handleTFEntity(entity, match, message) {\r\n    switch (entity.serverClass.name) {\r\n        case \"CTFPlayer\":\r\n            /**\r\n             * \"DT_TFPlayerScoringDataExclusive.m_iCaptures\": 0,\r\n             * \"DT_TFPlayerScoringDataExclusive.m_iDefenses\": 0,\r\n             * \"DT_TFPlayerScoringDataExclusive.m_iKills\": 5,\r\n             * \"DT_TFPlayerScoringDataExclusive.m_iDeaths\": 17,\r\n             * \"DT_TFPlayerScoringDataExclusive.m_iSuicides\": 7,\r\n             * \"DT_TFPlayerScoringDataExclusive.m_iDominations\": 0,\r\n             * \"DT_TFPlayerScoringDataExclusive.m_iRevenge\": 0,\r\n             * \"DT_TFPlayerScoringDataExclusive.m_iBuildingsBuilt\": 0,\r\n             * \"DT_TFPlayerScoringDataExclusive.m_iBuildingsDestroyed\": 0,\r\n             * \"DT_TFPlayerScoringDataExclusive.m_iHeadshots\": 0,\r\n             * \"DT_TFPlayerScoringDataExclusive.m_iBackstabs\": 0,\r\n             * \"DT_TFPlayerScoringDataExclusive.m_iHealPoints\": 0,\r\n             * \"DT_TFPlayerScoringDataExclusive.m_iInvulns\": 0,\r\n             * \"DT_TFPlayerScoringDataExclusive.m_iTeleports\": 0,\r\n             * \"DT_TFPlayerScoringDataExclusive.m_iDamageDone\": 847,\r\n             * \"DT_TFPlayerScoringDataExclusive.m_iCrits\": 0,\r\n             * \"DT_TFPlayerScoringDataExclusive.m_iResupplyPoints\": 0,\r\n             * \"DT_TFPlayerScoringDataExclusive.m_iKillAssists\": 0,\r\n             * \"DT_TFPlayerScoringDataExclusive.m_iBonusPoints\": 0,\r\n             * \"DT_TFPlayerScoringDataExclusive.m_iPoints\": 6,\r\n             * \"DT_TFPlayerSharedLocal.m_nDesiredDisguiseTeam\": 0,\r\n             * \"DT_TFPlayerSharedLocal.m_nDesiredDisguiseClass\": 0,\r\n             * \"DT_TFPlayerShared.m_iKillStreak\": 0,\r\n             * \"DT_TFPlayerShared.m_flCloakMeter\": 100,\r\n             */\r\n            const userInfo = match.getUserInfoForEntity(entity);\r\n            if (!userInfo) {\r\n                throw new Error(`No user info for entity ${entity.entityIndex}`);\r\n            }\r\n            const player = match.playerEntityMap.has(entity.entityIndex)\r\n                ? match.playerEntityMap.get(entity.entityIndex)\r\n                : new Player_1.Player(match, userInfo);\r\n            if (!match.playerEntityMap.has(entity.entityIndex)) {\r\n                match.playerEntityMap.set(entity.entityIndex, player);\r\n            }\r\n            for (const prop of entity.props) {\r\n                if (prop.definition.ownerTableName === \"m_hMyWeapons\") {\r\n                    if (prop.value !== 2097151) {\r\n                        player.weaponIds[parseInt(prop.definition.name, 10)] = prop.value;\r\n                    }\r\n                }\r\n                if (prop.definition.ownerTableName === \"m_iAmmo\") {\r\n                    if (prop.value !== null && prop.value > 0) {\r\n                        player.ammo[parseInt(prop.definition.name, 10)] = prop.value;\r\n                    }\r\n                }\r\n                const propName = prop.definition.ownerTableName + \".\" + prop.definition.name;\r\n                switch (propName) {\r\n                    case \"DT_BasePlayer.m_iHealth\":\r\n                        player.health = prop.value;\r\n                        break;\r\n                    case \"DT_BasePlayer.m_iMaxHealth\":\r\n                        player.maxHealth = prop.value;\r\n                        break;\r\n                    case \"DT_TFLocalPlayerExclusive.m_vecOrigin\":\r\n                        player.position.x = prop.value.x;\r\n                        player.position.y = prop.value.y;\r\n                        // set the view angles for the local player since that prop isn't send\r\n                        player.viewAngle = message.localViewAngles[0].y;\r\n                        player.viewAngles.x = message.localViewAngles[0].x;\r\n                        player.viewAngles.y = message.localViewAngles[0].y;\r\n                        player.viewAngles.z = message.localViewAngles[0].z;\r\n                        break;\r\n                    case \"DT_TFNonLocalPlayerExclusive.m_vecOrigin\":\r\n                        player.position.x = prop.value.x;\r\n                        player.position.y = prop.value.y;\r\n                        break;\r\n                    case \"DT_TFLocalPlayerExclusive.m_vecOrigin[2]\":\r\n                        player.position.z = prop.value;\r\n                        break;\r\n                    case \"DT_TFNonLocalPlayerExclusive.m_vecOrigin[2]\":\r\n                        player.position.z = prop.value;\r\n                        break;\r\n                    case \"DT_TFNonLocalPlayerExclusive.m_angEyeAngles[0]\":\r\n                        player.viewAngles.y = prop.value;\r\n                        break;\r\n                    case \"DT_TFNonLocalPlayerExclusive.m_angEyeAngles[1]\":\r\n                        player.viewAngle = prop.value;\r\n                        player.viewAngles.x = prop.value;\r\n                        break;\r\n                    case \"DT_TFLocalPlayerExclusive.m_angEyeAngles[0]\":\r\n                        player.viewAngles.y = prop.value;\r\n                        break;\r\n                    case \"DT_TFLocalPlayerExclusive.m_angEyeAngles[1]\":\r\n                        player.viewAngle = prop.value;\r\n                        player.viewAngles.x = prop.value;\r\n                        break;\r\n                    case \"DT_BasePlayer.m_lifeState\":\r\n                        player.lifeState = prop.value;\r\n                        break;\r\n                    case \"DT_BaseCombatCharacter.m_hActiveWeapon\":\r\n                        for (let i = 0; i < player.weapons.length; i++) {\r\n                            if (player.weaponIds[i] === prop.value) {\r\n                                player.activeWeapon = i;\r\n                            }\r\n                        }\r\n                }\r\n            }\r\n            break;\r\n        case \"CWeaponMedigun\":\r\n            const weapon = match.weaponMap.get(entity.entityIndex);\r\n            if (weapon && weapon.className === \"CWeaponMedigun\") {\r\n                for (const prop of entity.props) {\r\n                    const propName = prop.definition.ownerTableName + \".\" + prop.definition.name;\r\n                    switch (propName) {\r\n                        case \"DT_WeaponMedigun.m_hHealingTarget\":\r\n                            // prop.value is the entityId of the attribute manager - which is rather useless\r\n                            // to figure out which entity (player) that is being healed, so we convert it\r\n                            // to the entityId of the player instead\r\n                            weapon.healTarget = match.outerMap.get(prop.value);\r\n                            break;\r\n                        case \"DT_TFWeaponMedigunDataNonLocal.m_flChargeLevel\":\r\n                            weapon.chargeLevel = prop.value;\r\n                            break;\r\n                        case \"DT_LocalTFWeaponMedigunData.m_flChargeLevel\":\r\n                            weapon.chargeLevel = prop.value;\r\n                            break;\r\n                    }\r\n                }\r\n            }\r\n            break;\r\n        case \"CTFTeam\":\r\n            if (entity.hasProperty(\"DT_Team\", \"m_iTeamNum\")) {\r\n                const teamId = entity.getProperty(\"DT_Team\", \"m_iTeamNum\")\r\n                    .value;\r\n                if (!match.teams.has(teamId)) {\r\n                    const team = {\r\n                        name: entity.getProperty(\"DT_Team\", \"m_szTeamname\").value,\r\n                        score: entity.getProperty(\"DT_Team\", \"m_iScore\").value,\r\n                        roundsWon: entity.getProperty(\"DT_Team\", \"m_iRoundsWon\")\r\n                            .value,\r\n                        players: entity.getProperty(\"DT_Team\", '\"player_array\"')\r\n                            .value,\r\n                        teamNumber: teamId,\r\n                    };\r\n                    match.teams.set(teamId, team);\r\n                    match.teamEntityMap.set(entity.entityIndex, team);\r\n                }\r\n            }\r\n            else {\r\n                const team = match.teamEntityMap.get(entity.entityIndex);\r\n                if (!team) {\r\n                    throw new Error(`No team with entity id: ${entity.entityIndex}`);\r\n                }\r\n                for (const prop of entity.props) {\r\n                    const propName = prop.definition.ownerTableName + \".\" + prop.definition.name;\r\n                    switch (propName) {\r\n                        case \"DT_Team.m_iScore\":\r\n                            team.score = prop.value;\r\n                            break;\r\n                        case \"DT_Team.m_szTeamname\":\r\n                            team.name = prop.value;\r\n                            break;\r\n                        case \"DT_Team.m_iRoundsWon\":\r\n                            team.roundsWon = prop.value;\r\n                            break;\r\n                        case 'DT_Team.\"player_array\"':\r\n                            team.players = prop.value;\r\n                            break;\r\n                    }\r\n                }\r\n            }\r\n            break;\r\n        case \"CObjectSentrygun\":\r\n            if (!match.buildings.has(entity.entityIndex)) {\r\n                match.buildings.set(entity.entityIndex, {\r\n                    type: \"sentry\",\r\n                    ammoRockets: 0,\r\n                    ammoShells: 0,\r\n                    autoAimTarget: 0,\r\n                    builder: 0,\r\n                    health: 0,\r\n                    isBuilding: false,\r\n                    isSapped: false,\r\n                    level: 0,\r\n                    maxHealth: 0,\r\n                    playerControlled: false,\r\n                    position: new Vector_1.Vector(0, 0, 0),\r\n                    shieldLevel: 0,\r\n                    isMini: false,\r\n                    team: 0,\r\n                    angle: 0,\r\n                });\r\n            }\r\n            const sentry = match.buildings.get(entity.entityIndex);\r\n            for (const prop of entity.props) {\r\n                const propName = prop.definition.ownerTableName + \".\" + prop.definition.name;\r\n                applyBuildingProp(sentry, prop, propName);\r\n                switch (propName) {\r\n                    case \"DT_ObjectSentrygun.m_bPlayerControlled\":\r\n                        sentry.playerControlled = prop.value > 0;\r\n                        break;\r\n                    case \"DT_ObjectSentrygun.m_hAutoAimTarget\":\r\n                        sentry.autoAimTarget = prop.value;\r\n                        break;\r\n                    case \"DT_ObjectSentrygun.m_nShieldLevel\":\r\n                        sentry.shieldLevel = prop.value;\r\n                        break;\r\n                    case \"DT_ObjectSentrygun.m_iAmmoShells\":\r\n                        sentry.ammoShells = prop.value;\r\n                        break;\r\n                    case \"DT_ObjectSentrygun.m_iAmmoRockets\":\r\n                        sentry.ammoRockets = prop.value;\r\n                        break;\r\n                    case \"DT_BaseObject.m_bMiniBuilding\":\r\n                        sentry.isMini = prop.value > 1;\r\n                        break;\r\n                    case \"DT_TFNonLocalPlayerExclusive.m_angEyeAngles[1]\":\r\n                        sentry.angle = prop.value;\r\n                        break;\r\n                }\r\n            }\r\n            if (entity.pvs & PacketEntity_1.PVS.LEAVE) {\r\n                match.buildings.delete(entity.entityIndex);\r\n            }\r\n            break;\r\n        case \"CObjectDispenser\":\r\n            if (!match.buildings.has(entity.entityIndex)) {\r\n                match.buildings.set(entity.entityIndex, {\r\n                    type: \"dispenser\",\r\n                    builder: 0,\r\n                    health: 0,\r\n                    isBuilding: false,\r\n                    isSapped: false,\r\n                    level: 0,\r\n                    maxHealth: 0,\r\n                    position: new Vector_1.Vector(0, 0, 0),\r\n                    team: 0,\r\n                    healing: [],\r\n                    metal: 0,\r\n                    angle: 0,\r\n                });\r\n            }\r\n            const dispenser = match.buildings.get(entity.entityIndex);\r\n            for (const prop of entity.props) {\r\n                const propName = prop.definition.ownerTableName + \".\" + prop.definition.name;\r\n                applyBuildingProp(dispenser, prop, propName);\r\n                switch (propName) {\r\n                    case \"DT_ObjectDispenser.m_iAmmoMetal\":\r\n                        dispenser.metal = prop.value;\r\n                        break;\r\n                    case 'DT_ObjectDispenser.\"healing_array\"':\r\n                        dispenser.healing = prop.value;\r\n                        break;\r\n                }\r\n            }\r\n            if (entity.pvs & PacketEntity_1.PVS.LEAVE) {\r\n                match.buildings.delete(entity.entityIndex);\r\n            }\r\n            break;\r\n        case \"CObjectTeleporter\":\r\n            if (!match.buildings.has(entity.entityIndex)) {\r\n                match.buildings.set(entity.entityIndex, {\r\n                    type: \"teleporter\",\r\n                    builder: 0,\r\n                    health: 0,\r\n                    isBuilding: false,\r\n                    isSapped: false,\r\n                    level: 0,\r\n                    maxHealth: 0,\r\n                    position: new Vector_1.Vector(0, 0, 0),\r\n                    team: 0,\r\n                    isEntrance: false,\r\n                    otherEnd: 0,\r\n                    rechargeTime: 0,\r\n                    rechargeDuration: 0,\r\n                    timesUsed: 0,\r\n                    angle: 0,\r\n                    yawToExit: 0,\r\n                });\r\n            }\r\n            const teleporter = match.buildings.get(entity.entityIndex);\r\n            for (const prop of entity.props) {\r\n                const propName = prop.definition.ownerTableName + \".\" + prop.definition.name;\r\n                applyBuildingProp(teleporter, prop, propName);\r\n                switch (propName) {\r\n                    case \"DT_ObjectTeleporter.m_flRechargeTime\":\r\n                        teleporter.rechargeTime = prop.value;\r\n                        break;\r\n                    case \"DT_ObjectTeleporter.m_flCurrentRechargeDuration\":\r\n                        teleporter.rechargeDuration = prop.value;\r\n                        break;\r\n                    case \"DT_ObjectTeleporter.m_iTimesUsed\":\r\n                        teleporter.timesUsed = prop.value;\r\n                        break;\r\n                    case \"DT_ObjectTeleporter.m_bMatchBuilding\":\r\n                        teleporter.otherEnd = prop.value;\r\n                        break;\r\n                    case \"DT_ObjectTeleporter.m_flYawToExit\":\r\n                        teleporter.yawToExit = prop.value;\r\n                        break;\r\n                    case \"DT_BaseObject.m_iObjectMode\":\r\n                        teleporter.isEntrance = prop.value === 0;\r\n                        break;\r\n                }\r\n            }\r\n            if (entity.pvs & PacketEntity_1.PVS.LEAVE) {\r\n                match.buildings.delete(entity.entityIndex);\r\n            }\r\n            break;\r\n        case \"CTFPlayerResource\":\r\n            for (const prop of entity.props) {\r\n                const playerId = parseInt(prop.definition.name, 10);\r\n                const value = prop.value;\r\n                if (!match.playerResources[playerId]) {\r\n                    match.playerResources[playerId] = {\r\n                        alive: false,\r\n                        arenaSpectator: false,\r\n                        bonusPoints: 0,\r\n                        chargeLevel: 0,\r\n                        connected: false,\r\n                        damageAssists: 0,\r\n                        damageBlocked: 0,\r\n                        deaths: 0,\r\n                        dominations: 0,\r\n                        healing: 0,\r\n                        healingAssist: 0,\r\n                        health: 0,\r\n                        killStreak: 0,\r\n                        maxBuffedHealth: 0,\r\n                        maxHealth: 0,\r\n                        nextRespawn: 0,\r\n                        ping: 0,\r\n                        playerClass: 0,\r\n                        playerLevel: 0,\r\n                        score: 0,\r\n                        team: 0,\r\n                        totalScore: 0,\r\n                        damage: 0,\r\n                    };\r\n                }\r\n                const playerResource = match.playerResources[playerId];\r\n                switch (prop.definition.ownerTableName) {\r\n                    case \"m_iPing\":\r\n                        playerResource.ping = value;\r\n                        break;\r\n                    case \"m_iScore\":\r\n                        playerResource.score = value;\r\n                        break;\r\n                    case \"m_iDeaths\":\r\n                        playerResource.deaths = value;\r\n                        break;\r\n                    case \"m_bConnected\":\r\n                        playerResource.connected = value > 0;\r\n                        break;\r\n                    case \"m_iTeam\":\r\n                        playerResource.team = value;\r\n                        break;\r\n                    case \"m_bAlive\":\r\n                        playerResource.alive = value > 0;\r\n                        break;\r\n                    case \"m_iHealth\":\r\n                        playerResource.health = value;\r\n                        break;\r\n                    case \"m_iTotalScore\":\r\n                        playerResource.totalScore = value;\r\n                        break;\r\n                    case \"m_iMaxHealth\":\r\n                        playerResource.maxHealth = value;\r\n                        break;\r\n                    case \"m_iMaxBuffedHealth\":\r\n                        playerResource.maxBuffedHealth = value;\r\n                        break;\r\n                    case \"m_iPlayerClass\":\r\n                        playerResource.playerClass = value;\r\n                        break;\r\n                    case \"m_bArenaSpectator\":\r\n                        playerResource.arenaSpectator = value > 0;\r\n                        break;\r\n                    case \"m_iActiveDominations\":\r\n                        playerResource.dominations = value;\r\n                        break;\r\n                    case \"m_flNextRespawnTime\":\r\n                        playerResource.nextRespawn = value;\r\n                        break;\r\n                    case \"m_iChargeLevel\":\r\n                        playerResource.chargeLevel = value;\r\n                        break;\r\n                    case \"m_iDamage\":\r\n                        playerResource.damage = value;\r\n                        break;\r\n                    case \"m_iDamageAssist\":\r\n                        playerResource.damageAssists = value;\r\n                        break;\r\n                    case \"m_iHealing\":\r\n                        playerResource.healing = value;\r\n                        break;\r\n                    case \"m_iHealingAssist\":\r\n                        playerResource.healingAssist = value;\r\n                        break;\r\n                    case \"m_iDamageBlocked\":\r\n                        playerResource.damageBlocked = value;\r\n                        break;\r\n                    case \"m_iBonusPoints\":\r\n                        playerResource.bonusPoints = value;\r\n                        break;\r\n                    case \"m_iPlayerLevel\":\r\n                        playerResource.playerLevel = value;\r\n                        break;\r\n                    case \"m_iKillstreak\":\r\n                        playerResource.killStreak = value;\r\n                        break;\r\n                }\r\n            }\r\n            break;\r\n        case \"CTeamRoundTimer\":\r\n            break;\r\n        case \"CLaserDot\":\r\n            // for (const prop of entity.props) {\r\n            // \tconst propName = prop.definition.ownerTableName + '.' + prop.definition.name;\r\n            // \tswitch (propName) {\r\n            // \t\tcase 'DT_BaseEntity.m_iParentAttachment':\r\n            // \t\t\tconsole.log(prop.value);\r\n            // \t\t\tprocess.exit();\r\n            // \t\t\tbreak;\r\n            //\r\n            // \t}\r\n            // }\r\n            // console.log(match.getSendTable(entity.serverClass.dataTable).flattenedProps);\r\n            break;\r\n        case \"CTFGrenadePipebombProjectile\":\r\n        case \"CTFProjectile_HealingBolt\":\r\n        case \"CTFProjectile_Rocket\":\r\n            let projectileType = Projectile_1.ProjectileServerClassMap[entity.serverClass.name];\r\n            if (!projectileType)\r\n                break;\r\n            if (!match.projectileEntityMap.has(entity.entityIndex)) {\r\n                match.projectileEntityMap.set(entity.entityIndex, {\r\n                    type: projectileType,\r\n                    position: new Vector_1.Vector(0, 0, 0),\r\n                    rotation: new Vector_1.Vector(0, 0, 0),\r\n                    teamNumber: 0,\r\n                });\r\n            }\r\n            const projectile = match.projectileEntityMap.get(entity.entityIndex);\r\n            for (const prop of entity.props) {\r\n                switch (prop.definition.name) {\r\n                    case \"m_vecOrigin\":\r\n                        projectile.position = prop.value;\r\n                        break;\r\n                    case \"m_angRotation\":\r\n                        projectile.rotation = prop.value;\r\n                        break;\r\n                    case \"m_iTeamNum\":\r\n                        projectile.teamNumber = prop.value;\r\n                        break;\r\n                    case \"m_iType\":\r\n                        projectile.type = projectile.type + prop.value;\r\n                        break;\r\n                    case \"m_hOwnerEntity\":\r\n                    case \"m_bCritical\":\r\n                    case \"m_bTouched\":\r\n                        // Maybe do something\r\n                        break;\r\n                }\r\n            }\r\n            if (entity.pvs & PacketEntity_1.PVS.LEAVE) {\r\n                match.projectileEntityMap.delete(entity.entityIndex);\r\n            }\r\n            break;\r\n    }\r\n}\r\nexports.handleTFEntity = handleTFEntity;\r\nfunction applyBuildingProp(building, prop, propName) {\r\n    switch (propName) {\r\n        case \"DT_BaseObject.m_iUpgradeLevel\":\r\n            building.level = prop.value;\r\n            break;\r\n        case \"DT_BaseObject.m_hBuilder\":\r\n            building.builder = prop.value;\r\n            break;\r\n        case \"DT_BaseObject.m_iMaxHealth\":\r\n            building.maxHealth = prop.value;\r\n            break;\r\n        case \"DT_BaseObject.m_iHealth\":\r\n            building.health = prop.value;\r\n            break;\r\n        case \"DT_BaseObject.m_bBuilding\":\r\n            building.isBuilding = prop.value > 0;\r\n            break;\r\n        case \"DT_BaseObject.m_bHasSapper\":\r\n            building.isSapped = prop.value > 0;\r\n            break;\r\n        case \"DT_BaseEntity.m_vecOrigin\":\r\n            building.position = prop.value;\r\n            break;\r\n        case \"DT_BaseEntity.m_iTeamNum\":\r\n            building.team = prop.value;\r\n            break;\r\n        case \"DT_BaseEntity.m_angRotation\":\r\n            building.angle = prop.value.y;\r\n            break;\r\n    }\r\n}\r\n//# sourceMappingURL=TFEntityHandler.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction handleSayText2(packet, match) {\r\n    if (packet.kind === '#TF_Name_Change') {\r\n        for (const user of match.users.values()) {\r\n            if (user.name === packet.from) {\r\n                user.name = packet.text;\r\n            }\r\n        }\r\n        return;\r\n    }\r\n    match.chat.push({\r\n        kind: packet.kind,\r\n        from: packet.from,\r\n        text: packet.text,\r\n        tick: match.tick\r\n    });\r\n}\r\nexports.handleSayText2 = handleSayText2;\r\n//# sourceMappingURL=SayText2.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction handleGameEventList(packet, state) {\r\n    state.eventDefinitions = packet.eventList;\r\n    const entries = Array.from(packet.eventList.entries());\r\n    const reversedEntries = entries.map(([type, definition]) => [definition.name, type]);\r\n    state.eventDefinitionTypes = new Map(reversedEntries);\r\n}\r\nexports.handleGameEventList = handleGameEventList;\r\n//# sourceMappingURL=GameEventList.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction handleStringTable(packet, state) {\r\n    handleTable(packet.table, state);\r\n}\r\nexports.handleStringTable = handleStringTable;\r\nfunction handleStringTables(packet, state) {\r\n    for (const table of packet.tables) {\r\n        handleTable(table, state);\r\n    }\r\n}\r\nexports.handleStringTables = handleStringTables;\r\nfunction handleStringTableUpdate(packet, state) {\r\n    const updatedTable = state.stringTables[packet.tableId];\r\n    handleStringTableEntries(updatedTable.name, packet.entries, state);\r\n}\r\nexports.handleStringTableUpdate = handleStringTableUpdate;\r\nfunction handleTable(table, state) {\r\n    if (!state.getStringTable(table.name)) {\r\n        state.stringTables.push(table);\r\n    }\r\n    handleStringTableEntries(table.name, table.entries, state);\r\n}\r\nexports.handleTable = handleTable;\r\nfunction handleStringTableEntries(tableName, entries, state) {\r\n    if (tableName === 'userinfo') {\r\n        for (const entry of entries) {\r\n            if (entry && entry.extraData) {\r\n                calculateUserInfoFromEntry(entry.text, entry.extraData, state);\r\n            }\r\n        }\r\n    }\r\n    if (tableName === 'instancebaseline') {\r\n        for (const instanceBaseLine of entries) {\r\n            if (instanceBaseLine) {\r\n                saveInstanceBaseLine(instanceBaseLine, state);\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction calculateUserInfoFromEntry(text, extraData, state) {\r\n    if (extraData.bitsLeft > (32 * 8)) {\r\n        const name = extraData.readUTF8String(32);\r\n        let userId = extraData.readUint32();\r\n        while (userId > 256) {\r\n            userId -= 256;\r\n        }\r\n        const steamId = extraData.readUTF8String();\r\n        if (steamId) {\r\n            const entityId = parseInt(text, 10) + 1;\r\n            let userState = state.userInfo.get(userId);\r\n            if (!userState) {\r\n                userState = {\r\n                    name: '',\r\n                    userId,\r\n                    steamId: '',\r\n                    entityId\r\n                };\r\n                state.userInfo.set(userState.userId, userState);\r\n            }\r\n            userState.name = name;\r\n            userState.steamId = steamId;\r\n        }\r\n    }\r\n}\r\nfunction saveInstanceBaseLine(entry, state) {\r\n    if (entry.extraData) {\r\n        const serverClassId = parseInt(entry.text, 10);\r\n        state.staticBaselineCache.delete(serverClassId);\r\n        state.staticBaseLines.set(serverClassId, entry.extraData);\r\n    }\r\n    else {\r\n        throw new Error('Missing baseline');\r\n    }\r\n}\r\n//# sourceMappingURL=StringTable.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction parseHeader(stream) {\r\n    return {\r\n        type: stream.readASCIIString(8),\r\n        version: stream.readInt32(),\r\n        protocol: stream.readInt32(),\r\n        server: stream.readASCIIString(260),\r\n        nick: stream.readASCIIString(260),\r\n        map: stream.readASCIIString(260),\r\n        game: stream.readASCIIString(260),\r\n        duration: stream.readFloat32(),\r\n        ticks: stream.readInt32(),\r\n        frames: stream.readInt32(),\r\n        sigon: stream.readInt32()\r\n    };\r\n}\r\nexports.parseHeader = parseHeader;\r\nfunction encodeHeader(header, stream) {\r\n    stream.writeASCIIString(header.type, 8);\r\n    stream.writeUint32(header.version);\r\n    stream.writeUint32(header.protocol);\r\n    stream.writeASCIIString(header.server, 260);\r\n    stream.writeASCIIString(header.nick, 260);\r\n    stream.writeASCIIString(header.map, 260);\r\n    stream.writeASCIIString(header.game, 260);\r\n    stream.writeFloat32(header.duration);\r\n    stream.writeUint32(header.ticks);\r\n    stream.writeUint32(header.frames);\r\n    stream.writeUint32(header.sigon);\r\n}\r\nexports.encodeHeader = encodeHeader;\r\n//# sourceMappingURL=Header.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst text_encoding_shim_1 = require(\"text-encoding-shim\");\r\nconst Message_1 = require(\"../../Data/Message\");\r\nconst Parser_1 = require(\"./Parser\");\r\nclass ConsoleCmd extends Parser_1.Parser {\r\n    parse() {\r\n        return [{\r\n                packetType: 'consoleCmd',\r\n                command: this.stream.readUTF8String()\r\n            }];\r\n    }\r\n}\r\nexports.ConsoleCmd = ConsoleCmd;\r\nexports.ConsoleCmdHandler = {\r\n    parseMessage: (stream) => {\r\n        const tick = stream.readInt32();\r\n        const length = stream.readInt32();\r\n        const messageStream = stream.readBitStream(length * 8);\r\n        return {\r\n            type: Message_1.MessageType.ConsoleCmd,\r\n            tick,\r\n            rawData: messageStream,\r\n            command: messageStream.readUTF8String()\r\n        };\r\n    },\r\n    encodeMessage: (message, stream) => {\r\n        stream.writeUint32(message.tick);\r\n        const byteLength = (new text_encoding_shim_1.TextEncoder('utf-8').encode(message.command)).length + 1; // +1 for null termination\r\n        stream.writeUint32(byteLength);\r\n        stream.writeUTF8String(message.command);\r\n    }\r\n};\r\n//# sourceMappingURL=ConsoleCmd.js.map","(function (root, factory) {\r\n    if (typeof define === \"function\" && define.amd) {\r\n        define([], factory);\r\n    } else if (typeof exports === \"object\") {\r\n        module.exports = factory();\r\n    } else {\r\n\t\tvar textEncoding = factory();\r\n        root.TextEncoder = textEncoding.TextEncoder;\r\n\t\troot.TextDecoder = textEncoding.TextDecoder;\r\n    }\r\n}(this, function () {\r\n\t\"use strict\";\r\n\t// return native implementation if available\r\n\tvar g = typeof GLOBAL !== 'undefined' ? GLOBAL : self;\r\n\tif (typeof g.TextEncoder !== 'undefined' && typeof g.TextDecoder !== 'undefined') {\r\n\t\treturn {'TextEncoder': g.TextEncoder, 'TextDecoder': g.TextDecoder};\r\n\t}\r\n\r\n\t// allowed encoding strings for utf-8\r\n\tvar utf8Encodings = [\r\n\t\t'utf8',\r\n\t\t'utf-8',\r\n\t\t'unicode-1-1-utf-8'\r\n\t];\r\n\r\n\tvar TextEncoder = function(encoding) {\r\n\t\tif (utf8Encodings.indexOf(encoding) < 0 && typeof encoding !== 'undefined' && encoding != null) {\r\n\t\t\tthrow new RangeError('Invalid encoding type. Only utf-8 is supported');\r\n\t\t} else {\r\n\t\t\tthis.encoding = 'utf-8';\r\n\t\t\tthis.encode = function(str) {\r\n\t\t\t\tif (typeof str !== 'string') {\r\n\t\t\t\t\tthrow new TypeError('passed argument must be of tye string');\r\n\t\t\t\t}\r\n\t\t\t\tvar binstr = unescape(encodeURIComponent(str)),\r\n\t\t\t\t\tarr = new Uint8Array(binstr.length);\r\n\t\t\t\tbinstr.split('').forEach(function(char, i) {\r\n\t\t\t\t\tarr[i] = char.charCodeAt(0);\r\n\t\t\t\t});\r\n\t\t\t\treturn arr;\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\tvar TextDecoder = function(encoding, options) {\r\n\t\tif (utf8Encodings.indexOf(encoding) < 0 && typeof encoding !== 'undefined' && encoding != null) {\r\n\t\t\tthrow new RangeError('Invalid encoding type. Only utf-8 is supported');\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.encoding = 'utf-8';\r\n\t\t\tthis.ignoreBOM = false;\r\n\t\t\tthis.fatal = (typeof options !== 'undefined' && fatal in options) ? options.fatal : false;\r\n\t\t\tif (typeof this.fatal !== 'boolean') {\r\n\t\t\t\tthrow new TypeError('fatal flag must be boolean');\r\n\t\t\t}\r\n\t\t\tthis.decode = function (view, options) {\r\n\t\t\t\tif (typeof view === 'undefined') {\r\n\t\t\t\t\treturn '';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar stream = (typeof options !== 'undefined' && stream in options) ? options.stream : false;\r\n\t\t\t\tif (typeof stream !== 'boolean') {\r\n\t\t\t\t\tthrow new TypeError('stream option must be boolean');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!ArrayBuffer.isView(view)) {\r\n\t\t\t\t\tthrow new TypeError('passed argument must be an array buffer view');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar arr = new Uint8Array(view.buffer),\r\n\t\t\t\t\t\tcharArr = new Array(arr.length);\r\n\t\t\t\t\tarr.forEach(function(charcode, i) {\r\n\t\t\t\t\t\tcharArr[i] = String.fromCharCode(charcode);\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn decodeURIComponent(escape(charArr.join('')));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn {'TextEncoder': TextEncoder, 'TextDecoder': TextDecoder};\r\n}));","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass Parser {\r\n    constructor(type, tick, stream, length, state, skippedPacket = []) {\r\n        this.type = type;\r\n        this.tick = tick;\r\n        this.stream = stream;\r\n        this.length = length; // length in bytes\r\n        this.state = state;\r\n        this.skippedPackets = skippedPacket;\r\n    }\r\n}\r\nexports.Parser = Parser;\r\n//# sourceMappingURL=Parser.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Message_1 = require(\"../../Data/Message\");\r\nconst SendPropDefinition_1 = require(\"../../Data/SendPropDefinition\");\r\nconst SendTable_1 = require(\"../../Data/SendTable\");\r\nconst ServerClass_1 = require(\"../../Data/ServerClass\");\r\nexports.DataTableHandler = {\r\n    parseMessage: (stream) => {\r\n        const tick = stream.readInt32();\r\n        const length = stream.readInt32();\r\n        const messageStream = stream.readBitStream(length * 8);\r\n        // https://github.com/LestaD/SourceEngine2007/blob/43a5c90a5ada1e69ca044595383be67f40b33c61/src_main/engine/dt_common_eng.cpp#L356\r\n        // https://github.com/LestaD/SourceEngine2007/blob/43a5c90a5ada1e69ca044595383be67f40b33c61/src_main/engine/dt_recv_eng.cpp#L310\r\n        // https://github.com/PazerOP/DemoLib/blob/master/DemoLib/Commands/DemoDataTablesCommand.cs\r\n        const tables = [];\r\n        const tableMap = new Map();\r\n        while (messageStream.readBoolean()) {\r\n            const needsDecoder = messageStream.readBoolean();\r\n            const tableName = messageStream.readASCIIString();\r\n            const numProps = messageStream.readBits(10);\r\n            const table = new SendTable_1.SendTable(tableName);\r\n            table.needsDecoder = needsDecoder;\r\n            // get props metadata\r\n            let arrayElementProp;\r\n            for (let i = 0; i < numProps; i++) {\r\n                const propType = messageStream.readBits(5);\r\n                const propName = messageStream.readASCIIString();\r\n                const nFlagsBits = 16; // might be 11 (old?), 13 (new?), 16(networked) or 17(??)\r\n                const flags = messageStream.readBits(nFlagsBits);\r\n                const prop = new SendPropDefinition_1.SendPropDefinition(propType, propName, flags, tableName);\r\n                if (propType === SendPropDefinition_1.SendPropType.DPT_DataTable) {\r\n                    prop.excludeDTName = messageStream.readASCIIString();\r\n                }\r\n                else {\r\n                    if (prop.isExcludeProp()) {\r\n                        prop.excludeDTName = messageStream.readASCIIString();\r\n                    }\r\n                    else if (prop.type === SendPropDefinition_1.SendPropType.DPT_Array) {\r\n                        prop.numElements = messageStream.readBits(10);\r\n                    }\r\n                    else {\r\n                        prop.lowValue = messageStream.readFloat32();\r\n                        prop.highValue = messageStream.readFloat32();\r\n                        prop.bitCount = messageStream.readBits(7);\r\n                    }\r\n                }\r\n                if (prop.hasFlag(SendPropDefinition_1.SendPropFlag.SPROP_NOSCALE)) {\r\n                    if (prop.type === SendPropDefinition_1.SendPropType.DPT_Float) {\r\n                        prop.originalBitCount = prop.bitCount;\r\n                        prop.bitCount = 32;\r\n                    }\r\n                    else if (prop.type === SendPropDefinition_1.SendPropType.DPT_Vector) {\r\n                        if (!prop.hasFlag(SendPropDefinition_1.SendPropFlag.SPROP_NORMAL)) {\r\n                            prop.originalBitCount = prop.bitCount;\r\n                            prop.bitCount = 32 * 3;\r\n                        }\r\n                    }\r\n                }\r\n                if (arrayElementProp) {\r\n                    if (prop.type !== SendPropDefinition_1.SendPropType.DPT_Array) {\r\n                        throw new Error('expected prop of type array');\r\n                    }\r\n                    prop.arrayProperty = arrayElementProp;\r\n                    arrayElementProp = null;\r\n                }\r\n                if (prop.hasFlag(SendPropDefinition_1.SendPropFlag.SPROP_INSIDEARRAY)) {\r\n                    if (arrayElementProp) {\r\n                        throw new Error('array element already set');\r\n                    }\r\n                    if (prop.hasFlag(SendPropDefinition_1.SendPropFlag.SPROP_CHANGES_OFTEN)) {\r\n                        throw new Error('unexpected CHANGES_OFTEN prop in array');\r\n                    }\r\n                    arrayElementProp = prop;\r\n                }\r\n                else {\r\n                    table.addProp(prop);\r\n                }\r\n            }\r\n            tables.push(table);\r\n            tableMap.set(table.name, table);\r\n        }\r\n        // link referenced tables\r\n        for (const table of tables) {\r\n            for (const prop of table.props) {\r\n                if (prop.type === SendPropDefinition_1.SendPropType.DPT_DataTable) {\r\n                    if (prop.excludeDTName) {\r\n                        const referencedTable = tableMap.get(prop.excludeDTName);\r\n                        if (!referencedTable) {\r\n                            throw new Error(`Unknown referenced table ${prop.excludeDTName}`);\r\n                        }\r\n                        prop.table = referencedTable;\r\n                        prop.excludeDTName = null;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        const numServerClasses = messageStream.readUint16(); // short\r\n        const serverClasses = [];\r\n        if (numServerClasses <= 0) {\r\n            throw new Error('expected one or more serverclasses');\r\n        }\r\n        for (let i = 0; i < numServerClasses; i++) {\r\n            const classId = messageStream.readUint16();\r\n            if (classId > numServerClasses) {\r\n                throw new Error('invalid class id');\r\n            }\r\n            const className = messageStream.readASCIIString();\r\n            const dataTable = messageStream.readASCIIString();\r\n            serverClasses.push(new ServerClass_1.ServerClass(classId, className, dataTable));\r\n        }\r\n        if (messageStream.bitsLeft > 7) {\r\n            throw new Error('unexpected remaining data in datatable (' + messageStream.bitsLeft + ' bits)');\r\n        }\r\n        return {\r\n            type: Message_1.MessageType.DataTables,\r\n            tick,\r\n            rawData: messageStream,\r\n            tables,\r\n            serverClasses\r\n        };\r\n    },\r\n    encodeMessage: (message, stream) => {\r\n        stream.writeUint32(message.tick);\r\n        const lengthStart = stream.index;\r\n        stream.index += 32;\r\n        const dataStart = stream.index;\r\n        for (const table of message.tables) {\r\n            stream.writeBoolean(true);\r\n            stream.writeBoolean(table.needsDecoder);\r\n            stream.writeASCIIString(table.name);\r\n            const numPropsStart = stream.index;\r\n            stream.index += 10;\r\n            let numProps = 0;\r\n            for (const definition of table.props) {\r\n                if (definition.arrayProperty) {\r\n                    encodeSendPropDefinition(stream, definition.arrayProperty);\r\n                    numProps++;\r\n                }\r\n                encodeSendPropDefinition(stream, definition);\r\n                numProps++;\r\n            }\r\n            const propDataEnd = stream.index;\r\n            stream.index = numPropsStart;\r\n            stream.writeBits(numProps, 10);\r\n            stream.index = propDataEnd;\r\n        }\r\n        stream.writeBoolean(false);\r\n        stream.writeUint16(message.serverClasses.length);\r\n        for (const serverClass of message.serverClasses) {\r\n            stream.writeUint16(serverClass.id);\r\n            stream.writeASCIIString(serverClass.name);\r\n            stream.writeASCIIString(serverClass.dataTable);\r\n        }\r\n        const dataEnd = stream.index;\r\n        stream.index = lengthStart;\r\n        const byteLength = Math.ceil((dataEnd - dataStart) / 8);\r\n        stream.writeUint32(byteLength);\r\n        // align to byte;\r\n        stream.index = dataStart + byteLength * 8;\r\n    }\r\n};\r\nfunction encodeSendPropDefinition(stream, definition) {\r\n    stream.writeBits(definition.type, 5);\r\n    stream.writeASCIIString(definition.name);\r\n    stream.writeBits(definition.flags, 16);\r\n    if (definition.type === SendPropDefinition_1.SendPropType.DPT_DataTable) {\r\n        if (!definition.table) {\r\n            throw new Error('Missing linked table');\r\n        }\r\n        stream.writeASCIIString(definition.table.name);\r\n    }\r\n    else {\r\n        if (definition.isExcludeProp()) {\r\n            if (!definition.excludeDTName) {\r\n                throw new Error('Missing linked table');\r\n            }\r\n            stream.writeASCIIString(definition.excludeDTName);\r\n        }\r\n        else if (definition.type === SendPropDefinition_1.SendPropType.DPT_Array) {\r\n            stream.writeBits(definition.numElements, 10);\r\n        }\r\n        else {\r\n            stream.writeFloat32(definition.lowValue);\r\n            stream.writeFloat32(definition.highValue);\r\n            // if (definition.originalBitCount === null || typeof  definition.originalBitCount === 'undefined') {\r\n            // \tstream.writeBits(definition.bitCount, 7);\r\n            // } else {\r\n            // \tstream.writeBits(definition.originalBitCount, 7);\r\n            // }\r\n            if (definition.hasFlag(SendPropDefinition_1.SendPropFlag.SPROP_NOSCALE) && (definition.type === SendPropDefinition_1.SendPropType.DPT_Float ||\r\n                (definition.type === SendPropDefinition_1.SendPropType.DPT_Vector && !definition.hasFlag(SendPropDefinition_1.SendPropFlag.SPROP_NORMAL)))) {\r\n                if (definition.originalBitCount === null || typeof definition.originalBitCount === 'undefined') {\r\n                    stream.writeBits(definition.bitCount / 3, 7);\r\n                }\r\n                else {\r\n                    stream.writeBits(definition.originalBitCount, 7);\r\n                }\r\n            }\r\n            else {\r\n                stream.writeBits(definition.bitCount, 7);\r\n            }\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=DataTable.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst SendPropDefinition_1 = require(\"./SendPropDefinition\");\r\nclass SendTable {\r\n    constructor(name) {\r\n        this.name = name;\r\n        this.props = [];\r\n        this.cachedFlattenedProps = [];\r\n    }\r\n    addProp(prop) {\r\n        this.props.push(prop);\r\n    }\r\n    getAllProps(excludes, props) {\r\n        const localProps = [];\r\n        this.getAllPropsIteratorProps(excludes, localProps, props);\r\n        for (const localProp of localProps) {\r\n            props.push(localProp);\r\n        }\r\n    }\r\n    getAllPropsIteratorProps(excludes, props, childProps) {\r\n        for (const prop of this.props) {\r\n            if (prop.hasFlag(SendPropDefinition_1.SendPropFlag.SPROP_EXCLUDE)) {\r\n                continue;\r\n            }\r\n            if (excludes.filter((exclude) => {\r\n                return exclude.name === prop.name && exclude.excludeDTName === prop.ownerTableName;\r\n            }).length > 0) {\r\n                continue;\r\n            }\r\n            if (prop.type === SendPropDefinition_1.SendPropType.DPT_DataTable && prop.table) {\r\n                if (prop.hasFlag(SendPropDefinition_1.SendPropFlag.SPROP_COLLAPSIBLE)) {\r\n                    prop.table.getAllPropsIteratorProps(excludes, props, childProps);\r\n                }\r\n                else {\r\n                    prop.table.getAllProps(excludes, childProps);\r\n                }\r\n            }\r\n            else {\r\n                props.push(prop);\r\n            }\r\n        }\r\n    }\r\n    get flattenedProps() {\r\n        if (this.cachedFlattenedProps.length === 0) {\r\n            this.flatten();\r\n        }\r\n        return this.cachedFlattenedProps;\r\n    }\r\n    get excludes() {\r\n        let result = [];\r\n        for (const prop of this.props) {\r\n            if (prop.hasFlag(SendPropDefinition_1.SendPropFlag.SPROP_EXCLUDE)) {\r\n                result.push(prop);\r\n            }\r\n            else if (prop.type === SendPropDefinition_1.SendPropType.DPT_DataTable && prop.table) {\r\n                result = result.concat(prop.table.excludes);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    flatten() {\r\n        const excludes = this.excludes;\r\n        const props = [];\r\n        this.getAllProps(excludes, props);\r\n        // sort often changed props before the others\r\n        let start = 0;\r\n        for (let i = 0; i < props.length; i++) {\r\n            if (props[i].hasFlag(SendPropDefinition_1.SendPropFlag.SPROP_CHANGES_OFTEN)) {\r\n                if (i !== start) {\r\n                    const temp = props[i];\r\n                    props[i] = props[start];\r\n                    props[start] = temp;\r\n                }\r\n                start++;\r\n            }\r\n        }\r\n        this.cachedFlattenedProps = props;\r\n    }\r\n}\r\nexports.SendTable = SendTable;\r\n//# sourceMappingURL=SendTable.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass ServerClass {\r\n    constructor(id, name, dataTable) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.dataTable = dataTable;\r\n    }\r\n}\r\nexports.ServerClass = ServerClass;\r\n//# sourceMappingURL=ServerClass.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst BSPDecal_1 = require(\"../Packet/BSPDecal\");\r\nconst ClassInfo_1 = require(\"../Packet/ClassInfo\");\r\nconst CreateStringTable_1 = require(\"../Packet/CreateStringTable\");\r\nconst GameEvent_1 = require(\"../Packet/GameEvent\");\r\nconst GameEventList_1 = require(\"../Packet/GameEventList\");\r\nconst PacketEntities_1 = require(\"../Packet/PacketEntities\");\r\nconst ParserGenerator_1 = require(\"../Packet/ParserGenerator\");\r\nconst ParseSounds_1 = require(\"../Packet/ParseSounds\");\r\nconst SetConVar_1 = require(\"../Packet/SetConVar\");\r\nconst TempEntities_1 = require(\"../Packet/TempEntities\");\r\nconst UpdateStringTable_1 = require(\"../Packet/UpdateStringTable\");\r\nconst UserMessage_1 = require(\"../Packet/UserMessage\");\r\nconst VoiceData_1 = require(\"../Packet/VoiceData\");\r\nconst VoiceInit_1 = require(\"../Packet/VoiceInit\");\r\nconst Message_1 = require(\"../../Data/Message\");\r\nconst Packet_1 = require(\"../../Data/Packet\");\r\nconst Vector_1 = require(\"../../Data/Vector\");\r\nconst handlers = new Map([\r\n    [Packet_1.PacketTypeId.file,\r\n        ParserGenerator_1.make('file', 'transferId{32}fileName{s}requested{b}')],\r\n    [Packet_1.PacketTypeId.netTick,\r\n        ParserGenerator_1.make('netTick', 'tick{32}frameTime{16}stdDev{16}')],\r\n    [Packet_1.PacketTypeId.stringCmd,\r\n        ParserGenerator_1.make('stringCmd', 'command{s}')],\r\n    [Packet_1.PacketTypeId.setConVar,\r\n        { parser: SetConVar_1.ParseSetConVar, encoder: SetConVar_1.EncodeSetConVar }],\r\n    [Packet_1.PacketTypeId.sigOnState,\r\n        ParserGenerator_1.make('sigOnState', 'state{8}count{32}')],\r\n    [Packet_1.PacketTypeId.print,\r\n        ParserGenerator_1.make('print', 'value{s}')],\r\n    [Packet_1.PacketTypeId.serverInfo,\r\n        ParserGenerator_1.make('serverInfo', 'version{16}serverCount{32}stv{b}dedicated{b}maxCrc{32}maxClasses{16}' +\r\n            'mapHash{128}playerCount{8}maxPlayerCount{8}intervalPerTick{f32}platform{s1}' +\r\n            'game{s}map{s}skybox{s}serverName{s}replay{b}')],\r\n    [Packet_1.PacketTypeId.classInfo,\r\n        { parser: ClassInfo_1.ParseClassInfo, encoder: ClassInfo_1.EncodeClassInfo }],\r\n    [Packet_1.PacketTypeId.setPause,\r\n        ParserGenerator_1.make('setPause', 'paused{b}')],\r\n    [Packet_1.PacketTypeId.createStringTable,\r\n        { parser: CreateStringTable_1.ParseCreateStringTable, encoder: CreateStringTable_1.EncodeCreateStringTable }],\r\n    [Packet_1.PacketTypeId.updateStringTable,\r\n        { parser: UpdateStringTable_1.ParseUpdateStringTable, encoder: UpdateStringTable_1.EncodeUpdateStringTable }],\r\n    [Packet_1.PacketTypeId.voiceInit,\r\n        { parser: VoiceInit_1.ParseVoiceInit, encoder: VoiceInit_1.EncodeVoiceInit }],\r\n    [Packet_1.PacketTypeId.voiceData,\r\n        { parser: VoiceData_1.ParseVoiceData, encoder: VoiceData_1.EncodeVoiceData }],\r\n    [Packet_1.PacketTypeId.parseSounds,\r\n        { parser: ParseSounds_1.ParseParseSounds, encoder: ParseSounds_1.EncodeParseSounds }],\r\n    [Packet_1.PacketTypeId.setView,\r\n        ParserGenerator_1.make('setView', 'index{11}')],\r\n    [Packet_1.PacketTypeId.fixAngle,\r\n        ParserGenerator_1.make('fixAngle', 'relative{b}x{16}y{16}z{16}')],\r\n    [Packet_1.PacketTypeId.bspDecal,\r\n        { parser: BSPDecal_1.ParseBSPDecal, encoder: BSPDecal_1.EncodeBSPDecal }],\r\n    [Packet_1.PacketTypeId.userMessage,\r\n        { parser: UserMessage_1.ParseUserMessage, encoder: UserMessage_1.EncodeUserMessage }],\r\n    [Packet_1.PacketTypeId.entityMessage,\r\n        ParserGenerator_1.make('entityMessage', 'index{11}classId{9}length{11}data{$length}')],\r\n    [Packet_1.PacketTypeId.gameEvent,\r\n        { parser: GameEvent_1.ParseGameEvent, encoder: GameEvent_1.EncodeGameEvent }],\r\n    [Packet_1.PacketTypeId.packetEntities,\r\n        { parser: PacketEntities_1.ParsePacketEntities, encoder: PacketEntities_1.EncodePacketEntities }],\r\n    [Packet_1.PacketTypeId.tempEntities,\r\n        { parser: TempEntities_1.ParseTempEntities, encoder: TempEntities_1.EncodeTempEntities }],\r\n    [Packet_1.PacketTypeId.preFetch,\r\n        ParserGenerator_1.make('preFetch', 'index{14}')],\r\n    [Packet_1.PacketTypeId.menu,\r\n        ParserGenerator_1.make('menu', 'type{u16}length{u16}data{$length*8}')],\r\n    [Packet_1.PacketTypeId.gameEventList,\r\n        { parser: GameEventList_1.ParseGameEventList, encoder: GameEventList_1.EncodeGameEventList }],\r\n    [Packet_1.PacketTypeId.getCvarValue,\r\n        ParserGenerator_1.make('getCvarValue', 'cookie{32}value{s}')],\r\n    [Packet_1.PacketTypeId.cmdKeyValues,\r\n        ParserGenerator_1.make('cmdKeyValues', 'length{32}data{$length}')]\r\n]);\r\nexports.PacketMessageHandler = {\r\n    parseMessage: (stream, state) => {\r\n        const tick = stream.readInt32();\r\n        const flags = stream.readInt32();\r\n        const viewOrigin = [new Vector_1.Vector(0, 0, 0), new Vector_1.Vector(0, 0, 0)];\r\n        const viewAngles = [new Vector_1.Vector(0, 0, 0), new Vector_1.Vector(0, 0, 0)];\r\n        const localViewAngles = [new Vector_1.Vector(0, 0, 0), new Vector_1.Vector(0, 0, 0)];\r\n        for (let j = 0; j < 2; j++) {\r\n            viewOrigin[j] = new Vector_1.Vector(stream.readFloat32(), stream.readFloat32(), stream.readFloat32());\r\n            viewAngles[j] = new Vector_1.Vector(stream.readFloat32(), stream.readFloat32(), stream.readFloat32());\r\n            localViewAngles[j] = new Vector_1.Vector(stream.readFloat32(), stream.readFloat32(), stream.readFloat32());\r\n        }\r\n        const sequenceIn = stream.readInt32();\r\n        const sequenceOut = stream.readInt32();\r\n        const length = stream.readInt32();\r\n        const messageStream = stream.readBitStream(length * 8);\r\n        const packets = [];\r\n        let lastPacketType = 0;\r\n        while (messageStream.bitsLeft > 6) { // last 6 bits for NOOP\r\n            const type = messageStream.readBits(6);\r\n            if (type !== 0) {\r\n                const handler = handlers.get(type);\r\n                if (handler) {\r\n                    const skip = state.skippedPackets.indexOf(type) !== -1;\r\n                    const packet = handler.parser(messageStream, state, skip);\r\n                    packets.push(packet);\r\n                }\r\n                else {\r\n                    throw new Error(`Unknown packet type ${type} just parsed a ${Packet_1.PacketTypeId[lastPacketType]}`);\r\n                }\r\n                lastPacketType = type;\r\n            }\r\n        }\r\n        return {\r\n            type: Message_1.MessageType.Packet,\r\n            tick,\r\n            rawData: messageStream,\r\n            packets,\r\n            flags,\r\n            viewOrigin,\r\n            viewAngles,\r\n            localViewAngles,\r\n            sequenceIn,\r\n            sequenceOut\r\n        };\r\n    },\r\n    encodeMessage: (message, stream, state) => {\r\n        stream.writeUint32(message.tick);\r\n        stream.writeUint32(message.flags);\r\n        for (let j = 0; j < 2; j++) {\r\n            stream.writeFloat32(message.viewOrigin[j].x);\r\n            stream.writeFloat32(message.viewOrigin[j].y);\r\n            stream.writeFloat32(message.viewOrigin[j].z);\r\n            stream.writeFloat32(message.viewAngles[j].x);\r\n            stream.writeFloat32(message.viewAngles[j].y);\r\n            stream.writeFloat32(message.viewAngles[j].z);\r\n            stream.writeFloat32(message.localViewAngles[j].x);\r\n            stream.writeFloat32(message.localViewAngles[j].y);\r\n            stream.writeFloat32(message.localViewAngles[j].z);\r\n        }\r\n        stream.writeUint32(message.sequenceIn);\r\n        stream.writeUint32(message.sequenceOut);\r\n        const lengthStart = stream.index;\r\n        stream.index += 32;\r\n        const dataStart = stream.index;\r\n        for (const packet of message.packets) {\r\n            const type = Packet_1.PacketTypeId[packet.packetType];\r\n            stream.writeBits(type, 6);\r\n            const handler = handlers.get(type);\r\n            if (handler) {\r\n                handler.encoder(packet, stream, state);\r\n            }\r\n            else {\r\n                throw new Error(`No handler for packet type ${packet.packetType}`);\r\n            }\r\n        }\r\n        stream.writeBits(0, 6);\r\n        const dataEnd = stream.index;\r\n        stream.index = lengthStart;\r\n        const byteLength = Math.ceil((dataEnd - dataStart) / 8);\r\n        stream.writeUint32(byteLength);\r\n        // align to byte;\r\n        stream.index = dataStart + byteLength * 8;\r\n    }\r\n};\r\n//# sourceMappingURL=Packet.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst SendPropEncoder_1 = require(\"../SendPropEncoder\");\r\nconst SendPropParser_1 = require(\"../SendPropParser\");\r\nfunction getVecCoord(stream) {\r\n    const hasX = stream.readBoolean();\r\n    const hasY = stream.readBoolean();\r\n    const hasZ = stream.readBoolean();\r\n    return {\r\n        x: hasX ? SendPropParser_1.SendPropParser.readBitCoord(stream) : 0,\r\n        y: hasY ? SendPropParser_1.SendPropParser.readBitCoord(stream) : 0,\r\n        z: hasZ ? SendPropParser_1.SendPropParser.readBitCoord(stream) : 0\r\n    };\r\n}\r\nexports.getVecCoord = getVecCoord;\r\nfunction encodeVecCoord(vector, stream) {\r\n    stream.writeBoolean(vector.x !== 0);\r\n    stream.writeBoolean(vector.y !== 0);\r\n    stream.writeBoolean(vector.z !== 0);\r\n    if (vector.x !== 0) {\r\n        SendPropEncoder_1.SendPropEncoder.writeBitCoord(vector.x, stream);\r\n    }\r\n    if (vector.y !== 0) {\r\n        SendPropEncoder_1.SendPropEncoder.writeBitCoord(vector.y, stream);\r\n    }\r\n    if (vector.z !== 0) {\r\n        SendPropEncoder_1.SendPropEncoder.writeBitCoord(vector.z, stream);\r\n    }\r\n}\r\nexports.encodeVecCoord = encodeVecCoord;\r\nfunction ParseBSPDecal(stream) {\r\n    let modelIndex = 0;\r\n    let entIndex = 0;\r\n    const position = getVecCoord(stream);\r\n    const textureIndex = stream.readBits(9);\r\n    if (stream.readBoolean()) {\r\n        entIndex = stream.readBits(11);\r\n        modelIndex = stream.readBits(12);\r\n    }\r\n    const lowPriority = stream.readBoolean();\r\n    return {\r\n        packetType: 'bspDecal',\r\n        position,\r\n        textureIndex,\r\n        entIndex,\r\n        modelIndex,\r\n        lowPriority\r\n    };\r\n}\r\nexports.ParseBSPDecal = ParseBSPDecal;\r\nfunction EncodeBSPDecal(packet, stream) {\r\n    encodeVecCoord(packet.position, stream);\r\n    stream.writeBits(packet.textureIndex, 9);\r\n    if (packet.entIndex || packet.modelIndex) {\r\n        stream.writeBoolean(true);\r\n        stream.writeBits(packet.entIndex, 11);\r\n        stream.writeBits(packet.modelIndex, 12);\r\n    }\r\n    else {\r\n        stream.writeBoolean(false);\r\n    }\r\n    stream.writeBoolean(packet.lowPriority);\r\n}\r\nexports.EncodeBSPDecal = EncodeBSPDecal;\r\n//# sourceMappingURL=BSPDecal.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Math_1 = require(\"../../Math\");\r\nfunction ParseClassInfo(stream) {\r\n    const count = stream.readUint16();\r\n    const create = stream.readBoolean();\r\n    const entries = [];\r\n    if (!create) {\r\n        const bits = Math_1.logBase2(count) + 1;\r\n        for (let i = 0; i < count; i++) {\r\n            const entry = {\r\n                classId: stream.readBits(bits),\r\n                className: stream.readASCIIString(),\r\n                dataTableName: stream.readASCIIString()\r\n            };\r\n            entries.push(entry);\r\n        }\r\n    }\r\n    return {\r\n        packetType: 'classInfo',\r\n        number: count,\r\n        create,\r\n        entries\r\n    };\r\n}\r\nexports.ParseClassInfo = ParseClassInfo;\r\nfunction EncodeClassInfo(packet, stream) {\r\n    stream.writeUint16(packet.number);\r\n    stream.writeBoolean(packet.create);\r\n    if (!packet.create) {\r\n        const bits = Math_1.logBase2(packet.number) + 1;\r\n        for (const entry of packet.entries) {\r\n            stream.writeBits(entry.classId, bits);\r\n            stream.writeASCIIString(entry.className);\r\n            stream.writeASCIIString(entry.dataTableName);\r\n        }\r\n    }\r\n}\r\nexports.EncodeClassInfo = EncodeClassInfo;\r\n//# sourceMappingURL=ClassInfo.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst bit_buffer_1 = require(\"bit-buffer\");\r\nconst Math_1 = require(\"../../Math\");\r\nconst readBitVar_1 = require(\"../readBitVar\");\r\nconst snappyjs_1 = require(\"snappyjs\");\r\nconst StringTableParser_1 = require(\"../StringTableParser\");\r\nfunction ParseCreateStringTable(stream) {\r\n    const tableName = stream.readASCIIString();\r\n    const maxEntries = stream.readUint16();\r\n    const encodeBits = Math_1.logBase2(maxEntries);\r\n    const entityCount = stream.readBits(encodeBits + 1);\r\n    const bitCount = readBitVar_1.readVarInt(stream);\r\n    let userDataSize = 0;\r\n    let userDataSizeBits = 0;\r\n    // userdata fixed size\r\n    if (stream.readBoolean()) {\r\n        userDataSize = stream.readBits(12);\r\n        userDataSizeBits = stream.readBits(4);\r\n    }\r\n    const isCompressed = stream.readBoolean();\r\n    let data = stream.readBitStream(bitCount);\r\n    if (isCompressed) {\r\n        const decompressedByteSize = data.readUint32();\r\n        const compressedByteSize = data.readUint32();\r\n        const magic = data.readASCIIString(4);\r\n        const compressedData = data.readArrayBuffer(compressedByteSize - 4); // 4 magic bytes\r\n        if (magic !== 'SNAP') {\r\n            throw new Error('Unknown compressed stringtable format');\r\n        }\r\n        const decompressedData = snappyjs_1.uncompress(compressedData);\r\n        if (decompressedData.byteLength !== decompressedByteSize) {\r\n            throw new Error('Incorrect length of decompressed stringtable');\r\n        }\r\n        data = new bit_buffer_1.BitStream(decompressedData.buffer);\r\n    }\r\n    const table = {\r\n        name: tableName,\r\n        entries: [],\r\n        maxEntries,\r\n        fixedUserDataSize: userDataSize,\r\n        fixedUserDataSizeBits: userDataSizeBits,\r\n        compressed: isCompressed\r\n    };\r\n    // console.log(`${tableName} ${entityCount} ${bitCount}`);\r\n    table.entries = StringTableParser_1.parseStringTableEntries(data, table, entityCount);\r\n    return {\r\n        packetType: 'createStringTable',\r\n        table\r\n    };\r\n}\r\nexports.ParseCreateStringTable = ParseCreateStringTable;\r\nfunction EncodeCreateStringTable(packet, stream) {\r\n    stream.writeASCIIString(packet.table.name);\r\n    stream.writeUint16(packet.table.maxEntries);\r\n    const encodeBits = Math_1.logBase2(packet.table.maxEntries);\r\n    const numEntries = packet.table.entries.filter((entry) => entry).length;\r\n    stream.writeBits(numEntries, encodeBits + 1);\r\n    let entryData = new bit_buffer_1.BitStream(new ArrayBuffer(StringTableParser_1.guessStringTableEntryLength(packet.table, packet.table.entries)));\r\n    StringTableParser_1.encodeStringTableEntries(entryData, packet.table, packet.table.entries);\r\n    if (packet.table.compressed) {\r\n        const decompressedByteLength = Math.ceil(entryData.length / 8);\r\n        entryData.index = 0;\r\n        const compressedData = snappyjs_1.compress(entryData.readArrayBuffer(decompressedByteLength));\r\n        entryData = new bit_buffer_1.BitStream(new ArrayBuffer(decompressedByteLength));\r\n        entryData.writeUint32(decompressedByteLength);\r\n        entryData.writeUint32(compressedData.byteLength + 4); // 4 magic bytes\r\n        entryData.writeASCIIString('SNAP', 4);\r\n        const typeForce = compressedData.buffer;\r\n        entryData.writeArrayBuffer(typeForce);\r\n    }\r\n    const entryLength = entryData.index;\r\n    entryData.index = 0;\r\n    readBitVar_1.writeVarInt(entryLength, stream);\r\n    if (packet.table.fixedUserDataSize || packet.table.fixedUserDataSizeBits) {\r\n        stream.writeBoolean(true);\r\n        stream.writeBits(packet.table.fixedUserDataSize || 0, 12);\r\n        stream.writeBits(packet.table.fixedUserDataSizeBits || 0, 4);\r\n    }\r\n    else {\r\n        stream.writeBoolean(false);\r\n    }\r\n    stream.writeBoolean(packet.table.compressed);\r\n    if (entryLength) {\r\n        stream.writeBitStream(entryData, entryLength);\r\n    }\r\n}\r\nexports.EncodeCreateStringTable = EncodeCreateStringTable;\r\n//# sourceMappingURL=CreateStringTable.js.map","// The MIT License (MIT)\n//\n// Copyright (c) 2016 Zhipeng Jia\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\n\n'use strict'\n\nfunction isNode () {\n  if (typeof process === 'object') {\n    if (typeof process.versions === 'object') {\n      if (typeof process.versions.node !== 'undefined') {\n        return true\n      }\n    }\n  }\n  return false\n}\n\nfunction isUint8Array (object) {\n  return object instanceof Uint8Array && (!isNode() || !Buffer.isBuffer(object))\n}\n\nfunction isArrayBuffer (object) {\n  return object instanceof ArrayBuffer\n}\n\nfunction isBuffer (object) {\n  if (!isNode()) {\n    return false\n  }\n  return Buffer.isBuffer(object)\n}\n\nvar SnappyDecompressor = require('./snappy_decompressor').SnappyDecompressor\nvar SnappyCompressor = require('./snappy_compressor').SnappyCompressor\n\nvar TYPE_ERROR_MSG = 'Argument compressed must be type of ArrayBuffer, Buffer, or Uint8Array'\n\nfunction uncompress (compressed) {\n  if (!isUint8Array(compressed) && !isArrayBuffer(compressed) && !isBuffer(compressed)) {\n    throw new TypeError(TYPE_ERROR_MSG)\n  }\n  var uint8Mode = false\n  var arrayBufferMode = false\n  if (isUint8Array(compressed)) {\n    uint8Mode = true\n  } else if (isArrayBuffer(compressed)) {\n    arrayBufferMode = true\n    compressed = new Uint8Array(compressed)\n  }\n  var decompressor = new SnappyDecompressor(compressed)\n  var length = decompressor.readUncompressedLength()\n  if (length === -1) {\n    throw new Error('Invalid Snappy bitstream')\n  }\n  var uncompressed, uncompressedView\n  if (uint8Mode) {\n    uncompressed = new Uint8Array(length)\n    if (!decompressor.uncompressToBuffer(uncompressed)) {\n      throw new Error('Invalid Snappy bitstream')\n    }\n  } else if (arrayBufferMode) {\n    uncompressed = new ArrayBuffer(length)\n    uncompressedView = new Uint8Array(uncompressed)\n    if (!decompressor.uncompressToBuffer(uncompressedView)) {\n      throw new Error('Invalid Snappy bitstream')\n    }\n  } else {\n    uncompressed = Buffer.alloc(length)\n    if (!decompressor.uncompressToBuffer(uncompressed)) {\n      throw new Error('Invalid Snappy bitstream')\n    }\n  }\n  return uncompressed\n}\n\nfunction compress (uncompressed) {\n  if (!isUint8Array(uncompressed) && !isArrayBuffer(uncompressed) && !isBuffer(uncompressed)) {\n    throw new TypeError(TYPE_ERROR_MSG)\n  }\n  var uint8Mode = false\n  var arrayBufferMode = false\n  if (isUint8Array(uncompressed)) {\n    uint8Mode = true\n  } else if (isArrayBuffer(uncompressed)) {\n    arrayBufferMode = true\n    uncompressed = new Uint8Array(uncompressed)\n  }\n  var compressor = new SnappyCompressor(uncompressed)\n  var maxLength = compressor.maxCompressedLength()\n  var compressed, compressedView\n  var length\n  if (uint8Mode) {\n    compressed = new Uint8Array(maxLength)\n    length = compressor.compressToBuffer(compressed)\n  } else if (arrayBufferMode) {\n    compressed = new ArrayBuffer(maxLength)\n    compressedView = new Uint8Array(compressed)\n    length = compressor.compressToBuffer(compressedView)\n  } else {\n    compressed = Buffer.alloc(maxLength)\n    length = compressor.compressToBuffer(compressed)\n  }\n  return compressed.slice(0, length)\n}\n\nexports.uncompress = uncompress\nexports.compress = compress\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","// The MIT License (MIT)\n//\n// Copyright (c) 2016 Zhipeng Jia\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\n\n'use strict'\n\nvar WORD_MASK = [0, 0xff, 0xffff, 0xffffff, 0xffffffff]\n\nfunction copyBytes (fromArray, fromPos, toArray, toPos, length) {\n  var i\n  for (i = 0; i < length; i++) {\n    toArray[toPos + i] = fromArray[fromPos + i]\n  }\n}\n\nfunction selfCopyBytes (array, pos, offset, length) {\n  var i\n  for (i = 0; i < length; i++) {\n    array[pos + i] = array[pos - offset + i]\n  }\n}\n\nfunction SnappyDecompressor (compressed) {\n  this.array = compressed\n  this.pos = 0\n}\n\nSnappyDecompressor.prototype.readUncompressedLength = function () {\n  var result = 0\n  var shift = 0\n  var c, val\n  while (shift < 32 && this.pos < this.array.length) {\n    c = this.array[this.pos]\n    this.pos += 1\n    val = c & 0x7f\n    if (((val << shift) >>> shift) !== val) {\n      return -1\n    }\n    result |= val << shift\n    if (c < 128) {\n      return result\n    }\n    shift += 7\n  }\n  return -1\n}\n\nSnappyDecompressor.prototype.uncompressToBuffer = function (outBuffer) {\n  var array = this.array\n  var arrayLength = array.length\n  var pos = this.pos\n  var outPos = 0\n\n  var c, len, smallLen\n  var offset\n\n  while (pos < array.length) {\n    c = array[pos]\n    pos += 1\n    if ((c & 0x3) === 0) {\n      // Literal\n      len = (c >>> 2) + 1\n      if (len > 60) {\n        if (pos + 3 >= arrayLength) {\n          return false\n        }\n        smallLen = len - 60\n        len = array[pos] + (array[pos + 1] << 8) + (array[pos + 2] << 16) + (array[pos + 3] << 24)\n        len = (len & WORD_MASK[smallLen]) + 1\n        pos += smallLen\n      }\n      if (pos + len > arrayLength) {\n        return false\n      }\n      copyBytes(array, pos, outBuffer, outPos, len)\n      pos += len\n      outPos += len\n    } else {\n      switch (c & 0x3) {\n        case 1:\n          len = ((c >>> 2) & 0x7) + 4\n          offset = array[pos] + ((c >>> 5) << 8)\n          pos += 1\n          break\n        case 2:\n          if (pos + 1 >= arrayLength) {\n            return false\n          }\n          len = (c >>> 2) + 1\n          offset = array[pos] + (array[pos + 1] << 8)\n          pos += 2\n          break\n        case 3:\n          if (pos + 3 >= arrayLength) {\n            return false\n          }\n          len = (c >>> 2) + 1\n          offset = array[pos] + (array[pos + 1] << 8) + (array[pos + 2] << 16) + (array[pos + 3] << 24)\n          pos += 4\n          break\n        default:\n          break\n      }\n      if (offset === 0 || offset > outPos) {\n        return false\n      }\n      selfCopyBytes(outBuffer, outPos, offset, len)\n      outPos += len\n    }\n  }\n  return true\n}\n\nexports.SnappyDecompressor = SnappyDecompressor\n","// The MIT License (MIT)\n//\n// Copyright (c) 2016 Zhipeng Jia\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\n\n'use strict'\n\nvar BLOCK_LOG = 16\nvar BLOCK_SIZE = 1 << BLOCK_LOG\n\nvar MAX_HASH_TABLE_BITS = 14\nvar globalHashTables = new Array(MAX_HASH_TABLE_BITS + 1)\n\nfunction hashFunc (key, hashFuncShift) {\n  return (key * 0x1e35a7bd) >>> hashFuncShift\n}\n\nfunction load32 (array, pos) {\n  return array[pos] + (array[pos + 1] << 8) + (array[pos + 2] << 16) + (array[pos + 3] << 24)\n}\n\nfunction equals32 (array, pos1, pos2) {\n  return array[pos1] === array[pos2] &&\n         array[pos1 + 1] === array[pos2 + 1] &&\n         array[pos1 + 2] === array[pos2 + 2] &&\n         array[pos1 + 3] === array[pos2 + 3]\n}\n\nfunction copyBytes (fromArray, fromPos, toArray, toPos, length) {\n  var i\n  for (i = 0; i < length; i++) {\n    toArray[toPos + i] = fromArray[fromPos + i]\n  }\n}\n\nfunction emitLiteral (input, ip, len, output, op) {\n  if (len <= 60) {\n    output[op] = (len - 1) << 2\n    op += 1\n  } else if (len < 256) {\n    output[op] = 60 << 2\n    output[op + 1] = len - 1\n    op += 2\n  } else {\n    output[op] = 61 << 2\n    output[op + 1] = (len - 1) & 0xff\n    output[op + 2] = (len - 1) >>> 8\n    op += 3\n  }\n  copyBytes(input, ip, output, op, len)\n  return op + len\n}\n\nfunction emitCopyLessThan64 (output, op, offset, len) {\n  if (len < 12 && offset < 2048) {\n    output[op] = 1 + ((len - 4) << 2) + ((offset >>> 8) << 5)\n    output[op + 1] = offset & 0xff\n    return op + 2\n  } else {\n    output[op] = 2 + ((len - 1) << 2)\n    output[op + 1] = offset & 0xff\n    output[op + 2] = offset >>> 8\n    return op + 3\n  }\n}\n\nfunction emitCopy (output, op, offset, len) {\n  while (len >= 68) {\n    op = emitCopyLessThan64(output, op, offset, 64)\n    len -= 64\n  }\n  if (len > 64) {\n    op = emitCopyLessThan64(output, op, offset, 60)\n    len -= 60\n  }\n  return emitCopyLessThan64(output, op, offset, len)\n}\n\nfunction compressFragment (input, ip, inputSize, output, op) {\n  var hashTableBits = 1\n  while ((1 << hashTableBits) <= inputSize &&\n         hashTableBits <= MAX_HASH_TABLE_BITS) {\n    hashTableBits += 1\n  }\n  hashTableBits -= 1\n  var hashFuncShift = 32 - hashTableBits\n\n  if (typeof globalHashTables[hashTableBits] === 'undefined') {\n    globalHashTables[hashTableBits] = new Uint16Array(1 << hashTableBits)\n  }\n  var hashTable = globalHashTables[hashTableBits]\n  var i\n  for (i = 0; i < hashTable.length; i++) {\n    hashTable[i] = 0\n  }\n\n  var ipEnd = ip + inputSize\n  var ipLimit\n  var baseIp = ip\n  var nextEmit = ip\n\n  var hash, nextHash\n  var nextIp, candidate, skip\n  var bytesBetweenHashLookups\n  var base, matched, offset\n  var prevHash, curHash\n  var flag = true\n\n  var INPUT_MARGIN = 15\n  if (inputSize >= INPUT_MARGIN) {\n    ipLimit = ipEnd - INPUT_MARGIN\n\n    ip += 1\n    nextHash = hashFunc(load32(input, ip), hashFuncShift)\n\n    while (flag) {\n      skip = 32\n      nextIp = ip\n      do {\n        ip = nextIp\n        hash = nextHash\n        bytesBetweenHashLookups = skip >>> 5\n        skip += 1\n        nextIp = ip + bytesBetweenHashLookups\n        if (ip > ipLimit) {\n          flag = false\n          break\n        }\n        nextHash = hashFunc(load32(input, nextIp), hashFuncShift)\n        candidate = baseIp + hashTable[hash]\n        hashTable[hash] = ip - baseIp\n      } while (!equals32(input, ip, candidate))\n\n      if (!flag) {\n        break\n      }\n\n      op = emitLiteral(input, nextEmit, ip - nextEmit, output, op)\n\n      do {\n        base = ip\n        matched = 4\n        while (ip + matched < ipEnd && input[ip + matched] === input[candidate + matched]) {\n          matched += 1\n        }\n        ip += matched\n        offset = base - candidate\n        op = emitCopy(output, op, offset, matched)\n\n        nextEmit = ip\n        if (ip >= ipLimit) {\n          flag = false\n          break\n        }\n        prevHash = hashFunc(load32(input, ip - 1), hashFuncShift)\n        hashTable[prevHash] = ip - 1 - baseIp\n        curHash = hashFunc(load32(input, ip), hashFuncShift)\n        candidate = baseIp + hashTable[curHash]\n        hashTable[curHash] = ip - baseIp\n      } while (equals32(input, ip, candidate))\n\n      if (!flag) {\n        break\n      }\n\n      ip += 1\n      nextHash = hashFunc(load32(input, ip), hashFuncShift)\n    }\n  }\n\n  if (nextEmit < ipEnd) {\n    op = emitLiteral(input, nextEmit, ipEnd - nextEmit, output, op)\n  }\n\n  return op\n}\n\nfunction putVarint (value, output, op) {\n  do {\n    output[op] = value & 0x7f\n    value = value >>> 7\n    if (value > 0) {\n      output[op] += 0x80\n    }\n    op += 1\n  } while (value > 0)\n  return op\n}\n\nfunction SnappyCompressor (uncompressed) {\n  this.array = uncompressed\n}\n\nSnappyCompressor.prototype.maxCompressedLength = function () {\n  var sourceLen = this.array.length\n  return 32 + sourceLen + Math.floor(sourceLen / 6)\n}\n\nSnappyCompressor.prototype.compressToBuffer = function (outBuffer) {\n  var array = this.array\n  var length = array.length\n  var pos = 0\n  var outPos = 0\n\n  var fragmentSize\n\n  outPos = putVarint(length, outBuffer, outPos)\n  while (pos < length) {\n    fragmentSize = Math.min(length - pos, BLOCK_SIZE)\n    outPos = compressFragment(array, pos, fragmentSize, outBuffer, outPos)\n    pos += fragmentSize\n  }\n\n  return outPos\n}\n\nexports.SnappyCompressor = SnappyCompressor\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst GameEvent_1 = require(\"../../Data/GameEvent\");\r\nfunction parseGameEvent(definition, stream) {\r\n    const values = {};\r\n    for (const entry of definition.entries) {\r\n        const value = getGameEventValue(stream, entry);\r\n        if (value !== null) {\r\n            values[entry.name] = value;\r\n        }\r\n    }\r\n    const name = definition.name;\r\n    return {\r\n        name,\r\n        values\r\n    };\r\n}\r\nfunction encodeGameEvent(event, definition, stream) {\r\n    for (const entry of definition.entries) {\r\n        const value = event.values[entry.name];\r\n        if (typeof value === 'undefined') {\r\n            throw new Error('empty event value');\r\n        }\r\n        else {\r\n            encodeGameEventValue(value, stream, entry);\r\n        }\r\n    }\r\n}\r\nfunction getGameEventValue(stream, entry) {\r\n    switch (entry.type) {\r\n        case GameEvent_1.GameEventValueType.STRING:\r\n            return stream.readUTF8String();\r\n        case GameEvent_1.GameEventValueType.FLOAT:\r\n            return stream.readFloat32();\r\n        case GameEvent_1.GameEventValueType.LONG:\r\n            return stream.readUint32();\r\n        case GameEvent_1.GameEventValueType.SHORT:\r\n            return stream.readUint16();\r\n        case GameEvent_1.GameEventValueType.BYTE:\r\n            return stream.readUint8();\r\n        case GameEvent_1.GameEventValueType.BOOLEAN:\r\n            return stream.readBoolean();\r\n        case GameEvent_1.GameEventValueType.LOCAL:\r\n            return null;\r\n    }\r\n}\r\nfunction encodeGameEventValue(value, stream, entry) {\r\n    switch (entry.type) {\r\n        case GameEvent_1.GameEventValueType.STRING:\r\n            if (typeof value !== 'string') {\r\n                throw new Error(`Invalid value for game event, expected string got ${typeof value}`);\r\n            }\r\n            return stream.writeASCIIString(value);\r\n        case GameEvent_1.GameEventValueType.FLOAT:\r\n            if (typeof value !== 'number') {\r\n                throw new Error(`Invalid value for game event, expected number got ${typeof value}`);\r\n            }\r\n            return stream.writeFloat32(value);\r\n        case GameEvent_1.GameEventValueType.LONG:\r\n            if (typeof value !== 'number') {\r\n                throw new Error(`Invalid value for game event, expected number got ${typeof value}`);\r\n            }\r\n            return stream.writeUint32(value);\r\n        case GameEvent_1.GameEventValueType.SHORT:\r\n            if (typeof value !== 'number') {\r\n                throw new Error(`Invalid value for game event, expected number got ${typeof value}`);\r\n            }\r\n            return stream.writeUint16(value);\r\n        case GameEvent_1.GameEventValueType.BYTE:\r\n            if (typeof value !== 'number') {\r\n                throw new Error(`Invalid value for game event, expected number got ${typeof value}`);\r\n            }\r\n            return stream.writeUint8(value);\r\n        case GameEvent_1.GameEventValueType.BOOLEAN:\r\n            if (typeof value !== 'boolean') {\r\n                throw new Error(`Invalid value for game event, expected boolean got ${typeof value}`);\r\n            }\r\n            return stream.writeBoolean(value);\r\n    }\r\n}\r\nfunction ParseGameEvent(stream, state) {\r\n    const length = stream.readBits(11);\r\n    const eventData = stream.readBitStream(length);\r\n    const eventType = eventData.readBits(9);\r\n    const definition = state.eventDefinitions.get(eventType);\r\n    if (!definition) {\r\n        throw new Error(`Unknown game event type ${eventType}`);\r\n    }\r\n    const event = parseGameEvent(definition, eventData);\r\n    return {\r\n        packetType: 'gameEvent',\r\n        event: event\r\n    };\r\n}\r\nexports.ParseGameEvent = ParseGameEvent;\r\nfunction EncodeGameEvent(packet, stream, state) {\r\n    const lengthStart = stream.index;\r\n    stream.index += 11;\r\n    const eventId = state.eventDefinitionTypes.get(packet.event.name);\r\n    if (typeof eventId === 'undefined') {\r\n        throw new Error(`Unknown game event type ${packet.event.name}`);\r\n    }\r\n    const eventDataStart = stream.index;\r\n    stream.writeBits(eventId, 9);\r\n    const definition = state.eventDefinitions.get(eventId);\r\n    if (typeof definition === 'undefined') {\r\n        throw new Error(`Unknown game event type ${packet.event.name}`);\r\n    }\r\n    encodeGameEvent(packet.event, definition, stream);\r\n    const eventDataEnd = stream.index;\r\n    stream.index = lengthStart;\r\n    stream.writeBits(eventDataEnd - eventDataStart, 11);\r\n    stream.index = eventDataEnd;\r\n}\r\nexports.EncodeGameEvent = EncodeGameEvent;\r\n//# sourceMappingURL=GameEvent.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar GameEventValueType;\r\n(function (GameEventValueType) {\r\n    GameEventValueType[GameEventValueType[\"STRING\"] = 1] = \"STRING\";\r\n    GameEventValueType[GameEventValueType[\"FLOAT\"] = 2] = \"FLOAT\";\r\n    GameEventValueType[GameEventValueType[\"LONG\"] = 3] = \"LONG\";\r\n    GameEventValueType[GameEventValueType[\"SHORT\"] = 4] = \"SHORT\";\r\n    GameEventValueType[GameEventValueType[\"BYTE\"] = 5] = \"BYTE\";\r\n    GameEventValueType[GameEventValueType[\"BOOLEAN\"] = 6] = \"BOOLEAN\";\r\n    GameEventValueType[GameEventValueType[\"LOCAL\"] = 7] = \"LOCAL\";\r\n})(GameEventValueType = exports.GameEventValueType || (exports.GameEventValueType = {}));\r\n//# sourceMappingURL=GameEvent.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction ParseGameEventList(stream) {\r\n    // list of game events and parameters\r\n    const numEvents = stream.readBits(9);\r\n    const length = stream.readBits(20);\r\n    const listData = stream.readBitStream(length);\r\n    const eventList = new Map();\r\n    for (let i = 0; i < numEvents; i++) {\r\n        const id = listData.readBits(9);\r\n        const name = listData.readASCIIString();\r\n        let type = listData.readBits(3);\r\n        const entries = [];\r\n        while (type !== 0) {\r\n            entries.push({\r\n                type,\r\n                name: listData.readASCIIString()\r\n            });\r\n            type = listData.readBits(3);\r\n        }\r\n        eventList.set(id, {\r\n            id,\r\n            name,\r\n            entries\r\n        });\r\n    }\r\n    return {\r\n        packetType: 'gameEventList',\r\n        eventList\r\n    };\r\n}\r\nexports.ParseGameEventList = ParseGameEventList;\r\nfunction EncodeGameEventList(packet, stream) {\r\n    const definitions = Array.from(packet.eventList.values());\r\n    stream.writeBits(definitions.length, 9);\r\n    const lengthStart = stream.index;\r\n    stream.index += 20;\r\n    const eventListStart = stream.index;\r\n    for (const definition of definitions) {\r\n        stream.writeBits(definition.id, 9);\r\n        stream.writeASCIIString(definition.name);\r\n        for (const entry of definition.entries) {\r\n            stream.writeBits(entry.type, 3);\r\n            stream.writeASCIIString(entry.name);\r\n        }\r\n        stream.writeBits(0, 3);\r\n    }\r\n    const eventListEnd = stream.index;\r\n    stream.index = lengthStart;\r\n    stream.writeBits(eventListEnd - eventListStart, 20);\r\n    stream.index = eventListEnd;\r\n}\r\nexports.EncodeGameEventList = EncodeGameEventList;\r\n//# sourceMappingURL=GameEventList.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst PacketEntity_1 = require(\"../../Data/PacketEntity\");\r\nconst ParserState_1 = require(\"../../Data/ParserState\");\r\nconst EntityDecoder_1 = require(\"../EntityDecoder\");\r\nconst readBitVar_1 = require(\"../readBitVar\");\r\nconst pvsMap = new Map([\r\n    [0, PacketEntity_1.PVS.PRESERVE],\r\n    [2, PacketEntity_1.PVS.ENTER],\r\n    [1, PacketEntity_1.PVS.LEAVE],\r\n    [3, PacketEntity_1.PVS.LEAVE + PacketEntity_1.PVS.DELETE]\r\n]);\r\nconst pvsReverseMap = new Map([\r\n    [PacketEntity_1.PVS.PRESERVE, 0],\r\n    [PacketEntity_1.PVS.ENTER, 2],\r\n    [PacketEntity_1.PVS.LEAVE, 1],\r\n    [PacketEntity_1.PVS.LEAVE + PacketEntity_1.PVS.DELETE, 3]\r\n]);\r\nfunction readPVSType(stream) {\r\n    const pvs = stream.readBits(2);\r\n    return pvsMap.get(pvs);\r\n}\r\nfunction writePVSType(pvs, stream) {\r\n    const raw = pvsReverseMap.get(pvs);\r\n    if (typeof raw === 'undefined') {\r\n        throw new Error(`Unknown pvs ${pvs}`);\r\n    }\r\n    stream.writeBits(raw, 2);\r\n}\r\nfunction readEnterPVS(stream, entityId, state, baseLineIndex) {\r\n    // https://github.com/PazerOP/DemoLib/blob/5f9467650f942a4a70f9ec689eadcd3e0a051956/TF2Net/NetMessages/NetPacketEntitiesMessage.cs#L198\r\n    const classBits = ParserState_1.getClassBits(state);\r\n    const serverClass = state.serverClasses[stream.readBits(classBits)];\r\n    const serial = stream.readBits(10); // unused serial number\r\n    const sendTable = ParserState_1.getSendTable(state, serverClass.dataTable);\r\n    const instanceBaseline = state.instanceBaselines[baseLineIndex].get(entityId);\r\n    const entity = new PacketEntity_1.PacketEntity(serverClass, entityId, PacketEntity_1.PVS.ENTER);\r\n    entity.serialNumber = serial;\r\n    if (instanceBaseline) {\r\n        entity.props = instanceBaseline.map((prop) => prop.clone());\r\n        return entity;\r\n    }\r\n    else {\r\n        const staticBaseLine = state.staticBaseLines.get(serverClass.id);\r\n        if (staticBaseLine) {\r\n            let parsedBaseLine = state.staticBaselineCache.get(serverClass.id);\r\n            if (!parsedBaseLine) {\r\n                staticBaseLine.index = 0;\r\n                parsedBaseLine = EntityDecoder_1.getEntityUpdate(sendTable, staticBaseLine);\r\n                state.staticBaselineCache.set(serverClass.id, parsedBaseLine);\r\n            }\r\n            entity.props = parsedBaseLine.map((prop) => prop.clone());\r\n            // entity.applyPropUpdate(parsedBaseLine);\r\n            // if (staticBaseLine.bitsLeft > 7) {\r\n            // console.log(staticBaseLine.length, staticBaseLine.index);\r\n            // throw new Error('Unexpected data left at the end of staticBaseline, ' + staticBaseLine.bitsLeft + ' bits left');\r\n            // }\r\n        }\r\n        return entity;\r\n    }\r\n}\r\nfunction writeEnterPVS(entity, stream, state, baseLineIndex) {\r\n    const serverClassId = state.serverClasses.findIndex((existingServerClass) => existingServerClass && entity.serverClass.id === existingServerClass.id);\r\n    if (serverClassId === -1) {\r\n        throw new Error(`Unknown server class ${entity.serverClass.name}(${entity.serverClass.id})`);\r\n    }\r\n    // get the instance from the match, not the entity\r\n    const serverClass = state.serverClasses[serverClassId];\r\n    stream.writeBits(serverClassId, ParserState_1.getClassBits(state));\r\n    stream.writeBits(entity.serialNumber || 0, 10);\r\n    const sendTable = ParserState_1.getSendTable(state, serverClass.dataTable);\r\n    let instanceBaseLine = state.instanceBaselines[baseLineIndex].get(entity.entityIndex);\r\n    if (!instanceBaseLine) {\r\n        const staticBaseLine = state.staticBaseLines.get(serverClass.id);\r\n        if (staticBaseLine) {\r\n            instanceBaseLine = state.staticBaselineCache.get(serverClass.id);\r\n            if (!instanceBaseLine) {\r\n                staticBaseLine.index = 0;\r\n                instanceBaseLine = EntityDecoder_1.getEntityUpdate(sendTable, staticBaseLine);\r\n                state.staticBaselineCache.set(serverClass.id, instanceBaseLine);\r\n            }\r\n        }\r\n    }\r\n    const propsToEncode = instanceBaseLine ? entity.diffFromBaseLine(instanceBaseLine) : entity.props;\r\n    EntityDecoder_1.encodeEntityUpdate(propsToEncode, sendTable, stream);\r\n}\r\nfunction getPacketEntityForExisting(entityId, state, pvs) {\r\n    const serverClass = state.entityClasses.get(entityId);\r\n    if (!serverClass) {\r\n        throw new Error(`\"unknown entity ${entityId} for ${PacketEntity_1.PVS[pvs]}(${pvs})`);\r\n    }\r\n    return new PacketEntity_1.PacketEntity(serverClass, entityId, pvs);\r\n}\r\nfunction ParsePacketEntities(stream, state, skip = false) {\r\n    // https://github.com/skadistats/smoke/blob/master/smoke/replay/handler/svc_packetentities.pyx\r\n    // https://github.com/StatsHelix/demoinfo/blob/3d28ea917c3d44d987b98bb8f976f1a3fcc19821/DemoInfo/DP/Handler/PacketEntitesHandler.cs\r\n    // https://github.com/StatsHelix/demoinfo/blob/3d28ea917c3d44d987b98bb8f976f1a3fcc19821/DemoInfo/DP/Entity.cs\r\n    // https://github.com/PazerOP/DemoLib/blob/5f9467650f942a4a70f9ec689eadcd3e0a051956/TF2Net/NetMessages/NetPacketEntitiesMessage.cs\r\n    const maxEntries = stream.readBits(11);\r\n    const isDelta = stream.readBoolean();\r\n    const delta = (isDelta) ? stream.readInt32() : 0;\r\n    const baseLine = stream.readBits(1);\r\n    const updatedEntries = stream.readBits(11);\r\n    const length = stream.readBits(20);\r\n    const updatedBaseLine = stream.readBoolean();\r\n    const start = stream.index;\r\n    const end = stream.index + length;\r\n    let entityId = -1;\r\n    const receivedEntities = [];\r\n    const removedEntityIds = [];\r\n    if (!skip) {\r\n        if (updatedBaseLine) {\r\n            state.instanceBaselines[1 - baseLine] = new Map(state.instanceBaselines[baseLine]);\r\n            // state.instanceBaselines[baseLine] = new Map();\r\n        }\r\n        for (let i = 0; i < updatedEntries; i++) {\r\n            const diff = readBitVar_1.readUBitVar(stream);\r\n            entityId += 1 + diff;\r\n            const pvs = readPVSType(stream);\r\n            if (pvs === PacketEntity_1.PVS.ENTER) {\r\n                const packetEntity = readEnterPVS(stream, entityId, state, baseLine);\r\n                const sendTable = ParserState_1.getSendTable(state, packetEntity.serverClass.dataTable);\r\n                const updatedProps = EntityDecoder_1.getEntityUpdate(sendTable, stream);\r\n                packetEntity.applyPropUpdate(updatedProps);\r\n                if (updatedBaseLine) {\r\n                    state.instanceBaselines[1 - baseLine].set(entityId, packetEntity.clone().props);\r\n                }\r\n                packetEntity.inPVS = true;\r\n                receivedEntities.push(packetEntity);\r\n            }\r\n            else if (pvs === PacketEntity_1.PVS.PRESERVE) {\r\n                const packetEntity = getPacketEntityForExisting(entityId, state, pvs);\r\n                const sendTable = state.sendTables.get(packetEntity.serverClass.dataTable);\r\n                if (!sendTable) {\r\n                    throw new Error(`Unknown sendTable ${packetEntity.serverClass.dataTable}`);\r\n                }\r\n                const updatedProps = EntityDecoder_1.getEntityUpdate(sendTable, stream);\r\n                packetEntity.applyPropUpdate(updatedProps);\r\n                receivedEntities.push(packetEntity);\r\n            }\r\n            else if (state.entityClasses.has(entityId)) {\r\n                const packetEntity = getPacketEntityForExisting(entityId, state, pvs);\r\n                receivedEntities.push(packetEntity);\r\n            }\r\n            else {\r\n                // throw new Error(`No existing entity to update with id ${entityId}`);\r\n            }\r\n        }\r\n        if (isDelta) {\r\n            while (stream.readBoolean()) {\r\n                removedEntityIds.push(stream.readBits(11));\r\n            }\r\n        }\r\n    }\r\n    stream.index = end;\r\n    return {\r\n        packetType: 'packetEntities',\r\n        entities: receivedEntities,\r\n        removedEntities: removedEntityIds,\r\n        maxEntries,\r\n        delta,\r\n        baseLine,\r\n        updatedBaseLine\r\n    };\r\n}\r\nexports.ParsePacketEntities = ParsePacketEntities;\r\nfunction EncodePacketEntities(packet, stream, state) {\r\n    stream.writeBits(packet.maxEntries, 11);\r\n    const isDelta = packet.delta > 0;\r\n    stream.writeBoolean(isDelta);\r\n    if (isDelta) {\r\n        stream.writeInt32(packet.delta);\r\n    }\r\n    stream.writeBits(packet.baseLine, 1);\r\n    stream.writeBits(packet.entities.length, 11);\r\n    const lengthStart = stream.index;\r\n    stream.index += 20;\r\n    stream.writeBoolean(packet.updatedBaseLine);\r\n    const packetDataStart = stream.index;\r\n    let lastEntityId = -1;\r\n    if (packet.updatedBaseLine) {\r\n        state.instanceBaselines[1 - packet.baseLine] = new Map(state.instanceBaselines[packet.baseLine]);\r\n        // state.instanceBaselines[baseLine] = new Map();\r\n    }\r\n    for (const entity of packet.entities) {\r\n        const diff = entity.entityIndex - lastEntityId;\r\n        lastEntityId = entity.entityIndex;\r\n        readBitVar_1.writeBitVar(diff - 1, stream);\r\n        writePVSType(entity.pvs, stream);\r\n        if (entity.pvs === PacketEntity_1.PVS.ENTER) {\r\n            if (packet.updatedBaseLine) {\r\n                state.instanceBaselines[1 - packet.baseLine].set(entity.entityIndex, entity.clone().props);\r\n            }\r\n            writeEnterPVS(entity, stream, state, packet.baseLine);\r\n        }\r\n        else if (entity.pvs === PacketEntity_1.PVS.PRESERVE) {\r\n            const sendTable = ParserState_1.getSendTable(state, entity.serverClass.dataTable);\r\n            EntityDecoder_1.encodeEntityUpdate(entity.props, sendTable, stream);\r\n        }\r\n    }\r\n    if (isDelta) {\r\n        for (const removedEntity of packet.removedEntities) {\r\n            stream.writeBoolean(true);\r\n            stream.writeBits(removedEntity, 11);\r\n        }\r\n        stream.writeBoolean(false);\r\n    }\r\n    const packetDataEnd = stream.index;\r\n    stream.index = lengthStart;\r\n    stream.writeBits(packetDataEnd - packetDataStart, 20);\r\n    stream.index = packetDataEnd;\r\n}\r\nexports.EncodePacketEntities = EncodePacketEntities;\r\n//# sourceMappingURL=PacketEntities.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction ParseParseSounds(stream) {\r\n    const reliable = stream.readBoolean();\r\n    const num = (reliable) ? 1 : stream.readUint8();\r\n    const length = (reliable) ? stream.readUint8() : stream.readUint16();\r\n    const data = stream.readBitStream(length);\r\n    return {\r\n        packetType: 'parseSounds',\r\n        reliable,\r\n        num,\r\n        length,\r\n        data\r\n    };\r\n}\r\nexports.ParseParseSounds = ParseParseSounds;\r\nfunction EncodeParseSounds(packet, stream) {\r\n    stream.writeBoolean(packet.reliable);\r\n    if (packet.reliable) {\r\n        stream.writeUint8(packet.length);\r\n    }\r\n    else {\r\n        stream.writeUint8(packet.num);\r\n        stream.writeUint16(packet.length);\r\n    }\r\n    packet.data.index = 0;\r\n    stream.writeBitStream(packet.data, packet.length);\r\n    packet.data.index = 0;\r\n}\r\nexports.EncodeParseSounds = EncodeParseSounds;\r\n//# sourceMappingURL=ParseSounds.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction ParseSetConVar(stream) {\r\n    const count = stream.readUint8();\r\n    const vars = new Map();\r\n    for (let i = 0; i < count; i++) {\r\n        const key = stream.readUTF8String();\r\n        const value = stream.readUTF8String();\r\n        vars.set(key, value);\r\n    }\r\n    return {\r\n        packetType: 'setConVar',\r\n        vars\r\n    };\r\n}\r\nexports.ParseSetConVar = ParseSetConVar;\r\nfunction EncodeSetConVar(packet, stream) {\r\n    stream.writeUint8(packet.vars.size);\r\n    for (const [key, value] of packet.vars.entries()) {\r\n        stream.writeUTF8String(key);\r\n        stream.writeUTF8String(value);\r\n    }\r\n}\r\nexports.EncodeSetConVar = EncodeSetConVar;\r\n//# sourceMappingURL=SetConVar.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst PacketEntity_1 = require(\"../../Data/PacketEntity\");\r\nconst ParserState_1 = require(\"../../Data/ParserState\");\r\nconst DynamicBitStream_1 = require(\"../../DynamicBitStream\");\r\nconst EntityDecoder_1 = require(\"../EntityDecoder\");\r\nconst readBitVar_1 = require(\"../readBitVar\");\r\nfunction ParseTempEntities(stream, state, skip = false) {\r\n    const entityCount = stream.readUint8();\r\n    const length = readBitVar_1.readVarInt(stream);\r\n    const entityData = stream.readBitStream(length);\r\n    let entity = null;\r\n    const entities = [];\r\n    if (!skip) {\r\n        for (let i = 0; i < entityCount; i++) {\r\n            const delay = (entityData.readBoolean()) ? entityData.readUint8() / 100 : 0; // unused it seems\r\n            if (entityData.readBoolean()) {\r\n                const classId = entityData.readBits(ParserState_1.getClassBits(state));\r\n                // no clue why the -1 but it works\r\n                const serverClass = state.serverClasses[classId - 1];\r\n                if (!serverClass) {\r\n                    throw new Error(`Unknown serverClass ${classId}`);\r\n                }\r\n                const sendTable = ParserState_1.getSendTable(state, serverClass.dataTable);\r\n                entity = new PacketEntity_1.PacketEntity(serverClass, 0, PacketEntity_1.PVS.ENTER);\r\n                entity.delay = delay;\r\n                entity.props = EntityDecoder_1.getEntityUpdate(sendTable, entityData);\r\n                entities.push(entity);\r\n            }\r\n            else {\r\n                if (entity) {\r\n                    const sendTable = ParserState_1.getSendTable(state, entity.serverClass.dataTable);\r\n                    const updatedProps = EntityDecoder_1.getEntityUpdate(sendTable, entityData);\r\n                    entity = entity.clone();\r\n                    entity.applyPropUpdate(updatedProps);\r\n                    entities.push(entity);\r\n                }\r\n                else {\r\n                    throw new Error('no entity set to update');\r\n                }\r\n            }\r\n        }\r\n        if (entityData.bitsLeft > 8) {\r\n            throw new Error(`unexpected content after TempEntities ${entityData.bitsLeft} bits`);\r\n        }\r\n    }\r\n    return {\r\n        packetType: 'tempEntities',\r\n        entities\r\n    };\r\n}\r\nexports.ParseTempEntities = ParseTempEntities;\r\nfunction EncodeTempEntities(packet, stream, state) {\r\n    stream.writeUint8(packet.entities.length);\r\n    const entityStream = new DynamicBitStream_1.DynamicBitStream();\r\n    for (const entity of packet.entities) {\r\n        if (entity.delay) {\r\n            entityStream.writeBoolean(true);\r\n            entityStream.writeUint8(Math.round(entity.delay * 100));\r\n        }\r\n        else {\r\n            entityStream.writeBoolean(false);\r\n        }\r\n        entityStream.writeBoolean(true);\r\n        const classId = state.serverClasses.findIndex((serverClass) => serverClass && serverClass.name === entity.serverClass.name) + 1;\r\n        entityStream.writeBits(classId, ParserState_1.getClassBits(state));\r\n        const sendTable = ParserState_1.getSendTable(state, entity.serverClass.dataTable);\r\n        EntityDecoder_1.encodeEntityUpdate(entity.props, sendTable, entityStream);\r\n    }\r\n    const entityDataLength = entityStream.index;\r\n    entityStream.index = 0;\r\n    readBitVar_1.writeVarInt(entityDataLength, stream);\r\n    if (entityDataLength > 0) {\r\n        stream.writeBitStream(entityStream, entityDataLength);\r\n    }\r\n}\r\nexports.EncodeTempEntities = EncodeTempEntities;\r\n//# sourceMappingURL=TempEntities.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst bit_buffer_1 = require(\"bit-buffer\");\r\nconst DynamicBitView_1 = require(\"./DynamicBitView\");\r\nclass DynamicBitStream extends bit_buffer_1.BitStream {\r\n    constructor(initialByteSize = 16 * 1024) {\r\n        super(new DynamicBitView_1.DynamicBitView(new ArrayBuffer(initialByteSize)));\r\n    }\r\n    get length() {\r\n        return this.view.byteLength * 8;\r\n    }\r\n}\r\nexports.DynamicBitStream = DynamicBitStream;\r\n//# sourceMappingURL=DynamicBitStream.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst bit_buffer_1 = require(\"bit-buffer\");\r\nclass DynamicBitView extends bit_buffer_1.BitView {\r\n    setBits(offset, value, bits) {\r\n        const available = (this.byteLength * 8 - offset);\r\n        if (bits > available) {\r\n            this.grow();\r\n        }\r\n        return super.setBits(offset, value, bits);\r\n    }\r\n    grow() {\r\n        const newView = new Uint8Array(this.byteLength * 2);\r\n        newView.set(this._view);\r\n        this._view = newView;\r\n    }\r\n}\r\nexports.DynamicBitView = DynamicBitView;\r\n//# sourceMappingURL=DynamicBitView.js.map","var superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst StringTableParser_1 = require(\"../StringTableParser\");\r\nfunction ParseUpdateStringTable(stream, state) {\r\n    const tableId = stream.readBits(5);\r\n    const multipleChanged = stream.readBoolean();\r\n    const changedEntries = multipleChanged ? stream.readUint16() : 1;\r\n    const bitCount = stream.readBits(20);\r\n    const data = stream.readBitStream(bitCount);\r\n    data.index = 0;\r\n    if (!state.stringTables[tableId]) {\r\n        throw new Error(`Table not found for update: ${tableId}`);\r\n    }\r\n    const table = state.stringTables[tableId];\r\n    const updatedEntries = StringTableParser_1.parseStringTableEntries(data, table, changedEntries, table.entries);\r\n    return {\r\n        packetType: 'updateStringTable',\r\n        entries: updatedEntries,\r\n        tableId\r\n    };\r\n}\r\nexports.ParseUpdateStringTable = ParseUpdateStringTable;\r\nfunction EncodeUpdateStringTable(packet, stream, state) {\r\n    stream.writeBits(packet.tableId, 5);\r\n    const changedEntryCount = packet.entries.filter((entry) => entry).length;\r\n    const multipleChanged = changedEntryCount > 1;\r\n    stream.writeBoolean(multipleChanged);\r\n    if (multipleChanged) {\r\n        stream.writeUint16(changedEntryCount);\r\n    }\r\n    if (!state.stringTables[packet.tableId]) {\r\n        throw new Error(`Table not found for update: ${packet.tableId}`);\r\n    }\r\n    const lengthStart = stream.index;\r\n    stream.index += 20;\r\n    const lengthEnd = stream.index;\r\n    const table = state.stringTables[packet.tableId];\r\n    StringTableParser_1.encodeStringTableEntries(stream, table, packet.entries, table.entries);\r\n    const dataEnd = stream.index;\r\n    stream.index = lengthStart;\r\n    const entryLength = dataEnd - lengthEnd;\r\n    stream.writeBits(entryLength, 20);\r\n    stream.index = dataEnd;\r\n}\r\nexports.EncodeUpdateStringTable = EncodeUpdateStringTable;\r\n//# sourceMappingURL=UpdateStringTable.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst UserMessage_1 = require(\"../../Data/UserMessage\");\r\nconst SayText2_1 = require(\"../UserMessage/SayText2\");\r\nconst ParserGenerator_1 = require(\"./ParserGenerator\");\r\nfunction unknownPacketHandler(userMessageType) {\r\n    return {\r\n        parser: (data) => {\r\n            return {\r\n                packetType: 'userMessage',\r\n                userMessageType,\r\n                type: UserMessage_1.UserMessagePacketTypeMap.get(userMessageType),\r\n                data\r\n            };\r\n        },\r\n        encoder: (packet, data) => {\r\n            packet.data.index = 0;\r\n            data.writeBitStream(packet.data);\r\n            packet.data.index = 0;\r\n        },\r\n        name: userMessageType\r\n    };\r\n}\r\nconst userMessageParsers = new Map([\r\n    [UserMessage_1.UserMessageType.SayText2, { parser: SayText2_1.ParseSayText2, encoder: SayText2_1.EncodeSayText2, name: 'sayText2' }],\r\n    [UserMessage_1.UserMessageType.TextMsg,\r\n        ParserGenerator_1.make('textMsg', 'destType{8}text{s}substitute1{s}substitute2{s}substitute3{s}substitute4{s}', 'userMessageType', {\r\n            packetType: 'userMessage'\r\n        })],\r\n    [UserMessage_1.UserMessageType.ResetHUD,\r\n        ParserGenerator_1.make('resetHUD', 'data{8}', 'userMessageType', {\r\n            packetType: 'userMessage'\r\n        })],\r\n    [UserMessage_1.UserMessageType.Train,\r\n        ParserGenerator_1.make('train', 'data{8}', 'userMessageType', {\r\n            packetType: 'userMessage'\r\n        })],\r\n    [UserMessage_1.UserMessageType.VoiceSubtitle,\r\n        ParserGenerator_1.make('voiceSubtitle', 'client{8}menu{8}item{8}', 'userMessageType', {\r\n            packetType: 'userMessage'\r\n        })],\r\n    [UserMessage_1.UserMessageType.BreakModel_Pumpkin, unknownPacketHandler('breakModelPumpkin')],\r\n    [UserMessage_1.UserMessageType.Shake,\r\n        ParserGenerator_1.make('shake', 'command{8}amplitude{f32}frequency{f32}duration{f32}', 'userMessageType', {\r\n            packetType: 'userMessage'\r\n        })]\r\n]);\r\nfunction ParseUserMessage(stream) {\r\n    const type = stream.readUint8();\r\n    const length = stream.readBits(11);\r\n    const messageData = stream.readBitStream(length);\r\n    const handler = userMessageParsers.get(type);\r\n    if (!handler) {\r\n        return {\r\n            packetType: 'userMessage',\r\n            userMessageType: 'unknownUserMessage',\r\n            type,\r\n            data: messageData\r\n        };\r\n    }\r\n    else {\r\n        return handler.parser(messageData);\r\n    }\r\n}\r\nexports.ParseUserMessage = ParseUserMessage;\r\nfunction EncodeUserMessage(packet, stream) {\r\n    if (packet.userMessageType === 'unknownUserMessage') {\r\n        stream.writeUint8(packet.type);\r\n        stream.writeBits(packet.data.length, 11);\r\n        packet.data.index = 0;\r\n        stream.writeBitStream(packet.data);\r\n        packet.data.index = 0;\r\n    }\r\n    else {\r\n        const messageType = UserMessage_1.UserMessagePacketTypeMap.get(packet.userMessageType);\r\n        if (!messageType) {\r\n            throw new Error(`Unknown userMessage type ${messageType}`);\r\n        }\r\n        stream.writeUint8(messageType);\r\n        const lengthStart = stream.index;\r\n        stream.index += 11;\r\n        const messageDataStart = stream.index;\r\n        const handler = userMessageParsers.get(messageType);\r\n        if (!handler) {\r\n            throw new Error(`No encoder for userMessage ${packet.userMessageType}(${messageType})`);\r\n        }\r\n        handler.encoder(packet, stream);\r\n        const messageDataEnd = stream.index;\r\n        stream.index = lengthStart;\r\n        stream.writeBits(messageDataEnd - messageDataStart, 11);\r\n        stream.index = messageDataEnd;\r\n    }\r\n}\r\nexports.EncodeUserMessage = EncodeUserMessage;\r\n//# sourceMappingURL=UserMessage.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar UserMessageType;\r\n(function (UserMessageType) {\r\n    UserMessageType[UserMessageType[\"Geiger\"] = 0] = \"Geiger\";\r\n    UserMessageType[UserMessageType[\"Train\"] = 1] = \"Train\";\r\n    UserMessageType[UserMessageType[\"HudText\"] = 2] = \"HudText\";\r\n    UserMessageType[UserMessageType[\"SayText\"] = 3] = \"SayText\";\r\n    UserMessageType[UserMessageType[\"SayText2\"] = 4] = \"SayText2\";\r\n    UserMessageType[UserMessageType[\"TextMsg\"] = 5] = \"TextMsg\";\r\n    UserMessageType[UserMessageType[\"ResetHUD\"] = 6] = \"ResetHUD\";\r\n    UserMessageType[UserMessageType[\"GameTitle\"] = 7] = \"GameTitle\";\r\n    UserMessageType[UserMessageType[\"ItemPickup\"] = 8] = \"ItemPickup\";\r\n    UserMessageType[UserMessageType[\"ShowMenu\"] = 9] = \"ShowMenu\";\r\n    UserMessageType[UserMessageType[\"Shake\"] = 10] = \"Shake\";\r\n    UserMessageType[UserMessageType[\"Fade\"] = 11] = \"Fade\";\r\n    UserMessageType[UserMessageType[\"VGUIMenu\"] = 12] = \"VGUIMenu\";\r\n    UserMessageType[UserMessageType[\"Rumble\"] = 13] = \"Rumble\";\r\n    UserMessageType[UserMessageType[\"CloseCaption\"] = 14] = \"CloseCaption\";\r\n    UserMessageType[UserMessageType[\"SendAudio\"] = 15] = \"SendAudio\";\r\n    UserMessageType[UserMessageType[\"VoiceMask\"] = 16] = \"VoiceMask\";\r\n    UserMessageType[UserMessageType[\"RequestState\"] = 17] = \"RequestState\";\r\n    UserMessageType[UserMessageType[\"Damage\"] = 18] = \"Damage\";\r\n    UserMessageType[UserMessageType[\"HintText\"] = 19] = \"HintText\";\r\n    UserMessageType[UserMessageType[\"KeyHintText\"] = 20] = \"KeyHintText\";\r\n    UserMessageType[UserMessageType[\"HudMsg\"] = 21] = \"HudMsg\";\r\n    UserMessageType[UserMessageType[\"AmmoDenied\"] = 22] = \"AmmoDenied\";\r\n    UserMessageType[UserMessageType[\"AchievementEvent\"] = 23] = \"AchievementEvent\";\r\n    UserMessageType[UserMessageType[\"UpdateRadar\"] = 24] = \"UpdateRadar\";\r\n    UserMessageType[UserMessageType[\"VoiceSubtitle\"] = 25] = \"VoiceSubtitle\";\r\n    UserMessageType[UserMessageType[\"HudNotify\"] = 26] = \"HudNotify\";\r\n    UserMessageType[UserMessageType[\"HudNotifyCustom\"] = 27] = \"HudNotifyCustom\";\r\n    UserMessageType[UserMessageType[\"PlayerStatsUpdate\"] = 28] = \"PlayerStatsUpdate\";\r\n    UserMessageType[UserMessageType[\"PlayerIgnited\"] = 29] = \"PlayerIgnited\";\r\n    UserMessageType[UserMessageType[\"PlayerIgnitedInv\"] = 30] = \"PlayerIgnitedInv\";\r\n    UserMessageType[UserMessageType[\"HudArenaNotify\"] = 31] = \"HudArenaNotify\";\r\n    UserMessageType[UserMessageType[\"UpdateAchievement\"] = 32] = \"UpdateAchievement\";\r\n    UserMessageType[UserMessageType[\"TrainingMsg\"] = 33] = \"TrainingMsg\";\r\n    UserMessageType[UserMessageType[\"TrainingObjective\"] = 34] = \"TrainingObjective\";\r\n    UserMessageType[UserMessageType[\"DamageDodged\"] = 35] = \"DamageDodged\";\r\n    UserMessageType[UserMessageType[\"PlayerJarated\"] = 36] = \"PlayerJarated\";\r\n    UserMessageType[UserMessageType[\"PlayerExtinguished\"] = 37] = \"PlayerExtinguished\";\r\n    UserMessageType[UserMessageType[\"PlayerJaratedFade\"] = 38] = \"PlayerJaratedFade\";\r\n    UserMessageType[UserMessageType[\"PlayerShieldBlocked\"] = 39] = \"PlayerShieldBlocked\";\r\n    UserMessageType[UserMessageType[\"BreakModel\"] = 40] = \"BreakModel\";\r\n    UserMessageType[UserMessageType[\"CheapBreakModel\"] = 41] = \"CheapBreakModel\";\r\n    UserMessageType[UserMessageType[\"BreakModel_Pumpkin\"] = 42] = \"BreakModel_Pumpkin\";\r\n    UserMessageType[UserMessageType[\"BreakModelRocketDud\"] = 43] = \"BreakModelRocketDud\";\r\n    UserMessageType[UserMessageType[\"CallVoteFailed\"] = 44] = \"CallVoteFailed\";\r\n    UserMessageType[UserMessageType[\"VoteStart\"] = 45] = \"VoteStart\";\r\n    UserMessageType[UserMessageType[\"VotePass\"] = 46] = \"VotePass\";\r\n    UserMessageType[UserMessageType[\"VoteFailed\"] = 47] = \"VoteFailed\";\r\n    UserMessageType[UserMessageType[\"VoteSetup\"] = 48] = \"VoteSetup\";\r\n    UserMessageType[UserMessageType[\"PlayerBonusPoints\"] = 49] = \"PlayerBonusPoints\";\r\n    UserMessageType[UserMessageType[\"SpawnFlyingBird\"] = 50] = \"SpawnFlyingBird\";\r\n    UserMessageType[UserMessageType[\"PlayerGodRayEffect\"] = 51] = \"PlayerGodRayEffect\";\r\n    UserMessageType[UserMessageType[\"SPHapWeapEvent\"] = 52] = \"SPHapWeapEvent\";\r\n    UserMessageType[UserMessageType[\"HapDmg\"] = 53] = \"HapDmg\";\r\n    UserMessageType[UserMessageType[\"HapPunch\"] = 54] = \"HapPunch\";\r\n    UserMessageType[UserMessageType[\"HapSetDrag\"] = 55] = \"HapSetDrag\";\r\n    UserMessageType[UserMessageType[\"HapSet\"] = 56] = \"HapSet\";\r\n    UserMessageType[UserMessageType[\"HapMeleeContact\"] = 57] = \"HapMeleeContact\";\r\n})(UserMessageType = exports.UserMessageType || (exports.UserMessageType = {}));\r\nvar HudTextLocation;\r\n(function (HudTextLocation) {\r\n    HudTextLocation[HudTextLocation[\"HUD_PRINTNOTIFY\"] = 1] = \"HUD_PRINTNOTIFY\";\r\n    HudTextLocation[HudTextLocation[\"HUD_PRINTCONSOLE\"] = 2] = \"HUD_PRINTCONSOLE\";\r\n    HudTextLocation[HudTextLocation[\"HUD_PRINTTALK\"] = 3] = \"HUD_PRINTTALK\";\r\n    HudTextLocation[HudTextLocation[\"HUD_PRINTCENTER\"] = 4] = \"HUD_PRINTCENTER\";\r\n})(HudTextLocation = exports.HudTextLocation || (exports.HudTextLocation = {}));\r\nexports.UserMessagePacketTypeMap = new Map([\r\n    ['sayText2', UserMessageType.SayText2],\r\n    ['textMsg', UserMessageType.TextMsg],\r\n    ['train', UserMessageType.Train],\r\n    ['voiceSubtitle', UserMessageType.VoiceSubtitle],\r\n    ['breakModelPumpkin', UserMessageType.BreakModel_Pumpkin],\r\n    ['resetHUD', UserMessageType.ResetHUD],\r\n    ['shake', UserMessageType.Shake],\r\n    ['unknownUserMessage', -1]\r\n]);\r\n//# sourceMappingURL=UserMessage.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction ParseSayText2(stream) {\r\n    const client = stream.readUint8();\r\n    const raw = stream.readUint8();\r\n    const pos = stream.index;\r\n    let from;\r\n    let text;\r\n    let kind;\r\n    if (stream.readUint8() === 1) {\r\n        const first = stream.readUint8();\r\n        if (first === 7) {\r\n            const color = stream.readUTF8String(6);\r\n        }\r\n        else {\r\n            stream.index = pos + 8;\r\n        }\r\n        text = stream.readUTF8String();\r\n        if (text.substr(0, 6) === '*DEAD*') {\r\n            // grave talk is in the format '*DEAD* \\u0003$from\\u0001:    $text'\r\n            const start = text.indexOf('\\u0003');\r\n            const end = text.indexOf('\\u0001');\r\n            from = text.substr(start + 1, end - start - 1);\r\n            text = text.substr(end + 5);\r\n            kind = 'TF_Chat_AllDead';\r\n        }\r\n    }\r\n    else {\r\n        stream.index = pos;\r\n        kind = stream.readUTF8String();\r\n        from = stream.readUTF8String();\r\n        text = stream.readUTF8String();\r\n        // maybe always 2 null bytes?\r\n        // stream.readASCIIString();\r\n        // stream.readASCIIString();\r\n        stream.readUint16();\r\n    }\r\n    // cleanup color codes\r\n    text = text.replace(/\\u0001/g, '');\r\n    text = text.replace(/\\u0003/g, '');\r\n    let stringPos = text.indexOf('\\u0007');\r\n    while (stringPos !== -1) {\r\n        text = text.slice(0, stringPos) + text.slice(stringPos + 7);\r\n        stringPos = text.indexOf('\\u0007');\r\n    }\r\n    return {\r\n        packetType: 'userMessage',\r\n        userMessageType: 'sayText2',\r\n        client,\r\n        raw,\r\n        kind,\r\n        from,\r\n        text\r\n    };\r\n}\r\nexports.ParseSayText2 = ParseSayText2;\r\nfunction EncodeSayText2(packet, stream) {\r\n    stream.writeUint8(packet.client);\r\n    stream.writeUint8(packet.raw);\r\n    if (packet.kind === 'TF_Chat_AllDead') {\r\n        const rawText = `*DEAD* \\u0003${packet.from}\\u0001:    ${packet.text}`;\r\n        stream.writeUTF8String(rawText);\r\n    }\r\n    else {\r\n        stream.writeUTF8String(packet.kind);\r\n        stream.writeUTF8String(packet.from);\r\n        stream.writeUTF8String(packet.text);\r\n        stream.writeUint16(0);\r\n    }\r\n}\r\nexports.EncodeSayText2 = EncodeSayText2;\r\n//# sourceMappingURL=SayText2.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction ParseVoiceData(stream) {\r\n    const client = stream.readUint8();\r\n    const proximity = stream.readUint8();\r\n    const length = stream.readUint16();\r\n    const data = stream.readBitStream(length);\r\n    return {\r\n        packetType: 'voiceData',\r\n        client,\r\n        proximity,\r\n        length,\r\n        data\r\n    };\r\n}\r\nexports.ParseVoiceData = ParseVoiceData;\r\nfunction EncodeVoiceData(packet, stream) {\r\n    stream.writeUint8(packet.client);\r\n    stream.writeUint8(packet.proximity);\r\n    stream.writeUint16(packet.length);\r\n    packet.data.index = 0;\r\n    stream.writeBitStream(packet.data, packet.length);\r\n    packet.data.index = 0;\r\n}\r\nexports.EncodeVoiceData = EncodeVoiceData;\r\n//# sourceMappingURL=VoiceData.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction ParseVoiceInit(stream) {\r\n    const codec = stream.readASCIIString();\r\n    const quality = stream.readUint8();\r\n    // no clue, from 2017-2-14 update\r\n    const extraData = readExtraData(stream, codec, quality);\r\n    return {\r\n        packetType: 'voiceInit',\r\n        codec,\r\n        quality,\r\n        extraData\r\n    };\r\n}\r\nexports.ParseVoiceInit = ParseVoiceInit;\r\nfunction readExtraData(stream, codec, quality) {\r\n    if (quality === 255) {\r\n        return stream.readUint16();\r\n    }\r\n    else if (codec === 'vaudio_celt') {\r\n        return 11025;\r\n    }\r\n    else {\r\n        return 0;\r\n    }\r\n}\r\nfunction EncodeVoiceInit(packet, stream) {\r\n    stream.writeASCIIString(packet.codec);\r\n    stream.writeUint8(packet.quality);\r\n    if (packet.quality === 255) {\r\n        stream.writeUint16(packet.extraData);\r\n    }\r\n}\r\nexports.EncodeVoiceInit = EncodeVoiceInit;\r\n//# sourceMappingURL=VoiceInit.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Message_1 = require(\"../../Data/Message\");\r\nexports.StopHandler = {\r\n    parseMessage: (stream) => {\r\n        return {\r\n            type: Message_1.MessageType.Stop,\r\n            rawData: stream.readBitStream(0)\r\n        };\r\n    },\r\n    encodeMessage: (message, stream) => {\r\n        // noop\r\n    }\r\n};\r\n//# sourceMappingURL=Stop.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Message_1 = require(\"../../Data/Message\");\r\nexports.StringTableHandler = {\r\n    parseMessage: (stream) => {\r\n        const tick = stream.readInt32();\r\n        const length = stream.readInt32();\r\n        const messageStream = stream.readBitStream(length * 8);\r\n        // https://github.com/StatsHelix/demoinfo/blob/3d28ea917c3d44d987b98bb8f976f1a3fcc19821/DemoInfo/ST/StringTableParser.cs\r\n        const tableCount = messageStream.readUint8();\r\n        const tables = [];\r\n        for (let i = 0; i < tableCount; i++) {\r\n            const entries = [];\r\n            const tableName = messageStream.readASCIIString();\r\n            const entryCount = messageStream.readUint16();\r\n            for (let j = 0; j < entryCount; j++) {\r\n                const entry = readEntry(messageStream);\r\n                entries.push(entry);\r\n            }\r\n            const table = {\r\n                entries,\r\n                name: tableName,\r\n                maxEntries: entryCount,\r\n                clientEntries: [],\r\n                compressed: false\r\n            };\r\n            if (messageStream.readBoolean()) {\r\n                const clientEntries = messageStream.readUint16();\r\n                for (let j = 0; j < clientEntries; j++) {\r\n                    const entry = readEntry(messageStream);\r\n                    table.clientEntries.push(entry);\r\n                }\r\n            }\r\n            tables.push(table);\r\n        }\r\n        return {\r\n            type: Message_1.MessageType.StringTables,\r\n            tick,\r\n            rawData: messageStream,\r\n            tables\r\n        };\r\n    },\r\n    encodeMessage: (message, stream) => {\r\n        stream.writeUint32(message.tick);\r\n        const lengthStart = stream.index;\r\n        stream.index += 32;\r\n        const dataStart = stream.index;\r\n        stream.writeUint8(message.tables.length);\r\n        for (const table of message.tables) {\r\n            stream.writeASCIIString(table.name);\r\n            stream.writeUint16(table.entries.length);\r\n            for (const entry of table.entries) {\r\n                writeEntry(entry, stream);\r\n            }\r\n            if (table.clientEntries && table.clientEntries.length) {\r\n                stream.writeBoolean(true);\r\n                stream.writeUint16(table.clientEntries.length);\r\n                for (const entry of table.clientEntries) {\r\n                    writeEntry(entry, stream);\r\n                }\r\n            }\r\n            else {\r\n                stream.writeBoolean(false);\r\n            }\r\n        }\r\n        const dataEnd = stream.index;\r\n        stream.index = lengthStart;\r\n        const byteLength = Math.ceil((dataEnd - dataStart) / 8);\r\n        stream.writeUint32(byteLength);\r\n        // align to byte;\r\n        stream.index = dataStart + byteLength * 8;\r\n    }\r\n};\r\nfunction readEntry(stream) {\r\n    const entry = { text: stream.readUTF8String() };\r\n    if (stream.readBoolean()) {\r\n        const extraDataLength = stream.readUint16();\r\n        entry.extraData = stream.readBitStream(extraDataLength * 8);\r\n    }\r\n    return entry;\r\n}\r\nfunction writeEntry(entry, stream) {\r\n    stream.writeUTF8String(entry.text);\r\n    if (entry.extraData) {\r\n        stream.writeBoolean(true);\r\n        stream.writeUint16(Math.ceil(entry.extraData.length / 8));\r\n        entry.extraData.index = 0;\r\n        stream.writeBitStream(entry.extraData, entry.extraData.length);\r\n    }\r\n    else {\r\n        stream.writeBoolean(false);\r\n    }\r\n}\r\n//# sourceMappingURL=StringTable.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Message_1 = require(\"../../Data/Message\");\r\nexports.SyncTickHandler = {\r\n    parseMessage: (stream) => {\r\n        const tick = stream.readInt32();\r\n        return {\r\n            type: Message_1.MessageType.SyncTick,\r\n            tick,\r\n            rawData: stream.readBitStream(0)\r\n        };\r\n    },\r\n    encodeMessage: (message, stream) => {\r\n        stream.writeUint32(message.tick);\r\n    }\r\n};\r\n//# sourceMappingURL=SyncTick.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Message_1 = require(\"../../Data/Message\");\r\nexports.UserCmdHandler = {\r\n    parseMessage: (stream) => {\r\n        const tick = stream.readInt32();\r\n        const sequenceOut = stream.readInt32();\r\n        const length = stream.readInt32();\r\n        const messageStream = stream.readBitStream(length * 8);\r\n        return {\r\n            type: Message_1.MessageType.UserCmd,\r\n            tick,\r\n            rawData: messageStream,\r\n            sequenceOut\r\n        };\r\n    },\r\n    encodeMessage: (message, stream) => {\r\n        throw new Error('not implemented');\r\n    }\r\n};\r\n//# sourceMappingURL=UserCmd.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar PlayerCondition;\r\n(function (PlayerCondition) {\r\n    PlayerCondition[PlayerCondition[\"TF_COND_AIMIN\"] = 1] = \"TF_COND_AIMIN\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_ZOOMED\"] = 2] = \"TF_COND_ZOOMED\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_DISGUISING\"] = 4] = \"TF_COND_DISGUISING\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_DISGUISED\"] = 8] = \"TF_COND_DISGUISED\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_STEALTHED\"] = 16] = \"TF_COND_STEALTHED\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_INVULNERABL\"] = 32] = \"TF_COND_INVULNERABL\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_TELEPORTED\"] = 64] = \"TF_COND_TELEPORTED\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_TAUNTING\"] = 128] = \"TF_COND_TAUNTING\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_INVULNERABLE_WEARINGOFF\"] = 256] = \"TF_COND_INVULNERABLE_WEARINGOFF\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_STEALTHED_BLIN\"] = 512] = \"TF_COND_STEALTHED_BLIN\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_SELECTED_TO_TELEPOR\"] = 1024] = \"TF_COND_SELECTED_TO_TELEPOR\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_CRITBOOSTED\"] = 2048] = \"TF_COND_CRITBOOSTED\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_TMPDAMAGEBONUS\"] = 4096] = \"TF_COND_TMPDAMAGEBONUS\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_FEIGN_DEATH\"] = 8192] = \"TF_COND_FEIGN_DEATH\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_PHAS\"] = 16384] = \"TF_COND_PHAS\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_STUNNED\"] = 32768] = \"TF_COND_STUNNED\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_OFFENSEBUF\"] = 65536] = \"TF_COND_OFFENSEBUF\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_SHIELD_CHARG\"] = 131072] = \"TF_COND_SHIELD_CHARG\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_DEMO_BUF\"] = 262144] = \"TF_COND_DEMO_BUF\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_ENERGY_BUF\"] = 524288] = \"TF_COND_ENERGY_BUF\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_RADIUSHEA\"] = 1048576] = \"TF_COND_RADIUSHEA\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_HEALTH_BUF\"] = 2097152] = \"TF_COND_HEALTH_BUF\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_BURNING\"] = 4194304] = \"TF_COND_BURNING\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_HEALTH_OVERHEALE\"] = 8388608] = \"TF_COND_HEALTH_OVERHEALE\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_URINE\"] = 16777216] = \"TF_COND_URINE\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_BLEEDING\"] = 33554432] = \"TF_COND_BLEEDING\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_DEFENSEBUFF\"] = 67108864] = \"TF_COND_DEFENSEBUFF\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_MAD_MILK\"] = 134217728] = \"TF_COND_MAD_MILK\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_MEGAHEAL\"] = 268435456] = \"TF_COND_MEGAHEAL\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_REGENONDAMAGEBUF\"] = 536870912] = \"TF_COND_REGENONDAMAGEBUF\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_MARKEDFORDEATH\"] = 1073741824] = \"TF_COND_MARKEDFORDEATH\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_NOHEALINGDAMAGEBUF\"] = -2147483648] = \"TF_COND_NOHEALINGDAMAGEBUF\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_SPEED_BOOST\"] = 1] = \"TF_COND_SPEED_BOOST\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_CRITBOOSTED_PUMPKIN\"] = 2] = \"TF_COND_CRITBOOSTED_PUMPKIN\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_CRITBOOSTED_USER_BUFF\"] = 4] = \"TF_COND_CRITBOOSTED_USER_BUFF\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_CRITBOOSTED_DEMO_CHARGE\"] = 8] = \"TF_COND_CRITBOOSTED_DEMO_CHARGE\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_CRITBOOSTED_HYPE\"] = 16] = \"TF_COND_CRITBOOSTED_HYPE\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_CRITBOOSTED_FIRST_BLOOD\"] = 32] = \"TF_COND_CRITBOOSTED_FIRST_BLOOD\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_CRITBOOSTED_BONUS_TIME\"] = 64] = \"TF_COND_CRITBOOSTED_BONUS_TIME\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_CRITBOOSTED_CTF_CAPTURE\"] = 128] = \"TF_COND_CRITBOOSTED_CTF_CAPTURE\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_CRITBOOSTED_ON_KILL\"] = 256] = \"TF_COND_CRITBOOSTED_ON_KILL\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_CANNOT_SWITCH_FROM_MELEE\"] = 512] = \"TF_COND_CANNOT_SWITCH_FROM_MELEE\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_DEFENSEBUFF_NO_CRIT_BLOCK\"] = 1024] = \"TF_COND_DEFENSEBUFF_NO_CRIT_BLOCK\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_REPROGRAMME\"] = 2048] = \"TF_COND_REPROGRAMME\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_CRITBOOSTED_RAGE_BUF\"] = 4096] = \"TF_COND_CRITBOOSTED_RAGE_BUF\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_DEFENSEBUFF_HIG\"] = 8192] = \"TF_COND_DEFENSEBUFF_HIG\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_SNIPERCHARGE_RAGE_BUFF\"] = 16384] = \"TF_COND_SNIPERCHARGE_RAGE_BUFF\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_DISGUISE_WEARINGOF\"] = 32768] = \"TF_COND_DISGUISE_WEARINGOF\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_MARKEDFORDEATH_SILENT\"] = 65536] = \"TF_COND_MARKEDFORDEATH_SILENT\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_DISGUISED_AS_DISPENSE\"] = 131072] = \"TF_COND_DISGUISED_AS_DISPENSE\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_SAPPED\"] = 262144] = \"TF_COND_SAPPED\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_INVULNERABLE_HIDE_UNLESS_DAMAGE\"] = 524288] = \"TF_COND_INVULNERABLE_HIDE_UNLESS_DAMAGE\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_INVULNERABLE_USER_BUF\"] = 1048576] = \"TF_COND_INVULNERABLE_USER_BUF\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_HALLOWEEN_BOMB_HEAD\"] = 2097152] = \"TF_COND_HALLOWEEN_BOMB_HEAD\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_HALLOWEEN_THRILLER\"] = 4194304] = \"TF_COND_HALLOWEEN_THRILLER\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_RADIUSHEAL_ON_DAMAGE\"] = 8388608] = \"TF_COND_RADIUSHEAL_ON_DAMAGE\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_CRITBOOSTED_CARD_EFFECT\"] = 16777216] = \"TF_COND_CRITBOOSTED_CARD_EFFECT\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_INVULNERABLE_CARD_EFFECT\"] = 33554432] = \"TF_COND_INVULNERABLE_CARD_EFFECT\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_MEDIGUN_UBER_BULLET_RESIST\"] = 67108864] = \"TF_COND_MEDIGUN_UBER_BULLET_RESIST\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_MEDIGUN_UBER_BLAST_RESIST\"] = 134217728] = \"TF_COND_MEDIGUN_UBER_BLAST_RESIST\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_MEDIGUN_UBER_FIRE_RESIST\"] = 268435456] = \"TF_COND_MEDIGUN_UBER_FIRE_RESIST\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_MEDIGUN_SMALL_BULLET_RESIST\"] = 536870912] = \"TF_COND_MEDIGUN_SMALL_BULLET_RESIST\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_MEDIGUN_SMALL_BLAST_RESIST\"] = 1073741824] = \"TF_COND_MEDIGUN_SMALL_BLAST_RESIST\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_MEDIGUN_SMALL_FIRE_RESIST\"] = -2147483648] = \"TF_COND_MEDIGUN_SMALL_FIRE_RESIST\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_STEALTHED_USER_BUF\"] = 1] = \"TF_COND_STEALTHED_USER_BUF\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_MEDIGUN_DEBUF\"] = 2] = \"TF_COND_MEDIGUN_DEBUF\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_STEALTHED_USER_BUFF_FADING\"] = 4] = \"TF_COND_STEALTHED_USER_BUFF_FADING\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_BULLET_IMMUNE\"] = 8] = \"TF_COND_BULLET_IMMUNE\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_BLAST_IMMUNE\"] = 16] = \"TF_COND_BLAST_IMMUNE\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_FIRE_IMMUNE\"] = 32] = \"TF_COND_FIRE_IMMUNE\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_PREVENT_DEATH\"] = 64] = \"TF_COND_PREVENT_DEATH\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_MVM_BOT_STUN_RADIOWAVE\"] = 128] = \"TF_COND_MVM_BOT_STUN_RADIOWAVE\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_HALLOWEEN_SPEED_BOOST\"] = 256] = \"TF_COND_HALLOWEEN_SPEED_BOOST\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_HALLOWEEN_QUICK_HEAL\"] = 512] = \"TF_COND_HALLOWEEN_QUICK_HEAL\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_HALLOWEEN_GIANT\"] = 1024] = \"TF_COND_HALLOWEEN_GIANT\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_HALLOWEEN_TINY\"] = 2048] = \"TF_COND_HALLOWEEN_TINY\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_HALLOWEEN_IN_HELL\"] = 4096] = \"TF_COND_HALLOWEEN_IN_HELL\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_HALLOWEEN_GHOST_MODE\"] = 8192] = \"TF_COND_HALLOWEEN_GHOST_MODE\";\r\n    PlayerCondition[PlayerCondition[\"TF_COND_MINICRITBOOSTED_ON_KILL\"] = 16384] = \"TF_COND_MINICRITBOOSTED_ON_KILL\";\r\n})(PlayerCondition = exports.PlayerCondition || (exports.PlayerCondition = {}));\r\n//# sourceMappingURL=PlayerCondition.js.map","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","const overWriteMapBoundaries: any = {\r\n  pl_badwater_pro_v9: {\r\n    boundaryMin: {\r\n      x: -2427,\r\n      y: -3340,\r\n    },\r\n    boundaryMax: {\r\n      x: 3785,\r\n      y: 2922,\r\n    },\r\n  },\r\n  cp_gullywash_final1: {\r\n    boundaryMin: {\r\n      x: -4050,\r\n      y: -2950,\r\n    },\r\n    boundaryMax: {\r\n      x: 5432,\r\n      y: 2260,\r\n    },\r\n  },\r\n  cp_process_final: {\r\n    boundaryMin: {\r\n      x: -5222,\r\n      y: -3146,\r\n    },\r\n    boundaryMax: {\r\n      x: 5216,\r\n      y: 3128,\r\n    },\r\n  },\r\n  cp_badlands: {\r\n    boundaryMin: {\r\n      x: -4285,\r\n      y: -4898,\r\n    },\r\n    boundaryMax: {\r\n      x: 2577,\r\n      y: 4858,\r\n    },\r\n  },\r\n  pl_upward: {\r\n    boundaryMin: {\r\n      x: -2653,\r\n      y: -4344,\r\n    },\r\n    boundaryMax: {\r\n      x: 3097,\r\n      y: 2180,\r\n    },\r\n  },\r\n  koth_product_rc8: {\r\n    boundaryMin: {\r\n      x: -2859,\r\n      y: -3668,\r\n    },\r\n    boundaryMax: {\r\n      x: -171,\r\n      y: 3776,\r\n    },\r\n  },\r\n  cp_snakewater_final1: {\r\n    boundaryMin: {\r\n      x: -5671,\r\n      y: -2649,\r\n    },\r\n    boundaryMax: {\r\n      x: 6687,\r\n      y: 2961,\r\n    },\r\n  },\r\n  ultiduo_baloo_v2: {\r\n    boundaryMin: {\r\n      x: -1678,\r\n      y: -1964,\r\n    },\r\n    boundaryMax: {\r\n      x: 1678,\r\n      y: 1964,\r\n    },\r\n  },\r\n  cp_sunshine: {\r\n    boundaryMin: {\r\n      x: -8798,\r\n      y: 173,\r\n    },\r\n    boundaryMax: {\r\n      x: -2502,\r\n      y: 10279,\r\n    },\r\n  },\r\n  cp_metalworks_rc7: {\r\n    boundaryMin: {\r\n      x: -3034,\r\n      y: -6699,\r\n    },\r\n    boundaryMax: {\r\n      x: 3374,\r\n      y: 4939,\r\n    },\r\n  },  \r\n  cp_metalworks_f5: {\r\n    boundaryMin: {\r\n      x: -3034,\r\n      y: -6699,\r\n    },\r\n    boundaryMax: {\r\n      x: 3374,\r\n      y: 4939,\r\n    },\r\n  },\r\n  cp_steel: {\r\n    boundaryMin: {\r\n      x: -2406,\r\n      y: -3422,\r\n    },\r\n    boundaryMax: {\r\n      x: 2924,\r\n      y: 2684,\r\n    },\r\n  },\r\n  koth_lakeside_final: {\r\n    boundaryMin: {\r\n      x: -4617,\r\n      y: -2160,\r\n    },\r\n    boundaryMax: {\r\n      x: 4491,\r\n      y: 1114,\r\n    },\r\n  },\r\n  cp_granary_pro_b10: {\r\n    boundaryMin: {\r\n      x: -3069,\r\n      y: -6539,\r\n    },\r\n    boundaryMax: {\r\n      x: 7,\r\n      y: 6263,\r\n    },\r\n  },\r\n  koth_ashville_rc1: {\r\n    boundaryMin: {\r\n      x: -1423,\r\n      y: -3920,\r\n    },\r\n    boundaryMax: {\r\n      x: 1501,\r\n      y: 3890,\r\n    },\r\n  },\r\n  cp_reckoner_b3a: {\r\n    boundaryMin: {\r\n      x: -3800,\r\n      y: -4921,\r\n    },\r\n    boundaryMax: {\r\n      x: 3794,\r\n      y: 4879,\r\n    },\r\n  },\r\n  pl_borneo: {\r\n    boundaryMin: {\r\n      x: -3470,\r\n      y: -8160,\r\n    },\r\n    boundaryMax: {\r\n      x: 3168,\r\n      y: 3786,\r\n    },\r\n  },\r\n  pl_swiftwater_final1: {\r\n    boundaryMin: {\r\n      x: 408,\r\n      y: -6128,\r\n    },\r\n    boundaryMax: {\r\n      x: 6296,\r\n      y: 2624,\r\n    },\r\n  },\r\n  ultiduo_grove_b2: {\r\n    boundaryMin: {\r\n      x: -2099,\r\n      y: -1793,\r\n    },\r\n    boundaryMax: {\r\n      x: 2099,\r\n      y: 1793,\r\n    },\r\n  },\r\n  pl_vigil_b2: {\r\n    boundaryMin: {\r\n      x: -1019,\r\n      y: -2070,\r\n    },\r\n    boundaryMax: {\r\n      x: 4875,\r\n      y: 4784,\r\n    },\r\n  },\r\n  koth_bagel_rc4: {\r\n    boundaryMin: {\r\n      x: -4286,\r\n      y: -1234,\r\n    },\r\n    boundaryMax: {\r\n      x: 4196,\r\n      y: 1150,\r\n    },\r\n  },\r\n  ctf_ballin_sky: {\r\n    boundaryMin: {\r\n      x: -1024,\r\n      y: -1504,\r\n    },\r\n    boundaryMax: {\r\n      x: 1024,\r\n      y: 1504,\r\n    },\r\n  },\r\n  koth_ultiduo_r_b7: {\r\n    boundaryMin: {\r\n      x: -1337,\r\n      y: -1313,\r\n    },\r\n    boundaryMax: {\r\n      x: 1337,\r\n      y: 1313,\r\n    },\r\n  },\r\n  koth_warmtic_rc4: {\r\n    boundaryMin: {\r\n      x: -1337,\r\n      y: -4437,\r\n    },\r\n    boundaryMax: {\r\n      x: 2099,\r\n      y: 4547,\r\n    },\r\n  },\r\n  cp_alloy_rc2a: {\r\n    boundaryMin: {\r\n      x: -4271,\r\n      y: -3262,\r\n    },\r\n    boundaryMax: {\r\n      x: 1801,\r\n      y: 5492,\r\n    },\r\n  },\r\n  pl_millstone_ugc_7: {\r\n    boundaryMin: {\r\n      x: -3349,\r\n      y: -1776,\r\n    },\r\n    boundaryMax: {\r\n      x: 2709,\r\n      y: 4840,\r\n    },\r\n  },\r\n  cp_vanguard: {\r\n    boundaryMin: {\r\n      x: -5585,\r\n      y: -1896,\r\n    },\r\n    boundaryMax: {\r\n      x: 5585,\r\n      y: 1896,\r\n    },\r\n  },\r\n  koth_cascade_b6: {\r\n    boundaryMin: {\r\n      x: -1682,\r\n      y: -3807,\r\n    },\r\n    boundaryMax: {\r\n      x: 1714,\r\n      y: 3735,\r\n    },\r\n  },\r\n  koth_coalplant_b8: {\r\n    boundaryMin: {\r\n      x: -1513,\r\n      y: -4089,\r\n    },\r\n    boundaryMax: {\r\n      x: 1527,\r\n      y: 4083,\r\n    },\r\n  },\r\n  koth_ramjam_rc1: {\r\n    boundaryMin: {\r\n      x: -3464,\r\n      y: -1865,\r\n    },\r\n    boundaryMax: {\r\n      x: 3464,\r\n      y: 1851,\r\n    },\r\n  },\r\n  dm_airfusion_final: {\r\n    boundaryMin: {\r\n      x: -855,\r\n      y: -2533,\r\n    },\r\n    boundaryMax: {\r\n      x: 2315,\r\n      y: 337,\r\n    },\r\n  },\r\n  dm_biohazard_cal: {\r\n    boundaryMin: {\r\n      x: 422,\r\n      y: 366,\r\n    },\r\n    boundaryMax: {\r\n      x: 2486,\r\n      y: 1942,\r\n    },\r\n  },\r\n  dm_caverns_r1: {\r\n    boundaryMin: {\r\n      x: -1979,\r\n      y: -1476,\r\n    },\r\n    boundaryMax: {\r\n      x: 1091,\r\n      y: 1884,\r\n    },\r\n  },\r\n  dm_ethic: {\r\n    boundaryMin: {\r\n      x: -1549,\r\n      y: -1537,\r\n    },\r\n    boundaryMax: {\r\n      x: 273,\r\n      y: -19,\r\n    },\r\n  },\r\n  dm_killbox_kbh_2p: {\r\n    boundaryMin: {\r\n      x: -1510,\r\n      y: -1017,\r\n    },\r\n    boundaryMax: {\r\n      x: 1010,\r\n      y: 1017,\r\n    },\r\n  },\r\n  dm_lockdown_r6: {\r\n    boundaryMin: {\r\n      x: -4670,\r\n      y: 1257,\r\n    },\r\n    boundaryMax: {\r\n      x: -2382,\r\n      y: 6343,\r\n    },\r\n  },\r\n  dm_lostarena: {\r\n    boundaryMin: {\r\n      x: -867,\r\n      y: -1421,\r\n    },\r\n    boundaryMax: {\r\n      x: 1277,\r\n      y: 1041,\r\n    },\r\n  },\r\n  dm_lostvillage_v3: {\r\n    boundaryMin: {\r\n      x: -513,\r\n      y: -1830,\r\n    },\r\n    boundaryMax: {\r\n      x: 2163,\r\n      y: 2000,\r\n    },\r\n  },\r\n  dm_tigcrik_r2: {\r\n    boundaryMin: {\r\n      x: -1608,\r\n      y: -402,\r\n    },\r\n    boundaryMax: {\r\n      x: 264,\r\n      y: 1268,\r\n    },\r\n  },\r\n  cp_kalinka: {\r\n    boundaryMin: {\r\n      x: -4117,\r\n      y: -5036,\r\n    },\r\n    boundaryMax: {\r\n      x: 4117,\r\n      y: 4740,\r\n    },\r\n  },\r\n  cp_cardinal: {\r\n    boundaryMin: {\r\n      x: -6716,\r\n      y: -1782,\r\n    },\r\n    boundaryMax: {\r\n      x: 6716,\r\n      y: 1782,\r\n    },\r\n  },\r\n  koth_airfield: {\r\n    boundaryMin: {\r\n      x: -3102,\r\n      y: -2094,\r\n    },\r\n    boundaryMax: {\r\n      x: 3102,\r\n      y: 2094,\r\n    },\r\n  },\r\n}\r\n\r\noverWriteMapBoundaries['koth_viaduct'] = overWriteMapBoundaries['koth_product_rcx']\r\noverWriteMapBoundaries['koth_viaduct'] = overWriteMapBoundaries['koth_product_rc8']\r\noverWriteMapBoundaries['cp_prolands'] = overWriteMapBoundaries['cp_badlands']\r\n\r\nconst mapAliases = new Map<string, string>([['cp_prolands', 'cp_badlands']])\r\n\r\nfunction getMapBasename(map: string): string {\r\n  if (overWriteMapBoundaries[map]) {\r\n    return map\r\n  }\r\n  const trimMapName = (map: string) => {\r\n    while (map.lastIndexOf('_') > map.indexOf('_')) {\r\n      map = map.substr(0, map.lastIndexOf('_'))\r\n    }\r\n    return map\r\n  }\r\n  const trimmed = trimMapName(map)\r\n  if (overWriteMapBoundaries[trimmed]) {\r\n    return trimmed\r\n  }\r\n  for (const existingMap of Object.keys(overWriteMapBoundaries)) {\r\n    if (trimMapName(existingMap) === map) {\r\n      return existingMap\r\n    }\r\n  }\r\n  for (const existingMap of Object.keys(overWriteMapBoundaries)) {\r\n    if (trimMapName(existingMap) === trimmed) {\r\n      return existingMap\r\n    }\r\n  }\r\n  return map\r\n}\r\n\r\nexport function findMapAlias(map: string): string {\r\n  const baseName = getMapBasename(map)\r\n  const alias = mapAliases.get(baseName)\r\n  return alias ? alias : baseName\r\n}\r\n\r\nexport interface MapBoundries {\r\n  boundaryMin: {\r\n    x: number\r\n    y: number\r\n  }\r\n  boundaryMax: {\r\n    x: number\r\n    y: number\r\n  }\r\n}\r\n\r\nexport function getMapBoundaries(map: string): MapBoundries | null {\r\n  const mapAlias = findMapAlias(map)\r\n  return overWriteMapBoundaries[mapAlias]\r\n}\r\n","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import getPrototypeOf from \"./getPrototypeOf\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  return function () {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (isNativeReflectConstruct()) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","export type DataArray = Uint32Array | Uint8Array | Uint16Array\r\n\r\nexport class DataCache {\r\n  data: DataArray[] = []\r\n  bitWidth: number\r\n  tickCount: number\r\n  valuesPerPlayer: number\r\n\r\n  constructor(tickCount: number, valuesPerPlayer: number, bitWidth: number) {\r\n    this.tickCount = tickCount\r\n    this.valuesPerPlayer = valuesPerPlayer\r\n    this.bitWidth = bitWidth\r\n  }\r\n\r\n  protected makeArray(): DataArray {\r\n    switch (this.bitWidth) {\r\n      case 8:\r\n        return new Uint16Array(this.length)\r\n      case 16:\r\n        return new Uint16Array(this.length)\r\n      case 32:\r\n        return new Uint32Array(this.length)\r\n      default:\r\n        throw new Error('invalid bit width for cache')\r\n    }\r\n  }\r\n\r\n  protected getPlayerData(playerId: number, make: boolean = true) {\r\n    if (!this.data[playerId]) {\r\n      if (!make) {\r\n        return null\r\n      }\r\n      this.data[playerId] = this.makeArray()\r\n    }\r\n    return this.data[playerId]\r\n  }\r\n\r\n  get length() {\r\n    return this.valuesPerPlayer * this.tickCount\r\n  }\r\n\r\n  protected getOffset(tick: number, offset: number) {\r\n    return tick * this.valuesPerPlayer + offset\r\n  }\r\n\r\n  get(playerId: number, tick: number, offset: number = 0): number {\r\n    const data = this.getPlayerData(playerId, false)\r\n    if (!data) {\r\n      return 0\r\n    }\r\n    return data[this.getOffset(tick, offset)]\r\n  }\r\n\r\n  getOrNull(playerId: number, tick: number, offset: number = 0): number | null {\r\n    const data = this.getPlayerData(playerId, false)\r\n    if (!data) {\r\n      return null\r\n    }\r\n    return data[this.getOffset(tick, offset)]\r\n  }\r\n\r\n  set(playerId: number, tick: number, value: number, offset: number = 0) {\r\n    const data = this.getPlayerData(playerId) as DataArray\r\n    data[this.getOffset(tick, offset)] = value\r\n  }\r\n\r\n  static rehydrate(data: DataCache) {\r\n    Object.setPrototypeOf(data, DataCache.prototype)\r\n  }\r\n}\r\n","import { Vector } from '@bryjch/demo.js/build'\r\nimport { DataCache } from './DataCache'\r\n\r\nexport interface MapBoundary {\r\n  boundaryMin: Vector\r\n  boundaryMax: Vector\r\n}\r\n\r\nexport class PositionCache extends DataCache {\r\n  offset: Vector\r\n\r\n  constructor(tickCount: number, offset: Vector) {\r\n    super(tickCount, 3, 32)\r\n    this.offset = offset\r\n  }\r\n\r\n  getPosition(playerId: number, tick: number): Vector {\r\n    return {\r\n      x: this.get(playerId, tick, 0),\r\n      y: this.get(playerId, tick, 1),\r\n      z: this.get(playerId, tick, 2),\r\n    }\r\n  }\r\n\r\n  setPosition(playerId: number, tick: number, position: Vector) {\r\n    this.set(playerId, tick, position.x - this.offset.x, 0)\r\n    this.set(playerId, tick, position.y - this.offset.y, 1)\r\n    this.set(playerId, tick, position.z - this.offset.z, 2)\r\n  }\r\n\r\n  static rehydrate(data: PositionCache) {\r\n    Object.setPrototypeOf(data, PositionCache.prototype)\r\n  }\r\n}\r\n","import { Vector } from '@bryjch/demo.js/build'\r\nimport { DataCache } from './DataCache'\r\n\r\nexport class ViewAnglesCache extends DataCache {\r\n  constructor(tickCount: number) {\r\n    super(tickCount, 3, 32)\r\n  }\r\n\r\n  getAngles(playerId: number, tick: number): Vector {\r\n    return {\r\n      x: this.get(playerId, tick, 0) << 32, // bitshift to handle negative values\r\n      y: this.get(playerId, tick, 1) << 32, // bitshift to handle negative values\r\n      z: this.get(playerId, tick, 2),\r\n    }\r\n  }\r\n\r\n  setAngles(playerId: number, tick: number, angles: Vector) {\r\n    this.set(playerId, tick, angles.x, 0)\r\n    this.set(playerId, tick, angles.y, 1)\r\n    this.set(playerId, tick, angles.z, 2)\r\n  }\r\n\r\n  static rehydrate(data: ViewAnglesCache) {\r\n    Object.setPrototypeOf(data, ViewAnglesCache.prototype)\r\n  }\r\n}\r\n","import superPropBase from \"./superPropBase\";\nexport default function _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}","import getPrototypeOf from \"./getPrototypeOf\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import { DataCache } from './DataCache'\r\n\r\nexport class SparseDataCache extends DataCache {\r\n  sparse: number\r\n\r\n  constructor(tickCount: number, valuesPerPlayer: number, bitWidth: number, sparse: number) {\r\n    super(tickCount >> sparse, valuesPerPlayer, bitWidth)\r\n    this.sparse = sparse\r\n  }\r\n\r\n  protected getOffset(tick: number, offset: number) {\r\n    return (tick >> this.sparse) * this.valuesPerPlayer + offset\r\n  }\r\n\r\n  static rehydrate(data: SparseDataCache) {\r\n    Object.setPrototypeOf(data, SparseDataCache.prototype)\r\n  }\r\n}\r\n","export enum LifeState {\r\n  ALIVE = 0,\r\n  DYING = 1,\r\n  DEATH = 2,\r\n  RESPAWNABLE = 3,\r\n}\r\n","import { SparseDataCache } from './SparseDataCache'\r\n\r\nexport interface PlayerMeta {\r\n  classId: number\r\n  teamId: number\r\n}\r\n\r\nexport class PlayerMetaCache extends SparseDataCache {\r\n  constructor(tickCount: number) {\r\n    super(tickCount, 1, 8, 6)\r\n  }\r\n\r\n  getMeta(playerId: number, tick: number): PlayerMeta {\r\n    const data = super.get(playerId, tick)\r\n    return {\r\n      classId: data & 0x0f,\r\n      teamId: (data & 0xf0) >> 4,\r\n    }\r\n  }\r\n\r\n  setMeta(playerId: number, tick: number, meta: PlayerMeta) {\r\n    super.set(playerId, tick, meta.classId | (meta.teamId << 4))\r\n  }\r\n\r\n  static rehydrate(data: PlayerMetaCache) {\r\n    Object.setPrototypeOf(data, PlayerMetaCache.prototype)\r\n  }\r\n}\r\n","import { SparseDataCache } from './SparseDataCache'\r\n\r\nexport class HealthCache extends SparseDataCache {\r\n  constructor(tickCount: number) {\r\n    super(tickCount, 1, 16, 2)\r\n  }\r\n\r\n  static rehydrate(data: HealthCache) {\r\n    Object.setPrototypeOf(data, HealthCache.prototype)\r\n  }\r\n}\r\n","import { Player, UserInfo, Vector } from '@bryjch/demo.js/build'\r\nimport { PlayerResource } from '@bryjch/demo.js/build/Data/PlayerResource'\r\nimport { CWeaponMedigun } from '@bryjch/demo.js/build/Data/Weapon'\r\n\r\nimport { PositionCache } from './PositionCache'\r\nimport { ViewAnglesCache } from './ViewAnglesCache'\r\nimport { PlayerMetaCache } from './PlayerMetaCache'\r\nimport { HealthCache } from './HealthCache'\r\nimport { SparseDataCache } from './SparseDataCache'\r\nimport { LifeState } from './Enums'\r\n\r\nexport class CachedPlayer {\r\n  position: Vector\r\n  viewAngles: Vector\r\n  user: UserInfo\r\n  health: number\r\n  teamId: number\r\n  classId: number\r\n  team: string\r\n  connected: number\r\n  chargeLevel: number | null\r\n  healTarget: number | null\r\n}\r\n\r\nexport class PlayerCache {\r\n  tickCount: number\r\n  positionCache: PositionCache\r\n  healthCache: HealthCache\r\n  metaCache: PlayerMetaCache\r\n  viewAnglesCache: ViewAnglesCache\r\n  uberCache: SparseDataCache\r\n  healTargetCache: SparseDataCache\r\n  connectedCache: SparseDataCache\r\n\r\n  constructor(tickCount: number, positionOffset: Vector) {\r\n    this.tickCount = tickCount\r\n    this.positionCache = new PositionCache(tickCount, positionOffset)\r\n    this.healthCache = new HealthCache(tickCount)\r\n    this.metaCache = new PlayerMetaCache(tickCount)\r\n    this.viewAnglesCache = new ViewAnglesCache(tickCount)\r\n    this.uberCache = new SparseDataCache(tickCount, 1, 8, 4)\r\n    this.healTargetCache = new SparseDataCache(tickCount, 1, 8, 4)\r\n    this.connectedCache = new SparseDataCache(tickCount, 1, 8, 4)\r\n  }\r\n\r\n  setPlayer(tick: number, playerId: number, player: Player, playerResource: PlayerResource) {\r\n    this.positionCache.setPosition(playerId, tick, player.position)\r\n    this.viewAnglesCache.setAngles(playerId, tick, player.viewAngles)\r\n    this.healthCache.set(playerId, tick, player.lifeState === LifeState.ALIVE ? player.health : 0)\r\n    this.metaCache.setMeta(playerId, tick, { classId: player.classId, teamId: player.team })\r\n    this.connectedCache.set(playerId, tick, playerResource.connected ? 1 : 0)\r\n\r\n    // additional data for medics\r\n    if (playerResource.chargeLevel > 0) {\r\n      this.uberCache.set(playerId, tick, playerResource.chargeLevel)\r\n\r\n      let healTarget\r\n      try {\r\n        healTarget = (player.weapons.find(\r\n          ({ className }) => className === 'CWeaponMedigun'\r\n        ) as CWeaponMedigun).healTarget\r\n      } catch (error) {\r\n        healTarget = 0\r\n      }\r\n      this.healTargetCache.set(playerId, tick, healTarget)\r\n    }\r\n  }\r\n\r\n  getPlayer(tick: number, playerId: number, user: UserInfo): CachedPlayer {\r\n    const meta = this.metaCache.getMeta(playerId, tick)\r\n    const team = meta.teamId === 2 ? 'red' : meta.teamId === 3 ? 'blue' : ''\r\n    return {\r\n      position: this.positionCache.getPosition(playerId, tick),\r\n      viewAngles: this.viewAnglesCache.getAngles(playerId, tick),\r\n      user: user,\r\n      health: this.healthCache.get(playerId, tick),\r\n      teamId: meta.teamId,\r\n      classId: meta.classId,\r\n      team: team,\r\n      connected: this.connectedCache.get(playerId, tick),\r\n      chargeLevel: this.uberCache.getOrNull(playerId, tick),\r\n      healTarget: this.healTargetCache.getOrNull(playerId, tick),\r\n    }\r\n  }\r\n\r\n  static rehydrate(data: PlayerCache) {\r\n    PositionCache.rehydrate(data.positionCache)\r\n    ViewAnglesCache.rehydrate(data.viewAnglesCache)\r\n    HealthCache.rehydrate(data.healthCache)\r\n    PlayerMetaCache.rehydrate(data.metaCache)\r\n    SparseDataCache.rehydrate(data.uberCache)\r\n    SparseDataCache.rehydrate(data.healTargetCache)\r\n    SparseDataCache.rehydrate(data.connectedCache)\r\n\r\n    Object.setPrototypeOf(data, PlayerCache.prototype)\r\n  }\r\n}\r\n","import { Vector } from '@bryjch/demo.js/build'\r\nimport { Building } from '@bryjch/demo.js/build/Data/Building'\r\n\r\nimport { SparseDataCache } from './SparseDataCache'\r\n\r\nexport interface CachedBuilding {\r\n  type: number\r\n  health: number\r\n  position: Vector\r\n  level: number\r\n  team: number\r\n  angle: number\r\n}\r\n\r\nexport class BuildingCache {\r\n  positionCache: SparseDataCache\r\n  healthCache: SparseDataCache\r\n  levelCache: SparseDataCache\r\n  engineers: number = 0\r\n  playerIndexMap: { [playerId: string]: number } = {}\r\n  positionOffset: Vector\r\n  angleCache: SparseDataCache\r\n\r\n  constructor(tickCount: number, positionOffset: Vector) {\r\n    this.positionCache = new SparseDataCache(tickCount, 2, 16, 6)\r\n    this.healthCache = new SparseDataCache(tickCount, 1, 16, 2)\r\n    this.levelCache = new SparseDataCache(tickCount, 1, 8, 6)\r\n    this.positionOffset = positionOffset\r\n    this.angleCache = new SparseDataCache(tickCount, 1, 16, 1)\r\n  }\r\n\r\n  private getBuildingIndex(building: Building, playerId: number): number {\r\n    const base = this.playerIndexMap[playerId] * 4\r\n    switch (building.type) {\r\n      case 'sentry':\r\n        return base\r\n      case 'dispenser':\r\n        return base + 1\r\n      case 'teleporter':\r\n        return base + (building.isEntrance ? 2 : 3)\r\n    }\r\n  }\r\n\r\n  setBuilding(tick: number, building: Building, playerId: number, team: number) {\r\n    if (!this.playerIndexMap[playerId]) {\r\n      this.playerIndexMap[playerId] = this.engineers\r\n      this.engineers++\r\n    }\r\n    const index = this.getBuildingIndex(building, playerId)\r\n    this.positionCache.set(index, tick, building.position.x - this.positionOffset.x, 0)\r\n    this.positionCache.set(index, tick, building.position.y - this.positionOffset.y, 1)\r\n    this.healthCache.set(index, tick, building.health)\r\n    this.levelCache.set(index, tick, building.level + (team << 3))\r\n    if (building.type === 'teleporter' && building.yawToExit) {\r\n      this.angleCache.set(index, tick, building.angle - building.yawToExit + 180)\r\n    } else if (building.type === 'sentry') {\r\n      this.angleCache.set(index, tick, building.angle)\r\n    }\r\n  }\r\n\r\n  getBuilding(tick: number, index: number): CachedBuilding | null {\r\n    if (this.healthCache.get(index, tick) === 0) {\r\n      return null\r\n    }\r\n    const levelData = this.levelCache.get(index, tick)\r\n    return {\r\n      type: index % 4,\r\n      health: this.healthCache.get(index, tick),\r\n      level: levelData & 0x7,\r\n      position: {\r\n        x: this.positionCache.get(index, tick, 0),\r\n        y: this.positionCache.get(index, tick, 1),\r\n        z: this.positionCache.get(index, tick, 2),\r\n      },\r\n      team: levelData >> 3,\r\n      angle: this.angleCache.get(index, tick),\r\n    }\r\n  }\r\n\r\n  getBuildings(tick: number): CachedBuilding[] {\r\n    let buildings: CachedBuilding[] = []\r\n    for (let p = 0; p < this.engineers; p++) {\r\n      for (let i = 0; i < 4; i++) {\r\n        const building = this.getBuilding(tick, p * 4 + i)\r\n        if (building) {\r\n          buildings.push(building)\r\n        }\r\n      }\r\n    }\r\n    return buildings\r\n  }\r\n\r\n  static rehydrate(data: BuildingCache) {\r\n    SparseDataCache.rehydrate(data.positionCache)\r\n    SparseDataCache.rehydrate(data.healthCache)\r\n    SparseDataCache.rehydrate(data.levelCache)\r\n    SparseDataCache.rehydrate(data.angleCache)\r\n\r\n    Object.setPrototypeOf(data, BuildingCache.prototype)\r\n  }\r\n}\r\n","import { Vector } from '@bryjch/demo.js/build'\r\nimport { DataCache } from './DataCache'\r\n\r\nexport class VectorCache extends DataCache {\r\n  offset: Vector\r\n\r\n  constructor(tickCount: number, offset: Vector = { x: 0, y: 0, z: 0 }) {\r\n    super(tickCount, 3, 32)\r\n    this.offset = offset\r\n  }\r\n\r\n  getVector(playerId: number, tick: number): Vector {\r\n    return {\r\n      x: this.get(playerId, tick, 0),\r\n      y: this.get(playerId, tick, 1),\r\n      z: this.get(playerId, tick, 2),\r\n    }\r\n  }\r\n\r\n  setVector(playerId: number, tick: number, vector: Vector) {\r\n    this.set(playerId, tick, vector.x - this.offset.x, 0)\r\n    this.set(playerId, tick, vector.y - this.offset.y, 1)\r\n    this.set(playerId, tick, vector.z - this.offset.z, 2)\r\n  }\r\n\r\n  static rehydrate(data: VectorCache) {\r\n    Object.setPrototypeOf(data, VectorCache.prototype)\r\n  }\r\n}\r\n","import { Vector } from '@bryjch/demo.js/build'\r\nimport { Projectile, ProjectileTypeMap } from '@bryjch/demo.js/build/Data/Projectile'\r\n\r\nimport { SparseDataCache } from './SparseDataCache'\r\nimport { VectorCache } from './VectorCache'\r\n\r\nexport interface CachedProjectile {\r\n  entityId: number\r\n  type: string\r\n  position: Vector\r\n  rotation: Vector\r\n  teamNumber: number\r\n}\r\n\r\nexport class ProjectileCache {\r\n  positionCache: VectorCache\r\n  rotationCache: VectorCache\r\n  teamNumberCache: SparseDataCache\r\n  typeCache: SparseDataCache\r\n  projectileCount: number = 0\r\n  projectileEntityMap: Map<number, Projectile>\r\n\r\n  constructor(tickCount: number, positionOffset: Vector) {\r\n    this.positionCache = new VectorCache(tickCount, positionOffset)\r\n    this.rotationCache = new VectorCache(tickCount)\r\n    this.teamNumberCache = new SparseDataCache(tickCount, 1, 8, 6)\r\n    this.typeCache = new SparseDataCache(tickCount, 1, 8, 6)\r\n    this.projectileEntityMap = new Map<number, Projectile>()\r\n  }\r\n\r\n  setProjectile(tick: number, projectile: Projectile, entityId: number) {\r\n    if (!this.projectileEntityMap.get(entityId)) {\r\n      this.projectileEntityMap.set(entityId, projectile)\r\n    }\r\n    this.positionCache.setVector(entityId, tick, projectile.position)\r\n    this.rotationCache.setVector(entityId, tick, projectile.rotation)\r\n    this.teamNumberCache.set(entityId, tick, projectile.teamNumber)\r\n    this.typeCache.set(entityId, tick, projectile.type)\r\n  }\r\n\r\n  getProjectile(tick: number, entityId: number): CachedProjectile | null {\r\n    if (this.positionCache.get(entityId, tick, 0) === 0) {\r\n      return null\r\n    }\r\n    const type = ProjectileTypeMap[this.typeCache.get(entityId, tick)]\r\n\r\n    if (!type) {\r\n      return null\r\n    }\r\n\r\n    return {\r\n      entityId: entityId,\r\n      position: this.positionCache.getVector(entityId, tick),\r\n      rotation: this.rotationCache.getVector(entityId, tick),\r\n      teamNumber: this.teamNumberCache.get(entityId, tick),\r\n      type: type,\r\n    }\r\n  }\r\n\r\n  getProjectiles(tick: number) {\r\n    let projectiles: CachedProjectile[] = []\r\n\r\n    for (const [entityId] of this.projectileEntityMap.entries()) {\r\n      const projectile = this.getProjectile(tick, entityId)\r\n      if (projectile) {\r\n        projectiles.push(projectile)\r\n      }\r\n    }\r\n\r\n    return projectiles\r\n  }\r\n\r\n  static rehydrate(data: ProjectileCache) {\r\n    VectorCache.rehydrate(data.positionCache)\r\n    VectorCache.rehydrate(data.rotationCache)\r\n    SparseDataCache.rehydrate(data.teamNumberCache)\r\n    SparseDataCache.rehydrate(data.typeCache)\r\n\r\n    Object.setPrototypeOf(data, ProjectileCache.prototype)\r\n  }\r\n}\r\n","import { Demo, Header, Player, Match } from '@bryjch/demo.js/build'\r\nimport { Building } from '@bryjch/demo.js/build/Data/Building'\r\nimport { PlayerResource } from '@bryjch/demo.js/build/Data/PlayerResource'\r\nimport { Projectile } from '@bryjch/demo.js/build/Data/Projectile'\r\n\r\nimport { getMapBoundaries } from '../MapBoundries'\r\nimport { PlayerCache, CachedPlayer } from './PlayerCache'\r\nimport { BuildingCache, CachedBuilding } from './BuildingCache'\r\nimport { ProjectileCache } from './ProjectileCache'\r\nimport { Round } from './Types'\r\n\r\nexport { CachedPlayer } from './PlayerCache'\r\n\r\nexport interface CachedDeath {\r\n  tick: number\r\n  victim: Player\r\n  assister: Player | null\r\n  killer: Player | null\r\n  weapon: string\r\n  victimTeam: number\r\n  assisterTeam: number\r\n  killerTeam: number\r\n}\r\n\r\nexport class Parser {\r\n  buffer: ArrayBuffer\r\n  demo: Demo\r\n  header: Header\r\n  playerCache: PlayerCache\r\n  entityPlayerReverseMap: Map<string, number> = new Map()\r\n  nextMappedPlayer = 0\r\n  entityPlayerMap: Map<number, Player> = new Map()\r\n  ticks: number\r\n  match: Match\r\n  startTick = 0\r\n  deaths: { [tick: string]: CachedDeath[] } = {}\r\n  rounds: Round[]\r\n  buildingCache: BuildingCache\r\n  projectileCache: ProjectileCache\r\n\r\n  constructor(buffer: ArrayBuffer) {\r\n    this.buffer = buffer\r\n    this.demo = new Demo(buffer)\r\n  }\r\n\r\n  scaleTick(matchTick: number): number {\r\n    return Math.ceil((matchTick - this.startTick) / 2)\r\n  }\r\n\r\n  setTick(\r\n    tick: number,\r\n    players: Player[],\r\n    buildings: Map<number, Building>,\r\n    playerResources: PlayerResource[],\r\n    projectiles: Map<number, Projectile>\r\n  ) {\r\n    for (const player of players) {\r\n      if (player.user.steamId !== 'BOT') {\r\n        const playerId = this.getPlayerId(player)\r\n        this.playerCache.setPlayer(tick, playerId, player, playerResources[player.user.entityId])\r\n      }\r\n    }\r\n    for (const building of buildings.values()) {\r\n      if (building.health > 0) {\r\n        this.buildingCache.setBuilding(tick, building, building.builder, building.team)\r\n      }\r\n    }\r\n\r\n    for (const [entityId, projectile] of projectiles.entries()) {\r\n      this.projectileCache.setProjectile(tick, projectile, entityId)\r\n    }\r\n  }\r\n\r\n  cacheData(progressCallback: (progress: number) => void) {\r\n    const parser = this.demo.getParser()\r\n    const analyser = this.demo.getAnalyser()\r\n    const packets = analyser.getPackets()\r\n    this.header = parser.getHeader()\r\n    this.match = analyser.match\r\n\r\n    // skip invalid packets\r\n    while (this.match.world.boundaryMin.x === 0) {\r\n      packets.next()\r\n    }\r\n\r\n    // over write map boundaries\r\n    const boundaryOverWrite = getMapBoundaries(this.header.map)\r\n    if (boundaryOverWrite) {\r\n      this.match.world.boundaryMax.x = boundaryOverWrite.boundaryMax.x\r\n      this.match.world.boundaryMax.y = boundaryOverWrite.boundaryMax.y\r\n      this.match.world.boundaryMin.x = boundaryOverWrite.boundaryMin.x\r\n      this.match.world.boundaryMin.y = boundaryOverWrite.boundaryMin.y\r\n    } else {\r\n      throw new Error(`Map not supported \"${this.header.map}\".`)\r\n    }\r\n\r\n    // skip to >1sec after the first player joined\r\n    while (this.match.playerEntityMap.size < 1) {\r\n      packets.next()\r\n    }\r\n    for (let i = 0; i < 100; i++) {\r\n      packets.next()\r\n    }\r\n    this.startTick = this.match.tick\r\n    this.ticks = Math.ceil(this.header.ticks / 2) // scale down to 30fps\r\n    this.playerCache = new PlayerCache(this.ticks, this.match.world.boundaryMin)\r\n    this.buildingCache = new BuildingCache(this.ticks, this.match.world.boundaryMin)\r\n    this.projectileCache = new ProjectileCache(this.ticks, this.match.world.boundaryMin)\r\n\r\n    let lastTick = 0\r\n    let lastProgress = 0\r\n\r\n    // process packets\r\n    for (const packet of packets) {\r\n      const tick = Math.floor((this.match.tick - this.startTick) / 2)\r\n      const progress = Math.round((tick / this.ticks) * 100)\r\n      if (progress > lastProgress) {\r\n        lastProgress = progress\r\n        progressCallback(progress)\r\n      }\r\n      if (tick > lastTick) {\r\n        this.setTick(\r\n          tick,\r\n          Array.from(this.match.playerEntityMap.values()),\r\n          this.match.buildings,\r\n          this.match.playerResources,\r\n          this.match.projectileEntityMap\r\n        )\r\n        if (tick > lastTick + 1) {\r\n          // demo skipped ticks, copy/interpolote\r\n          for (let i = lastTick; i < tick; i++) {\r\n            this.setTick(\r\n              i,\r\n              Array.from(this.match.playerEntityMap.values()),\r\n              this.match.buildings,\r\n              this.match.playerResources,\r\n              this.match.projectileEntityMap\r\n            )\r\n          }\r\n        }\r\n        lastTick = tick\r\n      }\r\n    }\r\n\r\n    for (const round of this.match.rounds) {\r\n      const endTick = this.scaleTick(round.endTick)\r\n      round.endTick = endTick\r\n    }\r\n\r\n    // process deaths\r\n    for (const death of this.match.deaths) {\r\n      const deathTick = this.scaleTick(death.tick)\r\n      if (!this.deaths[deathTick]) {\r\n        this.deaths[deathTick] = []\r\n      }\r\n      let killer: Player | null\r\n      try {\r\n        killer = this.match.getPlayerByUserId(death.killer)\r\n      } catch (e) {\r\n        killer = null\r\n      }\r\n      let victim: Player | null = null\r\n      let assister: Player | null = null\r\n      try {\r\n        victim = this.match.getPlayerByUserId(death.victim)\r\n        if (!victim) {\r\n          continue\r\n        }\r\n      } catch (e) {\r\n        continue\r\n      }\r\n      try {\r\n        assister = death.assister ? this.match.getPlayerByUserId(death.assister) : null\r\n      } catch (e) {}\r\n\r\n      const killerId = killer\r\n        ? (this.entityPlayerReverseMap.get(killer.user.steamId) as number)\r\n        : null\r\n      const assisterId = assister\r\n        ? (this.entityPlayerReverseMap.get(assister.user.steamId) as number)\r\n        : null\r\n      const victimId = this.entityPlayerReverseMap.get(victim.user.steamId) as number\r\n\r\n      this.deaths[deathTick].push({\r\n        tick: deathTick,\r\n        victim: victim,\r\n        killer: killer,\r\n        assister: assister,\r\n        weapon: death.weapon,\r\n        victimTeam: this.playerCache.metaCache.getMeta(victimId, deathTick).teamId,\r\n        assisterTeam: assisterId\r\n          ? this.playerCache.metaCache.getMeta(assisterId, deathTick).teamId\r\n          : 0,\r\n        killerTeam: killerId ? this.playerCache.metaCache.getMeta(killerId, deathTick).teamId : 0,\r\n      })\r\n    }\r\n  }\r\n\r\n  private getPlayerId(player: Player): number {\r\n    if (!this.entityPlayerReverseMap.has(player.user.steamId)) {\r\n      this.entityPlayerMap.set(this.nextMappedPlayer, player)\r\n      this.entityPlayerReverseMap.set(player.user.steamId, this.nextMappedPlayer)\r\n      this.nextMappedPlayer++\r\n    }\r\n    return this.entityPlayerReverseMap.get(player.user.steamId) as number\r\n  }\r\n\r\n  getPlayersAtTick(tick: number) {\r\n    const players: CachedPlayer[] = []\r\n    for (let i = 0; i < this.nextMappedPlayer; i++) {\r\n      let entity = this.entityPlayerMap.get(i)\r\n      if (entity) {\r\n        players.push(this.playerCache.getPlayer(tick, i, entity.user))\r\n      }\r\n    }\r\n    return players\r\n  }\r\n\r\n  getBuildingAtTick(tick: number): CachedBuilding[] {\r\n    return this.buildingCache.getBuildings(tick)\r\n  }\r\n}\r\n","import { Parser } from './Parser'\r\nimport { CachedDemo } from './AsyncParser'\r\n\r\ndeclare function postMessage(message: any, transfer?: any[]): void\r\n\r\n/**\r\n * @global postMessage\r\n * @param event\r\n */\r\nonmessage = (event: MessageEvent) => {\r\n  const buffer = event.data.buffer\r\n  const parser = new Parser(buffer)\r\n\r\n  try {\r\n    parser.cacheData(progress => {\r\n      postMessage({ progress })\r\n    })\r\n  } catch (e) {\r\n    console.error(e)\r\n    postMessage({\r\n      error: e.message,\r\n    })\r\n    return\r\n  }\r\n\r\n  const cachedDemo: CachedDemo = {\r\n    ticks: parser.ticks,\r\n    header: parser.header,\r\n    playerCache: parser.playerCache,\r\n    buildingCache: parser.buildingCache,\r\n    projectileCache: parser.projectileCache,\r\n    deaths: parser.deaths,\r\n    intervalPerTick: parser.match.intervalPerTick * 2,\r\n    world: parser.match.world,\r\n    rounds: parser.match.rounds,\r\n    nextMappedPlayer: parser.nextMappedPlayer,\r\n    entityPlayerMap: parser.entityPlayerMap,\r\n    now: performance.now(),\r\n  }\r\n\r\n  let transfers: (ArrayBuffer | SharedArrayBuffer)[] = []\r\n  transfers = transfers.concat(parser.playerCache.positionCache.data.map(cache => cache.buffer))\r\n  transfers = transfers.concat(parser.playerCache.viewAnglesCache.data.map(cache => cache.buffer))\r\n  transfers = transfers.concat(parser.playerCache.healthCache.data.map(cache => cache.buffer))\r\n  transfers = transfers.concat(parser.playerCache.metaCache.data.map(cache => cache.buffer))\r\n  transfers = transfers.concat(parser.playerCache.connectedCache.data.map(cache => cache.buffer))\r\n\r\n  postMessage(cachedDemo, transfers)\r\n}\r\n"],"sourceRoot":""}